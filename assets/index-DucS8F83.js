function jO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(t,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Kh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lp={exports:{}},oc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE;function UO(){if(SE)return oc;SE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:t,type:r,key:c,ref:s!==void 0?s:null,props:l}}return oc.Fragment=e,oc.jsx=n,oc.jsxs=n,oc}var AE;function zO(){return AE||(AE=1,Lp.exports=UO()),Lp.exports}var T=zO(),jp={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function BO(){if(xE)return Ve;xE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=_&&V[_]||V["@@iterator"],typeof V=="function"?V:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,D={};function I(V,te,fe){this.props=V,this.context=te,this.refs=D,this.updater=fe||A}I.prototype.isReactComponent={},I.prototype.setState=function(V,te){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,te,"setState")},I.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function P(){}P.prototype=I.prototype;function q(V,te,fe){this.props=V,this.context=te,this.refs=D,this.updater=fe||A}var B=q.prototype=new P;B.constructor=q,x(B,I.prototype),B.isPureReactComponent=!0;var K=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},le=Object.prototype.hasOwnProperty;function M(V,te,fe,re,he,Se){return fe=Se.ref,{$$typeof:t,type:V,key:te,ref:fe!==void 0?fe:null,props:Se}}function R(V,te){return M(V.type,te,void 0,void 0,void 0,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function L(V){var te={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(fe){return te[fe]})}var U=/\/+/g;function z(V,te){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):te.toString(36)}function k(){}function xe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(k,k):(V.status="pending",V.then(function(te){V.status==="pending"&&(V.status="fulfilled",V.value=te)},function(te){V.status==="pending"&&(V.status="rejected",V.reason=te)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function be(V,te,fe,re,he){var Se=typeof V;(Se==="undefined"||Se==="boolean")&&(V=null);var _e=!1;if(V===null)_e=!0;else switch(Se){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(V.$$typeof){case t:case e:_e=!0;break;case y:return _e=V._init,be(_e(V._payload),te,fe,re,he)}}if(_e)return he=he(V),_e=re===""?"."+z(V,0):re,K(he)?(fe="",_e!=null&&(fe=_e.replace(U,"$&/")+"/"),be(he,te,fe,"",function(qe){return qe})):he!=null&&(N(he)&&(he=R(he,fe+(he.key==null||V&&V.key===he.key?"":(""+he.key).replace(U,"$&/")+"/")+_e)),te.push(he)),1;_e=0;var Te=re===""?".":re+":";if(K(V))for(var ke=0;ke<V.length;ke++)re=V[ke],Se=Te+z(re,ke),_e+=be(re,te,fe,Se,he);else if(ke=w(V),typeof ke=="function")for(V=ke.call(V),ke=0;!(re=V.next()).done;)re=re.value,Se=Te+z(re,ke++),_e+=be(re,te,fe,Se,he);else if(Se==="object"){if(typeof V.then=="function")return be(xe(V),te,fe,re,he);throw te=String(V),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return _e}function G(V,te,fe){if(V==null)return V;var re=[],he=0;return be(V,re,"","",function(Se){return te.call(fe,Se,he++)}),re}function ue(V){if(V._status===-1){var te=V._result;te=te(),te.then(function(fe){(V._status===0||V._status===-1)&&(V._status=1,V._result=fe)},function(fe){(V._status===0||V._status===-1)&&(V._status=2,V._result=fe)}),V._status===-1&&(V._status=0,V._result=te)}if(V._status===1)return V._result.default;throw V._result}var Z=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function ce(){}return Ve.Children={map:G,forEach:function(V,te,fe){G(V,function(){te.apply(this,arguments)},fe)},count:function(V){var te=0;return G(V,function(){te++}),te},toArray:function(V){return G(V,function(te){return te})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ve.Component=I,Ve.Fragment=n,Ve.Profiler=s,Ve.PureComponent=q,Ve.StrictMode=r,Ve.Suspense=m,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(V){return J.H.useMemoCache(V)}},Ve.cache=function(V){return function(){return V.apply(null,arguments)}},Ve.cloneElement=function(V,te,fe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var re=x({},V.props),he=V.key,Se=void 0;if(te!=null)for(_e in te.ref!==void 0&&(Se=void 0),te.key!==void 0&&(he=""+te.key),te)!le.call(te,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&te.ref===void 0||(re[_e]=te[_e]);var _e=arguments.length-2;if(_e===1)re.children=fe;else if(1<_e){for(var Te=Array(_e),ke=0;ke<_e;ke++)Te[ke]=arguments[ke+2];re.children=Te}return M(V.type,he,void 0,void 0,Se,re)},Ve.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Ve.createElement=function(V,te,fe){var re,he={},Se=null;if(te!=null)for(re in te.key!==void 0&&(Se=""+te.key),te)le.call(te,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(he[re]=te[re]);var _e=arguments.length-2;if(_e===1)he.children=fe;else if(1<_e){for(var Te=Array(_e),ke=0;ke<_e;ke++)Te[ke]=arguments[ke+2];he.children=Te}if(V&&V.defaultProps)for(re in _e=V.defaultProps,_e)he[re]===void 0&&(he[re]=_e[re]);return M(V,Se,void 0,void 0,null,he)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(V){return{$$typeof:d,render:V}},Ve.isValidElement=N,Ve.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:ue}},Ve.memo=function(V,te){return{$$typeof:g,type:V,compare:te===void 0?null:te}},Ve.startTransition=function(V){var te=J.T,fe={};J.T=fe;try{var re=V(),he=J.S;he!==null&&he(fe,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ce,Z)}catch(Se){Z(Se)}finally{J.T=te}},Ve.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Ve.use=function(V){return J.H.use(V)},Ve.useActionState=function(V,te,fe){return J.H.useActionState(V,te,fe)},Ve.useCallback=function(V,te){return J.H.useCallback(V,te)},Ve.useContext=function(V){return J.H.useContext(V)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(V,te){return J.H.useDeferredValue(V,te)},Ve.useEffect=function(V,te,fe){var re=J.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(V,te)},Ve.useId=function(){return J.H.useId()},Ve.useImperativeHandle=function(V,te,fe){return J.H.useImperativeHandle(V,te,fe)},Ve.useInsertionEffect=function(V,te){return J.H.useInsertionEffect(V,te)},Ve.useLayoutEffect=function(V,te){return J.H.useLayoutEffect(V,te)},Ve.useMemo=function(V,te){return J.H.useMemo(V,te)},Ve.useOptimistic=function(V,te){return J.H.useOptimistic(V,te)},Ve.useReducer=function(V,te,fe){return J.H.useReducer(V,te,fe)},Ve.useRef=function(V){return J.H.useRef(V)},Ve.useState=function(V){return J.H.useState(V)},Ve.useSyncExternalStore=function(V,te,fe){return J.H.useSyncExternalStore(V,te,fe)},Ve.useTransition=function(){return J.H.useTransition()},Ve.version="19.1.0",Ve}var RE;function Tv(){return RE||(RE=1,jp.exports=BO()),jp.exports}var S=Tv();const xn=Kh(S),vA=jO({__proto__:null,default:xn},[S]);var Up={exports:{}},lc={},zp={exports:{}},Bp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function FO(){return CE||(CE=1,function(t){function e(G,ue){var Z=G.length;G.push(ue);e:for(;0<Z;){var ce=Z-1>>>1,V=G[ce];if(0<s(V,ue))G[ce]=ue,G[Z]=V,Z=ce;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ue=G[0],Z=G.pop();if(Z!==ue){G[0]=Z;e:for(var ce=0,V=G.length,te=V>>>1;ce<te;){var fe=2*(ce+1)-1,re=G[fe],he=fe+1,Se=G[he];if(0>s(re,Z))he<V&&0>s(Se,re)?(G[ce]=Se,G[he]=Z,ce=he):(G[ce]=re,G[fe]=Z,ce=fe);else if(he<V&&0>s(Se,Z))G[ce]=Se,G[he]=Z,ce=he;else break e}}return ue}function s(G,ue){var Z=G.sortIndex-ue.sortIndex;return Z!==0?Z:G.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],g=[],y=1,_=null,w=3,A=!1,x=!1,D=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function K(G){for(var ue=n(g);ue!==null;){if(ue.callback===null)r(g);else if(ue.startTime<=G)r(g),ue.sortIndex=ue.expirationTime,e(m,ue);else break;ue=n(g)}}function J(G){if(D=!1,K(G),!x)if(n(m)!==null)x=!0,le||(le=!0,z());else{var ue=n(g);ue!==null&&be(J,ue.startTime-G)}}var le=!1,M=-1,R=5,N=-1;function L(){return I?!0:!(t.unstable_now()-N<R)}function U(){if(I=!1,le){var G=t.unstable_now();N=G;var ue=!0;try{e:{x=!1,D&&(D=!1,q(M),M=-1),A=!0;var Z=w;try{t:{for(K(G),_=n(m);_!==null&&!(_.expirationTime>G&&L());){var ce=_.callback;if(typeof ce=="function"){_.callback=null,w=_.priorityLevel;var V=ce(_.expirationTime<=G);if(G=t.unstable_now(),typeof V=="function"){_.callback=V,K(G),ue=!0;break t}_===n(m)&&r(m),K(G)}else r(m);_=n(m)}if(_!==null)ue=!0;else{var te=n(g);te!==null&&be(J,te.startTime-G),ue=!1}}break e}finally{_=null,w=Z,A=!1}ue=void 0}}finally{ue?z():le=!1}}}var z;if(typeof B=="function")z=function(){B(U)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,xe=k.port2;k.port1.onmessage=U,z=function(){xe.postMessage(null)}}else z=function(){P(U,0)};function be(G,ue){M=P(function(){G(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(G){switch(w){case 1:case 2:case 3:var ue=3;break;default:ue=w}var Z=w;w=ue;try{return G()}finally{w=Z}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(G,ue){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Z=w;w=G;try{return ue()}finally{w=Z}},t.unstable_scheduleCallback=function(G,ue,Z){var ce=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ce+Z:ce):Z=ce,G){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Z+V,G={id:y++,callback:ue,priorityLevel:G,startTime:Z,expirationTime:V,sortIndex:-1},Z>ce?(G.sortIndex=Z,e(g,G),n(m)===null&&G===n(g)&&(D?(q(M),M=-1):D=!0,be(J,Z-ce))):(G.sortIndex=V,e(m,G),x||A||(x=!0,le||(le=!0,z()))),G},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(G){var ue=w;return function(){var Z=w;w=ue;try{return G.apply(this,arguments)}finally{w=Z}}}}(Bp)),Bp}var DE;function qO(){return DE||(DE=1,zp.exports=FO()),zp.exports}var Fp={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function HO(){if(IE)return Tn;IE=1;var t=Tv();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(m,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:m,containerInfo:g,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tn.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,y)},Tn.flushSync=function(m){var g=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=g,r.p=y,r.d.f()}},Tn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},Tn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Tn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:A}):y==="script"&&r.d.X(m,{crossOrigin:_,integrity:w,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Tn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},Tn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin);r.d.L(m,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Tn.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},Tn.requestFormReset=function(m){r.d.r(m)},Tn.unstable_batchedUpdates=function(m,g){return m(g)},Tn.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},Tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tn.version="19.1.0",Tn}var OE;function _A(){if(OE)return Fp.exports;OE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fp.exports=HO(),Fp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function GO(){if(NE)return lc;NE=1;var t=qO(),e=Tv(),n=_A();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var a=i,o=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(o=a.return),i=a.return;while(i)}return a.tag===3?o:null}function c(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function m(i){var a=i.alternate;if(!a){if(a=l(i),a===null)throw Error(r(188));return a!==i?null:i}for(var o=i,u=a;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return d(h),i;if(p===u)return d(h),a;p=p.sibling}throw Error(r(188))}if(o.return!==u.return)o=h,u=p;else{for(var E=!1,C=h.child;C;){if(C===o){E=!0,o=h,u=p;break}if(C===u){E=!0,u=h,o=p;break}C=C.sibling}if(!E){for(C=p.child;C;){if(C===o){E=!0,o=p,u=h;break}if(C===u){E=!0,u=p,o=h;break}C=C.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:a}function g(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=g(i),a!==null)return a;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),B=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function xe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case I:return"Profiler";case D:return"StrictMode";case J:return"Suspense";case le:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case B:return(i.displayName||"Context")+".Provider";case q:return(i._context.displayName||"Context")+".Consumer";case K:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return a=i.displayName||null,a!==null?a:xe(i.type)||"Memo";case R:a=i._payload,i=i._init;try{return xe(i(a))}catch{}}return null}var be=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ce=[],V=-1;function te(i){return{current:i}}function fe(i){0>V||(i.current=ce[V],ce[V]=null,V--)}function re(i,a){V++,ce[V]=i.current,i.current=a}var he=te(null),Se=te(null),_e=te(null),Te=te(null);function ke(i,a){switch(re(_e,a),re(Se,i),re(he,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?Z0(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=Z0(a),i=J0(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}fe(he),re(he,i)}function qe(){fe(he),fe(Se),fe(_e)}function bt(i){i.memoizedState!==null&&re(Te,i);var a=he.current,o=J0(a,i.type);a!==o&&(re(Se,i),re(he,o))}function Pt(i){Se.current===i&&(fe(he),fe(Se)),Te.current===i&&(fe(Te),nc._currentValue=Z)}var kt=Object.prototype.hasOwnProperty,ln=t.unstable_scheduleCallback,rt=t.unstable_cancelCallback,Hn=t.unstable_shouldYield,Gt=t.unstable_requestPaint,$t=t.unstable_now,da=t.unstable_getCurrentPriorityLevel,Gn=t.unstable_ImmediatePriority,ha=t.unstable_UserBlockingPriority,yi=t.unstable_NormalPriority,lu=t.unstable_LowPriority,vi=t.unstable_IdlePriority,ps=t.log,vo=t.unstable_setDisableYieldValue,yt=null,tt=null;function On(i){if(typeof ps=="function"&&vo(i),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(yt,i)}catch{}}var Vt=Math.clz32?Math.clz32:_i,ys=Math.log,_o=Math.LN2;function _i(i){return i>>>=0,i===0?32:31-(ys(i)/_o|0)|0}var ar=256,zr=4194304;function $n(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function wi(i,a,o){var u=i.pendingLanes;if(u===0)return 0;var h=0,p=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var C=u&134217727;return C!==0?(u=C&~p,u!==0?h=$n(u):(E&=C,E!==0?h=$n(E):o||(o=C&~i,o!==0&&(h=$n(o))))):(C=u&~p,C!==0?h=$n(C):E!==0?h=$n(E):o||(o=u&~i,o!==0&&(h=$n(o)))),h===0?0:a!==0&&a!==h&&(a&p)===0&&(p=h&-h,o=a&-a,p>=o||p===32&&(o&4194048)!==0)?a:h}function Br(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function bi(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vs(){var i=ar;return ar<<=1,(ar&4194048)===0&&(ar=256),i}function ma(){var i=zr;return zr<<=1,(zr&62914560)===0&&(zr=4194304),i}function Tr(i){for(var a=[],o=0;31>o;o++)a.push(i);return a}function sr(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Lt(i,a,o,u,h,p){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var C=i.entanglements,j=i.expirationTimes,W=i.hiddenUpdates;for(o=E&~o;0<o;){var ne=31-Vt(o),ae=1<<ne;C[ne]=0,j[ne]=-1;var Q=W[ne];if(Q!==null)for(W[ne]=null,ne=0;ne<Q.length;ne++){var X=Q[ne];X!==null&&(X.lane&=-536870913)}o&=~ae}u!==0&&gt(i,u,0),p!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=p&~(E&~a))}function gt(i,a,o){i.pendingLanes|=a,i.suspendedLanes&=~a;var u=31-Vt(a);i.entangledLanes|=a,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function Fr(i,a){var o=i.entangledLanes|=a;for(i=i.entanglements;o;){var u=31-Vt(o),h=1<<u;h&a|i[u]&a&&(i[u]|=a),o&=~h}}function Je(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function un(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function qr(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:vE(i.type))}function ga(i,a){var o=ue.p;try{return ue.p=i,a()}finally{ue.p=o}}var dt=Math.random().toString(36).slice(2),At="__reactFiber$"+dt,vt="__reactProps$"+dt,cn="__reactContainer$"+dt,Ei="__reactEvents$"+dt,_s="__reactListeners$"+dt,or="__reactHandles$"+dt,wo="__reactResources$"+dt,Sr="__reactMarker$"+dt;function Ar(i){delete i[At],delete i[vt],delete i[Ei],delete i[_s],delete i[or]}function xr(i){var a=i[At];if(a)return a;for(var o=i.parentNode;o;){if(a=o[cn]||o[At]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(i=rE(i);i!==null;){if(o=i[At])return o;i=rE(i)}return a}i=o,o=i.parentNode}return null}function lr(i){if(i=i[At]||i[cn]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Ie(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Be(i){var a=i[wo];return a||(a=i[wo]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Pe(i){i[Sr]=!0}var fn=new Set,en={};function Nn(i,a){Rr(i,a),Rr(i+"Capture",a)}function Rr(i,a){for(en[i]=a,i=0;i<a.length;i++)fn.add(a[i])}var bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yf={},ws={};function vf(i){return kt.call(ws,i)?!0:kt.call(yf,i)?!1:bo.test(i)?ws[i]=!0:(yf[i]=!0,!1)}function pa(i,a,o){if(vf(a))if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+o)}}function Hr(i,a,o){if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+o)}}function dn(i,a,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(a,o,""+u)}}var bs,_f;function Ti(i){if(bs===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);bs=a&&a[1]||"",_f=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bs+i+_f}var Eo=!1;function To(i,a){if(!i||Eo)return"";Eo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(X){var Q=X}Reflect.construct(i,[],ae)}else{try{ae.call()}catch(X){Q=X}i.call(ae.prototype)}}else{try{throw Error()}catch(X){Q=X}(ae=i())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],C=p[1];if(E&&C){var j=E.split(`
`),W=C.split(`
`);for(h=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;h<W.length&&!W[h].includes("DetermineComponentFrameRoot");)h++;if(u===j.length||h===W.length)for(u=j.length-1,h=W.length-1;1<=u&&0<=h&&j[u]!==W[h];)h--;for(;1<=u&&0<=h;u--,h--)if(j[u]!==W[h]){if(u!==1||h!==1)do if(u--,h--,0>h||j[u]!==W[h]){var ne=`
`+j[u].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=u&&0<=h);break}}}finally{Eo=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ti(o):""}function uu(i){switch(i.tag){case 26:case 27:case 5:return Ti(i.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return To(i.type,!1);case 11:return To(i.type.render,!1);case 1:return To(i.type,!0);case 31:return Ti("Activity");default:return""}}function So(i){try{var a="";do a+=uu(i),i=i.return;while(i);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Mn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function cu(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Bm(i){var a=cu(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),u=""+i[a];if(!i.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return h.call(this)},set:function(E){u=""+E,p.call(this,E)}}),Object.defineProperty(i,a,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Ao(i){i._valueTracker||(i._valueTracker=Bm(i))}function fu(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return i&&(u=cu(i)?i.checked?"true":"false":i.value),i=u,i!==o?(a.setValue(i),!0):!1}function Es(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Fm=/[\n"\\]/g;function jt(i){return i.replace(Fm,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Yn(i,a,o,u,h,p,E,C){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),a!=null?E==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Mn(a)):i.value!==""+Mn(a)&&(i.value=""+Mn(a)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),a!=null?ya(i,E,Mn(a)):o!=null?ya(i,E,Mn(o)):u!=null&&i.removeAttribute("value"),h==null&&p!=null&&(i.defaultChecked=!!p),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+Mn(C):i.removeAttribute("name")}function Ts(i,a,o,u,h,p,E,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),a!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;o=o!=null?""+Mn(o):"",a=a!=null?""+Mn(a):o,C||a===i.value||(i.value=a),i.defaultValue=a}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=C?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function ya(i,a,o){a==="number"&&Es(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Si(i,a,o,u){if(i=i.options,a){a={};for(var h=0;h<o.length;h++)a["$"+o[h]]=!0;for(o=0;o<i.length;o++)h=a.hasOwnProperty("$"+i[o].value),i[o].selected!==h&&(i[o].selected=h),h&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Mn(o),a=null,h=0;h<i.length;h++){if(i[h].value===o){i[h].selected=!0,u&&(i[h].defaultSelected=!0);return}a!==null||i[h].disabled||(a=i[h])}a!==null&&(a.selected=!0)}}function lt(i,a,o){if(a!=null&&(a=""+Mn(a),a!==i.value&&(i.value=a),o==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=o!=null?""+Mn(o):""}function Ss(i,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(r(92));if(be(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=Mn(a),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function ur(i,a){if(a){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=a;return}}i.textContent=a}var As=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wf(i,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":u?i.setProperty(a,o):typeof o!="number"||o===0||As.has(a)?a==="float"?i.cssFloat=o:i[a]=(""+o).trim():i[a]=o+"px"}function du(i,a,o){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var h in a)u=a[h],a.hasOwnProperty(h)&&o[h]!==u&&wf(i,h,u)}else for(var p in a)a.hasOwnProperty(p)&&wf(i,p,a[p])}function hu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xo(i){return Hm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ai=null;function cr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var xi=null,Ri=null;function mu(i){var a=lr(i);if(a&&(i=a.stateNode)){var o=i[vt]||null;e:switch(i=a.stateNode,a.type){case"input":if(Yn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+jt(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==i&&u.form===i.form){var h=u[vt]||null;if(!h)throw Error(r(90));Yn(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===i.form&&fu(u)}break e;case"textarea":lt(i,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&Si(i,!!o.multiple,a,!1)}}}var Gr=!1;function bf(i,a,o){if(Gr)return i(a,o);Gr=!0;try{var u=i(a);return u}finally{if(Gr=!1,(xi!==null||Ri!==null)&&(md(),xi&&(a=xi,i=Ri,Ri=xi=null,mu(a),i)))for(a=0;a<i.length;a++)mu(i[a])}}function xs(i,a){var o=i.stateNode;if(o===null)return null;var u=o[vt]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,a,typeof o));return o}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fr=!1;if(Cr)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){fr=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{fr=!1}var $r=null,va=null,Ci=null;function gu(){if(Ci)return Ci;var i,a=va,o=a.length,u,h="value"in $r?$r.value:$r.textContent,p=h.length;for(i=0;i<o&&a[i]===h[i];i++);var E=o-i;for(u=1;u<=E&&a[o-u]===h[p-u];u++);return Ci=h.slice(i,1<u?1-u:void 0)}function Yr(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Wr(){return!0}function pu(){return!1}function tn(i){function a(o,u,h,p,E){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(o=i[C],this[C]=o?o(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Wr:pu,this.isPropagationStopped=pu,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Wr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Wr)},persist:function(){},isPersistent:Wr}),a}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ro=tn(it),Cs=y({},it,{view:0,detail:0}),Ef=tn(Cs),Co,Do,Kr,Ds=y({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Kr&&(Kr&&i.type==="mousemove"?(Co=i.screenX-Kr.screenX,Do=i.screenY-Kr.screenY):Do=Co=0,Kr=i),Co)},movementY:function(i){return"movementY"in i?i.movementY:Do}}),dr=tn(Ds),Tf=y({},Ds,{dataTransfer:0}),Gm=tn(Tf),Is=y({},Cs,{relatedTarget:0}),Io=tn(Is),yu=y({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),Oo=tn(yu),Sf=y({},it,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),No=tn(Sf),$m=y({},it,{data:0}),vu=tn($m),Os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Af={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=xf[i])?!!a[i]:!1}function Ns(){return _u}var Rf=y({},Cs,{key:function(i){if(i.key){var a=Os[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Yr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Af[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(i){return i.type==="keypress"?Yr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Yr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Mo=tn(Rf),Cf=y({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wu=tn(Cf),Di=y({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),Df=tn(Di),If=y({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),Of=tn(If),Nf=y({},Ds,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Po=tn(Nf),Pn=y({},it,{newState:0,oldState:0}),Mf=tn(Pn),Pf=[9,13,27,32],Qr=Cr&&"CompositionEvent"in window,f=null;Cr&&"documentMode"in document&&(f=document.documentMode);var v=Cr&&"TextEvent"in window&&!f,b=Cr&&(!Qr||f&&8<f&&11>=f),O=" ",$=!1;function ee(i,a){switch(i){case"keyup":return Pf.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ke=!1;function Yt(i,a){switch(i){case"compositionend":return de(a);case"keypress":return a.which!==32?null:($=!0,O);case"textInput":return i=a.data,i===O&&$?null:i;default:return null}}function Qe(i,a){if(Ke)return i==="compositionend"||!Qr&&ee(i,a)?(i=gu(),Ci=va=$r=null,Ke=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return b&&a.locale!=="ko"?null:a.data;default:return null}}var nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wt(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!nn[i.type]:a==="textarea"}function Ii(i,a,o,u){xi?Ri?Ri.push(u):Ri=[u]:xi=u,a=wd(a,"onChange"),0<a.length&&(o=new Ro("onChange","change",null,o,u),i.push({event:o,listeners:a}))}var hn=null,Xr=null;function bu(i){Y0(i,0)}function kf(i){var a=Ie(i);if(fu(a))return i}function mw(i,a){if(i==="change")return a}var gw=!1;if(Cr){var Ym;if(Cr){var Wm="oninput"in document;if(!Wm){var pw=document.createElement("div");pw.setAttribute("oninput","return;"),Wm=typeof pw.oninput=="function"}Ym=Wm}else Ym=!1;gw=Ym&&(!document.documentMode||9<document.documentMode)}function yw(){hn&&(hn.detachEvent("onpropertychange",vw),Xr=hn=null)}function vw(i){if(i.propertyName==="value"&&kf(Xr)){var a=[];Ii(a,Xr,i,cr(i)),bf(bu,a)}}function mI(i,a,o){i==="focusin"?(yw(),hn=a,Xr=o,hn.attachEvent("onpropertychange",vw)):i==="focusout"&&yw()}function gI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return kf(Xr)}function pI(i,a){if(i==="click")return kf(a)}function yI(i,a){if(i==="input"||i==="change")return kf(a)}function vI(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Wn=typeof Object.is=="function"?Object.is:vI;function Eu(i,a){if(Wn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var o=Object.keys(i),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!kt.call(a,h)||!Wn(i[h],a[h]))return!1}return!0}function _w(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ww(i,a){var o=_w(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=a&&u>=a)return{node:o,offset:a-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=_w(o)}}function bw(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?bw(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Ew(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Es(i.document);a instanceof i.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)i=a.contentWindow;else break;a=Es(i.document)}return a}function Km(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var _I=Cr&&"documentMode"in document&&11>=document.documentMode,ko=null,Qm=null,Tu=null,Xm=!1;function Tw(i,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Xm||ko==null||ko!==Es(u)||(u=ko,"selectionStart"in u&&Km(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Tu&&Eu(Tu,u)||(Tu=u,u=wd(Qm,"onSelect"),0<u.length&&(a=new Ro("onSelect","select",null,a,o),i.push({event:a,listeners:u}),a.target=ko)))}function Ms(i,a){var o={};return o[i.toLowerCase()]=a.toLowerCase(),o["Webkit"+i]="webkit"+a,o["Moz"+i]="moz"+a,o}var Vo={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},Zm={},Sw={};Cr&&(Sw=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Ps(i){if(Zm[i])return Zm[i];if(!Vo[i])return i;var a=Vo[i],o;for(o in a)if(a.hasOwnProperty(o)&&o in Sw)return Zm[i]=a[o];return i}var Aw=Ps("animationend"),xw=Ps("animationiteration"),Rw=Ps("animationstart"),wI=Ps("transitionrun"),bI=Ps("transitionstart"),EI=Ps("transitioncancel"),Cw=Ps("transitionend"),Dw=new Map,Jm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jm.push("scrollEnd");function Dr(i,a){Dw.set(i,a),Nn(a,[i])}var Iw=new WeakMap;function hr(i,a){if(typeof i=="object"&&i!==null){var o=Iw.get(i);return o!==void 0?o:(a={value:i,source:a,stack:So(a)},Iw.set(i,a),a)}return{value:i,source:a,stack:So(a)}}var mr=[],Lo=0,eg=0;function Vf(){for(var i=Lo,a=eg=Lo=0;a<i;){var o=mr[a];mr[a++]=null;var u=mr[a];mr[a++]=null;var h=mr[a];mr[a++]=null;var p=mr[a];if(mr[a++]=null,u!==null&&h!==null){var E=u.pending;E===null?h.next=h:(h.next=E.next,E.next=h),u.pending=h}p!==0&&Ow(o,h,p)}}function Lf(i,a,o,u){mr[Lo++]=i,mr[Lo++]=a,mr[Lo++]=o,mr[Lo++]=u,eg|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function tg(i,a,o,u){return Lf(i,a,o,u),jf(i)}function jo(i,a){return Lf(i,null,null,a),jf(i)}function Ow(i,a,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var h=!1,p=i.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(h=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,h&&a!==null&&(h=31-Vt(o),i=p.hiddenUpdates,u=i[h],u===null?i[h]=[a]:u.push(a),a.lane=o|536870912),p):null}function jf(i){if(50<Wu)throw Wu=0,op=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Uo={};function TI(i,a,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(i,a,o,u){return new TI(i,a,o,u)}function ng(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Oi(i,a){var o=i.alternate;return o===null?(o=Kn(i.tag,a,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=a,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,a=i.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Nw(i,a){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,a=o.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Uf(i,a,o,u,h,p){var E=0;if(u=i,typeof i=="function")ng(i)&&(E=1);else if(typeof i=="string")E=AO(i,o,he.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=Kn(31,o,a,h),i.elementType=N,i.lanes=p,i;case x:return ks(o.children,h,p,a);case D:E=8,h|=24;break;case I:return i=Kn(12,o,a,h|2),i.elementType=I,i.lanes=p,i;case J:return i=Kn(13,o,a,h),i.elementType=J,i.lanes=p,i;case le:return i=Kn(19,o,a,h),i.elementType=le,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case P:case B:E=10;break e;case q:E=9;break e;case K:E=11;break e;case M:E=14;break e;case R:E=16,u=null;break e}E=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return a=Kn(E,o,a,h),a.elementType=i,a.type=u,a.lanes=p,a}function ks(i,a,o,u){return i=Kn(7,i,u,a),i.lanes=o,i}function rg(i,a,o){return i=Kn(6,i,null,a),i.lanes=o,i}function ig(i,a,o){return a=Kn(4,i.children!==null?i.children:[],i.key,a),a.lanes=o,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var zo=[],Bo=0,zf=null,Bf=0,gr=[],pr=0,Vs=null,Ni=1,Mi="";function Ls(i,a){zo[Bo++]=Bf,zo[Bo++]=zf,zf=i,Bf=a}function Mw(i,a,o){gr[pr++]=Ni,gr[pr++]=Mi,gr[pr++]=Vs,Vs=i;var u=Ni;i=Mi;var h=32-Vt(u)-1;u&=~(1<<h),o+=1;var p=32-Vt(a)+h;if(30<p){var E=h-h%5;p=(u&(1<<E)-1).toString(32),u>>=E,h-=E,Ni=1<<32-Vt(a)+h|o<<h|u,Mi=p+i}else Ni=1<<p|o<<h|u,Mi=i}function ag(i){i.return!==null&&(Ls(i,1),Mw(i,1,0))}function sg(i){for(;i===zf;)zf=zo[--Bo],zo[Bo]=null,Bf=zo[--Bo],zo[Bo]=null;for(;i===Vs;)Vs=gr[--pr],gr[pr]=null,Mi=gr[--pr],gr[pr]=null,Ni=gr[--pr],gr[pr]=null}var kn=null,xt=null,nt=!1,js=null,Zr=!1,og=Error(r(519));function Us(i){var a=Error(r(418,""));throw xu(hr(a,i)),og}function Pw(i){var a=i.stateNode,o=i.type,u=i.memoizedProps;switch(a[At]=i,a[vt]=u,o){case"dialog":Ge("cancel",a),Ge("close",a);break;case"iframe":case"object":case"embed":Ge("load",a);break;case"video":case"audio":for(o=0;o<Qu.length;o++)Ge(Qu[o],a);break;case"source":Ge("error",a);break;case"img":case"image":case"link":Ge("error",a),Ge("load",a);break;case"details":Ge("toggle",a);break;case"input":Ge("invalid",a),Ts(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ao(a);break;case"select":Ge("invalid",a);break;case"textarea":Ge("invalid",a),Ss(a,u.value,u.defaultValue,u.children),Ao(a)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||X0(a.textContent,o)?(u.popover!=null&&(Ge("beforetoggle",a),Ge("toggle",a)),u.onScroll!=null&&Ge("scroll",a),u.onScrollEnd!=null&&Ge("scrollend",a),u.onClick!=null&&(a.onclick=bd),a=!0):a=!1,a||Us(i)}function kw(i){for(kn=i.return;kn;)switch(kn.tag){case 5:case 13:Zr=!1;return;case 27:case 3:Zr=!0;return;default:kn=kn.return}}function Su(i){if(i!==kn)return!1;if(!nt)return kw(i),nt=!0,!1;var a=i.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Tp(i.type,i.memoizedProps)),o=!o),o&&xt&&Us(i),kw(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(a===0){xt=Or(i.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;i=i.nextSibling}xt=null}}else a===27?(a=xt,Pa(i.type)?(i=Rp,Rp=null,xt=i):xt=a):xt=kn?Or(i.stateNode.nextSibling):null;return!0}function Au(){xt=kn=null,nt=!1}function Vw(){var i=js;return i!==null&&(Un===null?Un=i:Un.push.apply(Un,i),js=null),i}function xu(i){js===null?js=[i]:js.push(i)}var lg=te(null),zs=null,Pi=null;function _a(i,a,o){re(lg,a._currentValue),a._currentValue=o}function ki(i){i._currentValue=lg.current,fe(lg)}function ug(i,a,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),i===o)break;i=i.return}}function cg(i,a,o,u){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var p=h.dependencies;if(p!==null){var E=h.child;p=p.firstContext;e:for(;p!==null;){var C=p;p=h;for(var j=0;j<a.length;j++)if(C.context===a[j]){p.lanes|=o,C=p.alternate,C!==null&&(C.lanes|=o),ug(p.return,o,i),u||(E=null);break e}p=C.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(r(341));E.lanes|=o,p=E.alternate,p!==null&&(p.lanes|=o),ug(E,o,i),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===i){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Ru(i,a,o,u){i=null;for(var h=a,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var C=h.type;Wn(h.pendingProps.value,E.value)||(i!==null?i.push(C):i=[C])}}else if(h===Te.current){if(E=h.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(nc):i=[nc])}h=h.return}i!==null&&cg(a,i,o,u),a.flags|=262144}function Ff(i){for(i=i.firstContext;i!==null;){if(!Wn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Bs(i){zs=i,Pi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function En(i){return Lw(zs,i)}function qf(i,a){return zs===null&&Bs(i),Lw(i,a)}function Lw(i,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Pi===null){if(i===null)throw Error(r(308));Pi=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Pi=Pi.next=a;return o}var SI=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){a.aborted=!0,i.forEach(function(o){return o()})}},AI=t.unstable_scheduleCallback,xI=t.unstable_NormalPriority,Kt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fg(){return{controller:new SI,data:new Map,refCount:0}}function Cu(i){i.refCount--,i.refCount===0&&AI(xI,function(){i.controller.abort()})}var Du=null,dg=0,Fo=0,qo=null;function RI(i,a){if(Du===null){var o=Du=[];dg=0,Fo=mp(),qo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return dg++,a.then(jw,jw),a}function jw(){if(--dg===0&&Du!==null){qo!==null&&(qo.status="fulfilled");var i=Du;Du=null,Fo=0,qo=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function CI(i,a){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return i.then(function(){u.status="fulfilled",u.value=a;for(var h=0;h<o.length;h++)(0,o[h])(a)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var Uw=G.S;G.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&RI(i,a),Uw!==null&&Uw(i,a)};var Fs=te(null);function hg(){var i=Fs.current;return i!==null?i:mt.pooledCache}function Hf(i,a){a===null?re(Fs,Fs.current):re(Fs,a.pool)}function zw(){var i=hg();return i===null?null:{parent:Kt._currentValue,pool:i}}var Iu=Error(r(460)),Bw=Error(r(474)),Gf=Error(r(542)),mg={then:function(){}};function Fw(i){return i=i.status,i==="fulfilled"||i==="rejected"}function $f(){}function qw(i,a,o){switch(o=i[o],o===void 0?i.push(a):o!==a&&(a.then($f,$f),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Gw(i),i;default:if(typeof a.status=="string")a.then($f,$f);else{if(i=mt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(u){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=u}},function(u){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Gw(i),i}throw Ou=a,Iu}}var Ou=null;function Hw(){if(Ou===null)throw Error(r(459));var i=Ou;return Ou=null,i}function Gw(i){if(i===Iu||i===Gf)throw Error(r(483))}var wa=!1;function gg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pg(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ba(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ea(i,a,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(st&2)!==0){var h=u.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a,a=jf(i),Ow(i,null,o),a}return Lf(i,u,a,o),jf(i)}function Nu(i,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=i.pendingLanes,o|=u,a.lanes=o,Fr(i,o)}}function yg(i,a){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?h=p=E:p=p.next=E,o=o.next}while(o!==null);p===null?h=p=a:p=p.next=a}else h=p=a;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=a:i.next=a,o.lastBaseUpdate=a}var vg=!1;function Mu(){if(vg){var i=qo;if(i!==null)throw i}}function Pu(i,a,o,u){vg=!1;var h=i.updateQueue;wa=!1;var p=h.firstBaseUpdate,E=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var j=C,W=j.next;j.next=null,E===null?p=W:E.next=W,E=j;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,C=ne.lastBaseUpdate,C!==E&&(C===null?ne.firstBaseUpdate=W:C.next=W,ne.lastBaseUpdate=j))}if(p!==null){var ae=h.baseState;E=0,ne=W=j=null,C=p;do{var Q=C.lane&-536870913,X=Q!==C.lane;if(X?(Xe&Q)===Q:(u&Q)===Q){Q!==0&&Q===Fo&&(vg=!0),ne!==null&&(ne=ne.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var De=i,Ae=C;Q=a;var ft=o;switch(Ae.tag){case 1:if(De=Ae.payload,typeof De=="function"){ae=De.call(ft,ae,Q);break e}ae=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ae.payload,Q=typeof De=="function"?De.call(ft,ae,Q):De,Q==null)break e;ae=y({},ae,Q);break e;case 2:wa=!0}}Q=C.callback,Q!==null&&(i.flags|=64,X&&(i.flags|=8192),X=h.callbacks,X===null?h.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ne===null?(W=ne=X,j=ae):ne=ne.next=X,E|=Q;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;X=C,C=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);ne===null&&(j=ae),h.baseState=j,h.firstBaseUpdate=W,h.lastBaseUpdate=ne,p===null&&(h.shared.lanes=0),Ia|=E,i.lanes=E,i.memoizedState=ae}}function $w(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Yw(i,a){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)$w(o[i],a)}var Ho=te(null),Yf=te(0);function Ww(i,a){i=Fi,re(Yf,i),re(Ho,a),Fi=i|a.baseLanes}function _g(){re(Yf,Fi),re(Ho,Ho.current)}function wg(){Fi=Yf.current,fe(Ho),fe(Yf)}var Ta=0,je=null,ut=null,Ut=null,Wf=!1,Go=!1,qs=!1,Kf=0,ku=0,$o=null,DI=0;function Dt(){throw Error(r(321))}function bg(i,a){if(a===null)return!1;for(var o=0;o<a.length&&o<i.length;o++)if(!Wn(i[o],a[o]))return!1;return!0}function Eg(i,a,o,u,h,p){return Ta=p,je=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,G.H=i===null||i.memoizedState===null?Ob:Nb,qs=!1,p=o(u,h),qs=!1,Go&&(p=Qw(a,o,u,h)),Kw(i),p}function Kw(i){G.H=td;var a=ut!==null&&ut.next!==null;if(Ta=0,Ut=ut=je=null,Wf=!1,ku=0,$o=null,a)throw Error(r(300));i===null||rn||(i=i.dependencies,i!==null&&Ff(i)&&(rn=!0))}function Qw(i,a,o,u){je=i;var h=0;do{if(Go&&($o=null),ku=0,Go=!1,25<=h)throw Error(r(301));if(h+=1,Ut=ut=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}G.H=VI,p=a(o,u)}while(Go);return p}function II(){var i=G.H,a=i.useState()[0];return a=typeof a.then=="function"?Vu(a):a,i=i.useState()[0],(ut!==null?ut.memoizedState:null)!==i&&(je.flags|=1024),a}function Tg(){var i=Kf!==0;return Kf=0,i}function Sg(i,a,o){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~o}function Ag(i){if(Wf){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Wf=!1}Ta=0,Ut=ut=je=null,Go=!1,ku=Kf=0,$o=null}function Ln(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?je.memoizedState=Ut=i:Ut=Ut.next=i,Ut}function zt(){if(ut===null){var i=je.alternate;i=i!==null?i.memoizedState:null}else i=ut.next;var a=Ut===null?je.memoizedState:Ut.next;if(a!==null)Ut=a,ut=i;else{if(i===null)throw je.alternate===null?Error(r(467)):Error(r(310));ut=i,i={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Ut===null?je.memoizedState=Ut=i:Ut=Ut.next=i}return Ut}function xg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vu(i){var a=ku;return ku+=1,$o===null&&($o=[]),i=qw($o,i,a),a=je,(Ut===null?a.memoizedState:Ut.next)===null&&(a=a.alternate,G.H=a===null||a.memoizedState===null?Ob:Nb),i}function Qf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Vu(i);if(i.$$typeof===B)return En(i)}throw Error(r(438,String(i)))}function Rg(i){var a=null,o=je.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=je.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=xg(),je.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(i),u=0;u<i;u++)o[u]=L;return a.index++,o}function Vi(i,a){return typeof a=="function"?a(i):a}function Xf(i){var a=zt();return Cg(a,ut,i)}function Cg(i,a,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var h=i.baseQueue,p=u.pending;if(p!==null){if(h!==null){var E=h.next;h.next=p.next,p.next=E}a.baseQueue=h=p,u.pending=null}if(p=i.baseState,h===null)i.memoizedState=p;else{a=h.next;var C=E=null,j=null,W=a,ne=!1;do{var ae=W.lane&-536870913;if(ae!==W.lane?(Xe&ae)===ae:(Ta&ae)===ae){var Q=W.revertLane;if(Q===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ae===Fo&&(ne=!0);else if((Ta&Q)===Q){W=W.next,Q===Fo&&(ne=!0);continue}else ae={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},j===null?(C=j=ae,E=p):j=j.next=ae,je.lanes|=Q,Ia|=Q;ae=W.action,qs&&o(p,ae),p=W.hasEagerState?W.eagerState:o(p,ae)}else Q={lane:ae,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},j===null?(C=j=Q,E=p):j=j.next=Q,je.lanes|=ae,Ia|=ae;W=W.next}while(W!==null&&W!==a);if(j===null?E=p:j.next=C,!Wn(p,i.memoizedState)&&(rn=!0,ne&&(o=qo,o!==null)))throw o;i.memoizedState=p,i.baseState=E,i.baseQueue=j,u.lastRenderedState=p}return h===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Dg(i){var a=zt(),o=a.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,h=o.pending,p=a.memoizedState;if(h!==null){o.pending=null;var E=h=h.next;do p=i(p,E.action),E=E.next;while(E!==h);Wn(p,a.memoizedState)||(rn=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),o.lastRenderedState=p}return[p,u]}function Xw(i,a,o){var u=je,h=zt(),p=nt;if(p){if(o===void 0)throw Error(r(407));o=o()}else o=a();var E=!Wn((ut||h).memoizedState,o);E&&(h.memoizedState=o,rn=!0),h=h.queue;var C=eb.bind(null,u,h,i);if(Lu(2048,8,C,[i]),h.getSnapshot!==a||E||Ut!==null&&Ut.memoizedState.tag&1){if(u.flags|=2048,Yo(9,Zf(),Jw.bind(null,u,h,o,a),null),mt===null)throw Error(r(349));p||(Ta&124)!==0||Zw(u,a,o)}return o}function Zw(i,a,o){i.flags|=16384,i={getSnapshot:a,value:o},a=je.updateQueue,a===null?(a=xg(),je.updateQueue=a,a.stores=[i]):(o=a.stores,o===null?a.stores=[i]:o.push(i))}function Jw(i,a,o,u){a.value=o,a.getSnapshot=u,tb(a)&&nb(i)}function eb(i,a,o){return o(function(){tb(a)&&nb(i)})}function tb(i){var a=i.getSnapshot;i=i.value;try{var o=a();return!Wn(i,o)}catch{return!0}}function nb(i){var a=jo(i,2);a!==null&&er(a,i,2)}function Ig(i){var a=Ln();if(typeof i=="function"){var o=i;if(i=o(),qs){On(!0);try{o()}finally{On(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:i},a}function rb(i,a,o,u){return i.baseState=o,Cg(i,ut,typeof u=="function"?u:Vi)}function OI(i,a,o,u,h){if(ed(i))throw Error(r(485));if(i=a.action,i!==null){var p={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};G.T!==null?o(!0):p.isTransition=!1,u(p),o=a.pending,o===null?(p.next=a.pending=p,ib(a,p)):(p.next=o.next,a.pending=o.next=p)}}function ib(i,a){var o=a.action,u=a.payload,h=i.state;if(a.isTransition){var p=G.T,E={};G.T=E;try{var C=o(h,u),j=G.S;j!==null&&j(E,C),ab(i,a,C)}catch(W){Og(i,a,W)}finally{G.T=p}}else try{p=o(h,u),ab(i,a,p)}catch(W){Og(i,a,W)}}function ab(i,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){sb(i,a,u)},function(u){return Og(i,a,u)}):sb(i,a,o)}function sb(i,a,o){a.status="fulfilled",a.value=o,ob(a),i.state=o,a=i.pending,a!==null&&(o=a.next,o===a?i.pending=null:(o=o.next,a.next=o,ib(i,o)))}function Og(i,a,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,ob(a),a=a.next;while(a!==u)}i.action=null}function ob(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function lb(i,a){return a}function ub(i,a){if(nt){var o=mt.formState;if(o!==null){e:{var u=je;if(nt){if(xt){t:{for(var h=xt,p=Zr;h.nodeType!==8;){if(!p){h=null;break t}if(h=Or(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){xt=Or(h.nextSibling),u=h.data==="F!";break e}}Us(u)}u=!1}u&&(a=o[0])}}return o=Ln(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lb,lastRenderedState:a},o.queue=u,o=Cb.bind(null,je,u),u.dispatch=o,u=Ig(!1),p=Vg.bind(null,je,!1,u.queue),u=Ln(),h={state:a,dispatch:null,action:i,pending:null},u.queue=h,o=OI.bind(null,je,h,p,o),h.dispatch=o,u.memoizedState=i,[a,o,!1]}function cb(i){var a=zt();return fb(a,ut,i)}function fb(i,a,o){if(a=Cg(i,a,lb)[0],i=Xf(Vi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Vu(a)}catch(E){throw E===Iu?Gf:E}else u=a;a=zt();var h=a.queue,p=h.dispatch;return o!==a.memoizedState&&(je.flags|=2048,Yo(9,Zf(),NI.bind(null,h,o),null)),[u,p,i]}function NI(i,a){i.action=a}function db(i){var a=zt(),o=ut;if(o!==null)return fb(a,o,i);zt(),a=a.memoizedState,o=zt();var u=o.queue.dispatch;return o.memoizedState=i,[a,u,!1]}function Yo(i,a,o,u){return i={tag:i,create:o,deps:u,inst:a,next:null},a=je.updateQueue,a===null&&(a=xg(),je.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,a.lastEffect=i),i}function Zf(){return{destroy:void 0,resource:void 0}}function hb(){return zt().memoizedState}function Jf(i,a,o,u){var h=Ln();u=u===void 0?null:u,je.flags|=i,h.memoizedState=Yo(1|a,Zf(),o,u)}function Lu(i,a,o,u){var h=zt();u=u===void 0?null:u;var p=h.memoizedState.inst;ut!==null&&u!==null&&bg(u,ut.memoizedState.deps)?h.memoizedState=Yo(a,p,o,u):(je.flags|=i,h.memoizedState=Yo(1|a,p,o,u))}function mb(i,a){Jf(8390656,8,i,a)}function gb(i,a){Lu(2048,8,i,a)}function pb(i,a){return Lu(4,2,i,a)}function yb(i,a){return Lu(4,4,i,a)}function vb(i,a){if(typeof a=="function"){i=i();var o=a(i);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function _b(i,a,o){o=o!=null?o.concat([i]):null,Lu(4,4,vb.bind(null,a,i),o)}function Ng(){}function wb(i,a){var o=zt();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&bg(a,u[1])?u[0]:(o.memoizedState=[i,a],i)}function bb(i,a){var o=zt();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&bg(a,u[1]))return u[0];if(u=i(),qs){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[u,a],u}function Mg(i,a,o){return o===void 0||(Ta&1073741824)!==0?i.memoizedState=a:(i.memoizedState=o,i=S0(),je.lanes|=i,Ia|=i,o)}function Eb(i,a,o,u){return Wn(o,a)?o:Ho.current!==null?(i=Mg(i,o,u),Wn(i,a)||(rn=!0),i):(Ta&42)===0?(rn=!0,i.memoizedState=o):(i=S0(),je.lanes|=i,Ia|=i,a)}function Tb(i,a,o,u,h){var p=ue.p;ue.p=p!==0&&8>p?p:8;var E=G.T,C={};G.T=C,Vg(i,!1,a,o);try{var j=h(),W=G.S;if(W!==null&&W(C,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ne=CI(j,u);ju(i,a,ne,Jn(i))}else ju(i,a,u,Jn(i))}catch(ae){ju(i,a,{then:function(){},status:"rejected",reason:ae},Jn())}finally{ue.p=p,G.T=E}}function MI(){}function Pg(i,a,o,u){if(i.tag!==5)throw Error(r(476));var h=Sb(i).queue;Tb(i,h,a,Z,o===null?MI:function(){return Ab(i),o(u)})}function Sb(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:Z},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:o},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Ab(i){var a=Sb(i).next.queue;ju(i,a,{},Jn())}function kg(){return En(nc)}function xb(){return zt().memoizedState}function Rb(){return zt().memoizedState}function PI(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var o=Jn();i=ba(o);var u=Ea(a,i,o);u!==null&&(er(u,a,o),Nu(u,a,o)),a={cache:fg()},i.payload=a;return}a=a.return}}function kI(i,a,o){var u=Jn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},ed(i)?Db(a,o):(o=tg(i,a,o,u),o!==null&&(er(o,i,u),Ib(o,a,u)))}function Cb(i,a,o){var u=Jn();ju(i,a,o,u)}function ju(i,a,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(ed(i))Db(a,h);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var E=a.lastRenderedState,C=p(E,o);if(h.hasEagerState=!0,h.eagerState=C,Wn(C,E))return Lf(i,a,h,0),mt===null&&Vf(),!1}catch{}finally{}if(o=tg(i,a,h,u),o!==null)return er(o,i,u),Ib(o,a,u),!0}return!1}function Vg(i,a,o,u){if(u={lane:2,revertLane:mp(),action:u,hasEagerState:!1,eagerState:null,next:null},ed(i)){if(a)throw Error(r(479))}else a=tg(i,o,u,2),a!==null&&er(a,i,2)}function ed(i){var a=i.alternate;return i===je||a!==null&&a===je}function Db(i,a){Go=Wf=!0;var o=i.pending;o===null?a.next=a:(a.next=o.next,o.next=a),i.pending=a}function Ib(i,a,o){if((o&4194048)!==0){var u=a.lanes;u&=i.pendingLanes,o|=u,a.lanes=o,Fr(i,o)}}var td={readContext:En,use:Qf,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt},Ob={readContext:En,use:Qf,useCallback:function(i,a){return Ln().memoizedState=[i,a===void 0?null:a],i},useContext:En,useEffect:mb,useImperativeHandle:function(i,a,o){o=o!=null?o.concat([i]):null,Jf(4194308,4,vb.bind(null,a,i),o)},useLayoutEffect:function(i,a){return Jf(4194308,4,i,a)},useInsertionEffect:function(i,a){Jf(4,2,i,a)},useMemo:function(i,a){var o=Ln();a=a===void 0?null:a;var u=i();if(qs){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[u,a],u},useReducer:function(i,a,o){var u=Ln();if(o!==void 0){var h=o(a);if(qs){On(!0);try{o(a)}finally{On(!1)}}}else h=a;return u.memoizedState=u.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},u.queue=i,i=i.dispatch=kI.bind(null,je,i),[u.memoizedState,i]},useRef:function(i){var a=Ln();return i={current:i},a.memoizedState=i},useState:function(i){i=Ig(i);var a=i.queue,o=Cb.bind(null,je,a);return a.dispatch=o,[i.memoizedState,o]},useDebugValue:Ng,useDeferredValue:function(i,a){var o=Ln();return Mg(o,i,a)},useTransition:function(){var i=Ig(!1);return i=Tb.bind(null,je,i.queue,!0,!1),Ln().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,o){var u=je,h=Ln();if(nt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=a(),mt===null)throw Error(r(349));(Xe&124)!==0||Zw(u,a,o)}h.memoizedState=o;var p={value:o,getSnapshot:a};return h.queue=p,mb(eb.bind(null,u,p,i),[i]),u.flags|=2048,Yo(9,Zf(),Jw.bind(null,u,p,o,a),null),o},useId:function(){var i=Ln(),a=mt.identifierPrefix;if(nt){var o=Mi,u=Ni;o=(u&~(1<<32-Vt(u)-1)).toString(32)+o,a="«"+a+"R"+o,o=Kf++,0<o&&(a+="H"+o.toString(32)),a+="»"}else o=DI++,a="«"+a+"r"+o.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:kg,useFormState:ub,useActionState:ub,useOptimistic:function(i){var a=Ln();a.memoizedState=a.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=Vg.bind(null,je,!0,o),o.dispatch=a,[i,a]},useMemoCache:Rg,useCacheRefresh:function(){return Ln().memoizedState=PI.bind(null,je)}},Nb={readContext:En,use:Qf,useCallback:wb,useContext:En,useEffect:gb,useImperativeHandle:_b,useInsertionEffect:pb,useLayoutEffect:yb,useMemo:bb,useReducer:Xf,useRef:hb,useState:function(){return Xf(Vi)},useDebugValue:Ng,useDeferredValue:function(i,a){var o=zt();return Eb(o,ut.memoizedState,i,a)},useTransition:function(){var i=Xf(Vi)[0],a=zt().memoizedState;return[typeof i=="boolean"?i:Vu(i),a]},useSyncExternalStore:Xw,useId:xb,useHostTransitionStatus:kg,useFormState:cb,useActionState:cb,useOptimistic:function(i,a){var o=zt();return rb(o,ut,i,a)},useMemoCache:Rg,useCacheRefresh:Rb},VI={readContext:En,use:Qf,useCallback:wb,useContext:En,useEffect:gb,useImperativeHandle:_b,useInsertionEffect:pb,useLayoutEffect:yb,useMemo:bb,useReducer:Dg,useRef:hb,useState:function(){return Dg(Vi)},useDebugValue:Ng,useDeferredValue:function(i,a){var o=zt();return ut===null?Mg(o,i,a):Eb(o,ut.memoizedState,i,a)},useTransition:function(){var i=Dg(Vi)[0],a=zt().memoizedState;return[typeof i=="boolean"?i:Vu(i),a]},useSyncExternalStore:Xw,useId:xb,useHostTransitionStatus:kg,useFormState:db,useActionState:db,useOptimistic:function(i,a){var o=zt();return ut!==null?rb(o,ut,i,a):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Rg,useCacheRefresh:Rb},Wo=null,Uu=0;function nd(i){var a=Uu;return Uu+=1,Wo===null&&(Wo=[]),qw(Wo,i,a)}function zu(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function rd(i,a){throw a.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Mb(i){var a=i._init;return a(i._payload)}function Pb(i){function a(H,F){if(i){var Y=H.deletions;Y===null?(H.deletions=[F],H.flags|=16):Y.push(F)}}function o(H,F){if(!i)return null;for(;F!==null;)a(H,F),F=F.sibling;return null}function u(H){for(var F=new Map;H!==null;)H.key!==null?F.set(H.key,H):F.set(H.index,H),H=H.sibling;return F}function h(H,F){return H=Oi(H,F),H.index=0,H.sibling=null,H}function p(H,F,Y){return H.index=Y,i?(Y=H.alternate,Y!==null?(Y=Y.index,Y<F?(H.flags|=67108866,F):Y):(H.flags|=67108866,F)):(H.flags|=1048576,F)}function E(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function C(H,F,Y,ie){return F===null||F.tag!==6?(F=rg(Y,H.mode,ie),F.return=H,F):(F=h(F,Y),F.return=H,F)}function j(H,F,Y,ie){var pe=Y.type;return pe===x?ne(H,F,Y.props.children,ie,Y.key):F!==null&&(F.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&Mb(pe)===F.type)?(F=h(F,Y.props),zu(F,Y),F.return=H,F):(F=Uf(Y.type,Y.key,Y.props,null,H.mode,ie),zu(F,Y),F.return=H,F)}function W(H,F,Y,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==Y.containerInfo||F.stateNode.implementation!==Y.implementation?(F=ig(Y,H.mode,ie),F.return=H,F):(F=h(F,Y.children||[]),F.return=H,F)}function ne(H,F,Y,ie,pe){return F===null||F.tag!==7?(F=ks(Y,H.mode,ie,pe),F.return=H,F):(F=h(F,Y),F.return=H,F)}function ae(H,F,Y){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=rg(""+F,H.mode,Y),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case w:return Y=Uf(F.type,F.key,F.props,null,H.mode,Y),zu(Y,F),Y.return=H,Y;case A:return F=ig(F,H.mode,Y),F.return=H,F;case R:var ie=F._init;return F=ie(F._payload),ae(H,F,Y)}if(be(F)||z(F))return F=ks(F,H.mode,Y,null),F.return=H,F;if(typeof F.then=="function")return ae(H,nd(F),Y);if(F.$$typeof===B)return ae(H,qf(H,F),Y);rd(H,F)}return null}function Q(H,F,Y,ie){var pe=F!==null?F.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return pe!==null?null:C(H,F,""+Y,ie);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return Y.key===pe?j(H,F,Y,ie):null;case A:return Y.key===pe?W(H,F,Y,ie):null;case R:return pe=Y._init,Y=pe(Y._payload),Q(H,F,Y,ie)}if(be(Y)||z(Y))return pe!==null?null:ne(H,F,Y,ie,null);if(typeof Y.then=="function")return Q(H,F,nd(Y),ie);if(Y.$$typeof===B)return Q(H,F,qf(H,Y),ie);rd(H,Y)}return null}function X(H,F,Y,ie,pe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return H=H.get(Y)||null,C(F,H,""+ie,pe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case w:return H=H.get(ie.key===null?Y:ie.key)||null,j(F,H,ie,pe);case A:return H=H.get(ie.key===null?Y:ie.key)||null,W(F,H,ie,pe);case R:var Fe=ie._init;return ie=Fe(ie._payload),X(H,F,Y,ie,pe)}if(be(ie)||z(ie))return H=H.get(Y)||null,ne(F,H,ie,pe,null);if(typeof ie.then=="function")return X(H,F,Y,nd(ie),pe);if(ie.$$typeof===B)return X(H,F,Y,qf(F,ie),pe);rd(F,ie)}return null}function De(H,F,Y,ie){for(var pe=null,Fe=null,we=F,Re=F=0,sn=null;we!==null&&Re<Y.length;Re++){we.index>Re?(sn=we,we=null):sn=we.sibling;var et=Q(H,we,Y[Re],ie);if(et===null){we===null&&(we=sn);break}i&&we&&et.alternate===null&&a(H,we),F=p(et,F,Re),Fe===null?pe=et:Fe.sibling=et,Fe=et,we=sn}if(Re===Y.length)return o(H,we),nt&&Ls(H,Re),pe;if(we===null){for(;Re<Y.length;Re++)we=ae(H,Y[Re],ie),we!==null&&(F=p(we,F,Re),Fe===null?pe=we:Fe.sibling=we,Fe=we);return nt&&Ls(H,Re),pe}for(we=u(we);Re<Y.length;Re++)sn=X(we,H,Re,Y[Re],ie),sn!==null&&(i&&sn.alternate!==null&&we.delete(sn.key===null?Re:sn.key),F=p(sn,F,Re),Fe===null?pe=sn:Fe.sibling=sn,Fe=sn);return i&&we.forEach(function(Ua){return a(H,Ua)}),nt&&Ls(H,Re),pe}function Ae(H,F,Y,ie){if(Y==null)throw Error(r(151));for(var pe=null,Fe=null,we=F,Re=F=0,sn=null,et=Y.next();we!==null&&!et.done;Re++,et=Y.next()){we.index>Re?(sn=we,we=null):sn=we.sibling;var Ua=Q(H,we,et.value,ie);if(Ua===null){we===null&&(we=sn);break}i&&we&&Ua.alternate===null&&a(H,we),F=p(Ua,F,Re),Fe===null?pe=Ua:Fe.sibling=Ua,Fe=Ua,we=sn}if(et.done)return o(H,we),nt&&Ls(H,Re),pe;if(we===null){for(;!et.done;Re++,et=Y.next())et=ae(H,et.value,ie),et!==null&&(F=p(et,F,Re),Fe===null?pe=et:Fe.sibling=et,Fe=et);return nt&&Ls(H,Re),pe}for(we=u(we);!et.done;Re++,et=Y.next())et=X(we,H,Re,et.value,ie),et!==null&&(i&&et.alternate!==null&&we.delete(et.key===null?Re:et.key),F=p(et,F,Re),Fe===null?pe=et:Fe.sibling=et,Fe=et);return i&&we.forEach(function(LO){return a(H,LO)}),nt&&Ls(H,Re),pe}function ft(H,F,Y,ie){if(typeof Y=="object"&&Y!==null&&Y.type===x&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:e:{for(var pe=Y.key;F!==null;){if(F.key===pe){if(pe=Y.type,pe===x){if(F.tag===7){o(H,F.sibling),ie=h(F,Y.props.children),ie.return=H,H=ie;break e}}else if(F.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&Mb(pe)===F.type){o(H,F.sibling),ie=h(F,Y.props),zu(ie,Y),ie.return=H,H=ie;break e}o(H,F);break}else a(H,F);F=F.sibling}Y.type===x?(ie=ks(Y.props.children,H.mode,ie,Y.key),ie.return=H,H=ie):(ie=Uf(Y.type,Y.key,Y.props,null,H.mode,ie),zu(ie,Y),ie.return=H,H=ie)}return E(H);case A:e:{for(pe=Y.key;F!==null;){if(F.key===pe)if(F.tag===4&&F.stateNode.containerInfo===Y.containerInfo&&F.stateNode.implementation===Y.implementation){o(H,F.sibling),ie=h(F,Y.children||[]),ie.return=H,H=ie;break e}else{o(H,F);break}else a(H,F);F=F.sibling}ie=ig(Y,H.mode,ie),ie.return=H,H=ie}return E(H);case R:return pe=Y._init,Y=pe(Y._payload),ft(H,F,Y,ie)}if(be(Y))return De(H,F,Y,ie);if(z(Y)){if(pe=z(Y),typeof pe!="function")throw Error(r(150));return Y=pe.call(Y),Ae(H,F,Y,ie)}if(typeof Y.then=="function")return ft(H,F,nd(Y),ie);if(Y.$$typeof===B)return ft(H,F,qf(H,Y),ie);rd(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,F!==null&&F.tag===6?(o(H,F.sibling),ie=h(F,Y),ie.return=H,H=ie):(o(H,F),ie=rg(Y,H.mode,ie),ie.return=H,H=ie),E(H)):o(H,F)}return function(H,F,Y,ie){try{Uu=0;var pe=ft(H,F,Y,ie);return Wo=null,pe}catch(we){if(we===Iu||we===Gf)throw we;var Fe=Kn(29,we,null,H.mode);return Fe.lanes=ie,Fe.return=H,Fe}finally{}}}var Ko=Pb(!0),kb=Pb(!1),yr=te(null),Jr=null;function Sa(i){var a=i.alternate;re(Qt,Qt.current&1),re(yr,i),Jr===null&&(a===null||Ho.current!==null||a.memoizedState!==null)&&(Jr=i)}function Vb(i){if(i.tag===22){if(re(Qt,Qt.current),re(yr,i),Jr===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Jr=i)}}else Aa()}function Aa(){re(Qt,Qt.current),re(yr,yr.current)}function Li(i){fe(yr),Jr===i&&(Jr=null),fe(Qt)}var Qt=te(0);function id(i){for(var a=i;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||xp(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Lg(i,a,o,u){a=i.memoizedState,o=o(u,a),o=o==null?a:y({},a,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var jg={enqueueSetState:function(i,a,o){i=i._reactInternals;var u=Jn(),h=ba(u);h.payload=a,o!=null&&(h.callback=o),a=Ea(i,h,u),a!==null&&(er(a,i,u),Nu(a,i,u))},enqueueReplaceState:function(i,a,o){i=i._reactInternals;var u=Jn(),h=ba(u);h.tag=1,h.payload=a,o!=null&&(h.callback=o),a=Ea(i,h,u),a!==null&&(er(a,i,u),Nu(a,i,u))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var o=Jn(),u=ba(o);u.tag=2,a!=null&&(u.callback=a),a=Ea(i,u,o),a!==null&&(er(a,i,o),Nu(a,i,o))}};function Lb(i,a,o,u,h,p,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,p,E):a.prototype&&a.prototype.isPureReactComponent?!Eu(o,u)||!Eu(h,p):!0}function jb(i,a,o,u){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==i&&jg.enqueueReplaceState(a,a.state,null)}function Hs(i,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(i=i.defaultProps){o===a&&(o=y({},o));for(var h in i)o[h]===void 0&&(o[h]=i[h])}return o}var ad=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Ub(i){ad(i)}function zb(i){console.error(i)}function Bb(i){ad(i)}function sd(i,a){try{var o=i.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Fb(i,a,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ug(i,a,o){return o=ba(o),o.tag=3,o.payload={element:null},o.callback=function(){sd(i,a)},o}function qb(i){return i=ba(i),i.tag=3,i}function Hb(i,a,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var p=u.value;i.payload=function(){return h(p)},i.callback=function(){Fb(a,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){Fb(a,o,u),typeof h!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function LI(i,a,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&Ru(a,o,h,!0),o=yr.current,o!==null){switch(o.tag){case 13:return Jr===null?up():o.alternate===null&&Rt===0&&(Rt=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===mg?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),fp(i,u,h)),!1;case 22:return o.flags|=65536,u===mg?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),fp(i,u,h)),!1}throw Error(r(435,o.tag))}return fp(i,u,h),up(),!1}if(nt)return a=yr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,u!==og&&(i=Error(r(422),{cause:u}),xu(hr(i,o)))):(u!==og&&(a=Error(r(423),{cause:u}),xu(hr(a,o))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,u=hr(u,o),h=Ug(i.stateNode,u,h),yg(i,h),Rt!==4&&(Rt=2)),!1;var p=Error(r(520),{cause:u});if(p=hr(p,o),Yu===null?Yu=[p]:Yu.push(p),Rt!==4&&(Rt=2),a===null)return!0;u=hr(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,i=h&-h,o.lanes|=i,i=Ug(o.stateNode,u,i),yg(o,i),!1;case 1:if(a=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Oa===null||!Oa.has(p))))return o.flags|=65536,h&=-h,o.lanes|=h,h=qb(h),Hb(h,i,o,u),yg(o,h),!1}o=o.return}while(o!==null);return!1}var Gb=Error(r(461)),rn=!1;function mn(i,a,o,u){a.child=i===null?kb(a,null,o,u):Ko(a,i.child,o,u)}function $b(i,a,o,u,h){o=o.render;var p=a.ref;if("ref"in u){var E={};for(var C in u)C!=="ref"&&(E[C]=u[C])}else E=u;return Bs(a),u=Eg(i,a,o,E,p,h),C=Tg(),i!==null&&!rn?(Sg(i,a,h),ji(i,a,h)):(nt&&C&&ag(a),a.flags|=1,mn(i,a,u,h),a.child)}function Yb(i,a,o,u,h){if(i===null){var p=o.type;return typeof p=="function"&&!ng(p)&&p.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=p,Wb(i,a,p,u,h)):(i=Uf(o.type,null,u,a,a.mode,h),i.ref=a.ref,i.return=a,a.child=i)}if(p=i.child,!Yg(i,h)){var E=p.memoizedProps;if(o=o.compare,o=o!==null?o:Eu,o(E,u)&&i.ref===a.ref)return ji(i,a,h)}return a.flags|=1,i=Oi(p,u),i.ref=a.ref,i.return=a,a.child=i}function Wb(i,a,o,u,h){if(i!==null){var p=i.memoizedProps;if(Eu(p,u)&&i.ref===a.ref)if(rn=!1,a.pendingProps=u=p,Yg(i,h))(i.flags&131072)!==0&&(rn=!0);else return a.lanes=i.lanes,ji(i,a,h)}return zg(i,a,o,u,h)}function Kb(i,a,o){var u=a.pendingProps,h=u.children,p=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,i!==null){for(h=a.child=i.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;a.childLanes=p&~u}else a.childLanes=0,a.child=null;return Qb(i,a,u,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Hf(a,p!==null?p.cachePool:null),p!==null?Ww(a,p):_g(),Vb(a);else return a.lanes=a.childLanes=536870912,Qb(i,a,p!==null?p.baseLanes|o:o,o)}else p!==null?(Hf(a,p.cachePool),Ww(a,p),Aa(),a.memoizedState=null):(i!==null&&Hf(a,null),_g(),Aa());return mn(i,a,h,o),a.child}function Qb(i,a,o,u){var h=hg();return h=h===null?null:{parent:Kt._currentValue,pool:h},a.memoizedState={baseLanes:o,cachePool:h},i!==null&&Hf(a,null),_g(),Vb(a),i!==null&&Ru(i,a,u,!0),null}function od(i,a){var o=a.ref;if(o===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(a.flags|=4194816)}}function zg(i,a,o,u,h){return Bs(a),o=Eg(i,a,o,u,void 0,h),u=Tg(),i!==null&&!rn?(Sg(i,a,h),ji(i,a,h)):(nt&&u&&ag(a),a.flags|=1,mn(i,a,o,h),a.child)}function Xb(i,a,o,u,h,p){return Bs(a),a.updateQueue=null,o=Qw(a,u,o,h),Kw(i),u=Tg(),i!==null&&!rn?(Sg(i,a,p),ji(i,a,p)):(nt&&u&&ag(a),a.flags|=1,mn(i,a,o,p),a.child)}function Zb(i,a,o,u,h){if(Bs(a),a.stateNode===null){var p=Uo,E=o.contextType;typeof E=="object"&&E!==null&&(p=En(E)),p=new o(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=jg,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},gg(a),E=o.contextType,p.context=typeof E=="object"&&E!==null?En(E):Uo,p.state=a.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Lg(a,o,E,u),p.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&jg.enqueueReplaceState(p,p.state,null),Pu(a,u,p,h),Mu(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(i===null){p=a.stateNode;var C=a.memoizedProps,j=Hs(o,C);p.props=j;var W=p.context,ne=o.contextType;E=Uo,typeof ne=="object"&&ne!==null&&(E=En(ne));var ae=o.getDerivedStateFromProps;ne=typeof ae=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,ne||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||W!==E)&&jb(a,p,u,E),wa=!1;var Q=a.memoizedState;p.state=Q,Pu(a,u,p,h),Mu(),W=a.memoizedState,C||Q!==W||wa?(typeof ae=="function"&&(Lg(a,o,ae,u),W=a.memoizedState),(j=wa||Lb(a,o,j,u,Q,W,E))?(ne||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=W),p.props=u,p.state=W,p.context=E,u=j):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,pg(i,a),E=a.memoizedProps,ne=Hs(o,E),p.props=ne,ae=a.pendingProps,Q=p.context,W=o.contextType,j=Uo,typeof W=="object"&&W!==null&&(j=En(W)),C=o.getDerivedStateFromProps,(W=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==ae||Q!==j)&&jb(a,p,u,j),wa=!1,Q=a.memoizedState,p.state=Q,Pu(a,u,p,h),Mu();var X=a.memoizedState;E!==ae||Q!==X||wa||i!==null&&i.dependencies!==null&&Ff(i.dependencies)?(typeof C=="function"&&(Lg(a,o,C,u),X=a.memoizedState),(ne=wa||Lb(a,o,ne,u,Q,X,j)||i!==null&&i.dependencies!==null&&Ff(i.dependencies))?(W||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,X,j),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,X,j)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===i.memoizedProps&&Q===i.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Q===i.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=X),p.props=u,p.state=X,p.context=j,u=ne):(typeof p.componentDidUpdate!="function"||E===i.memoizedProps&&Q===i.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Q===i.memoizedState||(a.flags|=1024),u=!1)}return p=u,od(i,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,i!==null&&u?(a.child=Ko(a,i.child,null,h),a.child=Ko(a,null,o,h)):mn(i,a,o,h),a.memoizedState=p.state,i=a.child):i=ji(i,a,h),i}function Jb(i,a,o,u){return Au(),a.flags|=256,mn(i,a,o,u),a.child}var Bg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fg(i){return{baseLanes:i,cachePool:zw()}}function qg(i,a,o){return i=i!==null?i.childLanes&~o:0,a&&(i|=vr),i}function e0(i,a,o){var u=a.pendingProps,h=!1,p=(a.flags&128)!==0,E;if((E=p)||(E=i!==null&&i.memoizedState===null?!1:(Qt.current&2)!==0),E&&(h=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,i===null){if(nt){if(h?Sa(a):Aa(),nt){var C=xt,j;if(j=C){e:{for(j=C,C=Zr;j.nodeType!==8;){if(!C){C=null;break e}if(j=Or(j.nextSibling),j===null){C=null;break e}}C=j}C!==null?(a.memoizedState={dehydrated:C,treeContext:Vs!==null?{id:Ni,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},j=Kn(18,null,null,0),j.stateNode=C,j.return=a,a.child=j,kn=a,xt=null,j=!0):j=!1}j||Us(a)}if(C=a.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return xp(C)?a.lanes=32:a.lanes=536870912,null;Li(a)}return C=u.children,u=u.fallback,h?(Aa(),h=a.mode,C=ld({mode:"hidden",children:C},h),u=ks(u,h,o,null),C.return=a,u.return=a,C.sibling=u,a.child=C,h=a.child,h.memoizedState=Fg(o),h.childLanes=qg(i,E,o),a.memoizedState=Bg,u):(Sa(a),Hg(a,C))}if(j=i.memoizedState,j!==null&&(C=j.dehydrated,C!==null)){if(p)a.flags&256?(Sa(a),a.flags&=-257,a=Gg(i,a,o)):a.memoizedState!==null?(Aa(),a.child=i.child,a.flags|=128,a=null):(Aa(),h=u.fallback,C=a.mode,u=ld({mode:"visible",children:u.children},C),h=ks(h,C,o,null),h.flags|=2,u.return=a,h.return=a,u.sibling=h,a.child=u,Ko(a,i.child,null,o),u=a.child,u.memoizedState=Fg(o),u.childLanes=qg(i,E,o),a.memoizedState=Bg,a=h);else if(Sa(a),xp(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var W=E.dgst;E=W,u=Error(r(419)),u.stack="",u.digest=E,xu({value:u,source:null,stack:null}),a=Gg(i,a,o)}else if(rn||Ru(i,a,o,!1),E=(o&i.childLanes)!==0,rn||E){if(E=mt,E!==null&&(u=o&-o,u=(u&42)!==0?1:Je(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==j.retryLane))throw j.retryLane=u,jo(i,u),er(E,i,u),Gb;C.data==="$?"||up(),a=Gg(i,a,o)}else C.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=j.treeContext,xt=Or(C.nextSibling),kn=a,nt=!0,js=null,Zr=!1,i!==null&&(gr[pr++]=Ni,gr[pr++]=Mi,gr[pr++]=Vs,Ni=i.id,Mi=i.overflow,Vs=a),a=Hg(a,u.children),a.flags|=4096);return a}return h?(Aa(),h=u.fallback,C=a.mode,j=i.child,W=j.sibling,u=Oi(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,W!==null?h=Oi(W,h):(h=ks(h,C,o,null),h.flags|=2),h.return=a,u.return=a,u.sibling=h,a.child=u,u=h,h=a.child,C=i.child.memoizedState,C===null?C=Fg(o):(j=C.cachePool,j!==null?(W=Kt._currentValue,j=j.parent!==W?{parent:W,pool:W}:j):j=zw(),C={baseLanes:C.baseLanes|o,cachePool:j}),h.memoizedState=C,h.childLanes=qg(i,E,o),a.memoizedState=Bg,u):(Sa(a),o=i.child,i=o.sibling,o=Oi(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,i!==null&&(E=a.deletions,E===null?(a.deletions=[i],a.flags|=16):E.push(i)),a.child=o,a.memoizedState=null,o)}function Hg(i,a){return a=ld({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function ld(i,a){return i=Kn(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Gg(i,a,o){return Ko(a,i.child,null,o),i=Hg(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function t0(i,a,o){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a),ug(i.return,a,o)}function $g(i,a,o,u,h){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function n0(i,a,o){var u=a.pendingProps,h=u.revealOrder,p=u.tail;if(mn(i,a,u.children,o),u=Qt.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&t0(i,o,a);else if(i.tag===19)t0(i,o,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(re(Qt,u),h){case"forwards":for(o=a.child,h=null;o!==null;)i=o.alternate,i!==null&&id(i)===null&&(h=o),o=o.sibling;o=h,o===null?(h=a.child,a.child=null):(h=o.sibling,o.sibling=null),$g(a,!1,h,o,p);break;case"backwards":for(o=null,h=a.child,a.child=null;h!==null;){if(i=h.alternate,i!==null&&id(i)===null){a.child=h;break}i=h.sibling,h.sibling=o,o=h,h=i}$g(a,!0,o,null,p);break;case"together":$g(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ji(i,a,o){if(i!==null&&(a.dependencies=i.dependencies),Ia|=a.lanes,(o&a.childLanes)===0)if(i!==null){if(Ru(i,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,o=Oi(i,i.pendingProps),a.child=o,o.return=a;i.sibling!==null;)i=i.sibling,o=o.sibling=Oi(i,i.pendingProps),o.return=a;o.sibling=null}return a.child}function Yg(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Ff(i)))}function jI(i,a,o){switch(a.tag){case 3:ke(a,a.stateNode.containerInfo),_a(a,Kt,i.memoizedState.cache),Au();break;case 27:case 5:bt(a);break;case 4:ke(a,a.stateNode.containerInfo);break;case 10:_a(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Sa(a),a.flags|=128,null):(o&a.child.childLanes)!==0?e0(i,a,o):(Sa(a),i=ji(i,a,o),i!==null?i.sibling:null);Sa(a);break;case 19:var h=(i.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(Ru(i,a,o,!1),u=(o&a.childLanes)!==0),h){if(u)return n0(i,a,o);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Qt,Qt.current),u)break;return null;case 22:case 23:return a.lanes=0,Kb(i,a,o);case 24:_a(a,Kt,i.memoizedState.cache)}return ji(i,a,o)}function r0(i,a,o){if(i!==null)if(i.memoizedProps!==a.pendingProps)rn=!0;else{if(!Yg(i,o)&&(a.flags&128)===0)return rn=!1,jI(i,a,o);rn=(i.flags&131072)!==0}else rn=!1,nt&&(a.flags&1048576)!==0&&Mw(a,Bf,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var u=a.elementType,h=u._init;if(u=h(u._payload),a.type=u,typeof u=="function")ng(u)?(i=Hs(u,i),a.tag=1,a=Zb(null,a,u,i,o)):(a.tag=0,a=zg(null,a,u,i,o));else{if(u!=null){if(h=u.$$typeof,h===K){a.tag=11,a=$b(null,a,u,i,o);break e}else if(h===M){a.tag=14,a=Yb(null,a,u,i,o);break e}}throw a=xe(u)||u,Error(r(306,a,""))}}return a;case 0:return zg(i,a,a.type,a.pendingProps,o);case 1:return u=a.type,h=Hs(u,a.pendingProps),Zb(i,a,u,h,o);case 3:e:{if(ke(a,a.stateNode.containerInfo),i===null)throw Error(r(387));u=a.pendingProps;var p=a.memoizedState;h=p.element,pg(i,a),Pu(a,u,null,o);var E=a.memoizedState;if(u=E.cache,_a(a,Kt,u),u!==p.cache&&cg(a,[Kt],o,!0),Mu(),u=E.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Jb(i,a,u,o);break e}else if(u!==h){h=hr(Error(r(424)),a),xu(h),a=Jb(i,a,u,o);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(xt=Or(i.firstChild),kn=a,nt=!0,js=null,Zr=!0,o=kb(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Au(),u===h){a=ji(i,a,o);break e}mn(i,a,u,o)}a=a.child}return a;case 26:return od(i,a),i===null?(o=oE(a.type,null,a.pendingProps,null))?a.memoizedState=o:nt||(o=a.type,i=a.pendingProps,u=Ed(_e.current).createElement(o),u[At]=a,u[vt]=i,pn(u,o,i),Pe(u),a.stateNode=u):a.memoizedState=oE(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return bt(a),i===null&&nt&&(u=a.stateNode=iE(a.type,a.pendingProps,_e.current),kn=a,Zr=!0,h=xt,Pa(a.type)?(Rp=h,xt=Or(u.firstChild)):xt=h),mn(i,a,a.pendingProps.children,o),od(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&nt&&((h=u=xt)&&(u=dO(u,a.type,a.pendingProps,Zr),u!==null?(a.stateNode=u,kn=a,xt=Or(u.firstChild),Zr=!1,h=!0):h=!1),h||Us(a)),bt(a),h=a.type,p=a.pendingProps,E=i!==null?i.memoizedProps:null,u=p.children,Tp(h,p)?u=null:E!==null&&Tp(h,E)&&(a.flags|=32),a.memoizedState!==null&&(h=Eg(i,a,II,null,null,o),nc._currentValue=h),od(i,a),mn(i,a,u,o),a.child;case 6:return i===null&&nt&&((i=o=xt)&&(o=hO(o,a.pendingProps,Zr),o!==null?(a.stateNode=o,kn=a,xt=null,i=!0):i=!1),i||Us(a)),null;case 13:return e0(i,a,o);case 4:return ke(a,a.stateNode.containerInfo),u=a.pendingProps,i===null?a.child=Ko(a,null,u,o):mn(i,a,u,o),a.child;case 11:return $b(i,a,a.type,a.pendingProps,o);case 7:return mn(i,a,a.pendingProps,o),a.child;case 8:return mn(i,a,a.pendingProps.children,o),a.child;case 12:return mn(i,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,_a(a,a.type,u.value),mn(i,a,u.children,o),a.child;case 9:return h=a.type._context,u=a.pendingProps.children,Bs(a),h=En(h),u=u(h),a.flags|=1,mn(i,a,u,o),a.child;case 14:return Yb(i,a,a.type,a.pendingProps,o);case 15:return Wb(i,a,a.type,a.pendingProps,o);case 19:return n0(i,a,o);case 31:return u=a.pendingProps,o=a.mode,u={mode:u.mode,children:u.children},i===null?(o=ld(u,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=Oi(i.child,u),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return Kb(i,a,o);case 24:return Bs(a),u=En(Kt),i===null?(h=hg(),h===null&&(h=mt,p=fg(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=o),h=p),a.memoizedState={parent:u,cache:h},gg(a),_a(a,Kt,h)):((i.lanes&o)!==0&&(pg(i,a),Pu(a,null,null,o),Mu()),h=i.memoizedState,p=a.memoizedState,h.parent!==u?(h={parent:u,cache:u},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),_a(a,Kt,u)):(u=p.cache,_a(a,Kt,u),u!==h.cache&&cg(a,[Kt],o,!0))),mn(i,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Ui(i){i.flags|=4}function i0(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!dE(a)){if(a=yr.current,a!==null&&((Xe&4194048)===Xe?Jr!==null:(Xe&62914560)!==Xe&&(Xe&536870912)===0||a!==Jr))throw Ou=mg,Bw;i.flags|=8192}}function ud(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?ma():536870912,i.lanes|=a,Jo|=a)}function Bu(i,a){if(!nt)switch(i.tailMode){case"hidden":a=i.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Et(i){var a=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(a)for(var h=i.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=u,i.childLanes=o,a}function UI(i,a,o){var u=a.pendingProps;switch(sg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(a),null;case 1:return Et(a),null;case 3:return o=a.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),ki(Kt),qe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Su(a)?Ui(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Vw())),Et(a),null;case 26:return o=a.memoizedState,i===null?(Ui(a),o!==null?(Et(a),i0(a,o)):(Et(a),a.flags&=-16777217)):o?o!==i.memoizedState?(Ui(a),Et(a),i0(a,o)):(Et(a),a.flags&=-16777217):(i.memoizedProps!==u&&Ui(a),Et(a),a.flags&=-16777217),null;case 27:Pt(a),o=_e.current;var h=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==u&&Ui(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return Et(a),null}i=he.current,Su(a)?Pw(a):(i=iE(h,u,o),a.stateNode=i,Ui(a))}return Et(a),null;case 5:if(Pt(a),o=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&Ui(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return Et(a),null}if(i=he.current,Su(a))Pw(a);else{switch(h=Ed(_e.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}i[At]=a,i[vt]=u;e:for(h=a.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break e;for(;h.sibling===null;){if(h.return===null||h.return===a)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}a.stateNode=i;e:switch(pn(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ui(a)}}return Et(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==u&&Ui(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(r(166));if(i=_e.current,Su(a)){if(i=a.stateNode,o=a.memoizedProps,u=null,h=kn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}i[At]=a,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||X0(i.nodeValue,o)),i||Us(a)}else i=Ed(i).createTextNode(u),i[At]=a,a.stateNode=i}return Et(a),null;case 13:if(u=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=Su(a),u!==null&&u.dehydrated!==null){if(i===null){if(!h)throw Error(r(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[At]=a}else Au(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Et(a),h=!1}else h=Vw(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(Li(a),a):(Li(a),null)}if(Li(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=a.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==h&&(u.flags|=2048)}return o!==i&&o&&(a.child.flags|=8192),ud(a,a.updateQueue),Et(a),null;case 4:return qe(),i===null&&vp(a.stateNode.containerInfo),Et(a),null;case 10:return ki(a.type),Et(a),null;case 19:if(fe(Qt),h=a.memoizedState,h===null)return Et(a),null;if(u=(a.flags&128)!==0,p=h.rendering,p===null)if(u)Bu(h,!1);else{if(Rt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(p=id(i),p!==null){for(a.flags|=128,Bu(h,!1),i=p.updateQueue,a.updateQueue=i,ud(a,i),a.subtreeFlags=0,i=o,o=a.child;o!==null;)Nw(o,i),o=o.sibling;return re(Qt,Qt.current&1|2),a.child}i=i.sibling}h.tail!==null&&$t()>dd&&(a.flags|=128,u=!0,Bu(h,!1),a.lanes=4194304)}else{if(!u)if(i=id(p),i!==null){if(a.flags|=128,u=!0,i=i.updateQueue,a.updateQueue=i,ud(a,i),Bu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!nt)return Et(a),null}else 2*$t()-h.renderingStartTime>dd&&o!==536870912&&(a.flags|=128,u=!0,Bu(h,!1),a.lanes=4194304);h.isBackwards?(p.sibling=a.child,a.child=p):(i=h.last,i!==null?i.sibling=p:a.child=p,h.last=p)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=$t(),a.sibling=null,i=Qt.current,re(Qt,u?i&1|2:i&1),a):(Et(a),null);case 22:case 23:return Li(a),wg(),u=a.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(Et(a),a.subtreeFlags&6&&(a.flags|=8192)):Et(a),o=a.updateQueue,o!==null&&ud(a,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),i!==null&&fe(Fs),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),ki(Kt),Et(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function zI(i,a){switch(sg(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return ki(Kt),qe(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Pt(a),null;case 13:if(Li(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Au()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return fe(Qt),null;case 4:return qe(),null;case 10:return ki(a.type),null;case 22:case 23:return Li(a),wg(),i!==null&&fe(Fs),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return ki(Kt),null;case 25:return null;default:return null}}function a0(i,a){switch(sg(a),a.tag){case 3:ki(Kt),qe();break;case 26:case 27:case 5:Pt(a);break;case 4:qe();break;case 13:Li(a);break;case 19:fe(Qt);break;case 10:ki(a.type);break;case 22:case 23:Li(a),wg(),i!==null&&fe(Fs);break;case 24:ki(Kt)}}function Fu(i,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&i)===i){u=void 0;var p=o.create,E=o.inst;u=p(),E.destroy=u}o=o.next}while(o!==h)}}catch(C){ht(a,a.return,C)}}function xa(i,a,o){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var p=h.next;u=p;do{if((u.tag&i)===i){var E=u.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,h=a;var j=o,W=C;try{W()}catch(ne){ht(h,j,ne)}}}u=u.next}while(u!==p)}}catch(ne){ht(a,a.return,ne)}}function s0(i){var a=i.updateQueue;if(a!==null){var o=i.stateNode;try{Yw(a,o)}catch(u){ht(i,i.return,u)}}}function o0(i,a,o){o.props=Hs(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){ht(i,a,u)}}function qu(i,a){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(h){ht(i,a,h)}}function ei(i,a){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){ht(i,a,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){ht(i,a,h)}else o.current=null}function l0(i){var a=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){ht(i,i.return,h)}}function Wg(i,a,o){try{var u=i.stateNode;oO(u,i.type,o,a),u[vt]=a}catch(h){ht(i,i.return,h)}}function u0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Pa(i.type)||i.tag===4}function Kg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||u0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Pa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Qg(i,a,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(i),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=bd));else if(u!==4&&(u===27&&Pa(i.type)&&(o=i.stateNode,a=null),i=i.child,i!==null))for(Qg(i,a,o),i=i.sibling;i!==null;)Qg(i,a,o),i=i.sibling}function cd(i,a,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?o.insertBefore(i,a):o.appendChild(i);else if(u!==4&&(u===27&&Pa(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(cd(i,a,o),i=i.sibling;i!==null;)cd(i,a,o),i=i.sibling}function c0(i){var a=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);pn(a,u,o),a[At]=i,a[vt]=o}catch(p){ht(i,i.return,p)}}var zi=!1,It=!1,Xg=!1,f0=typeof WeakSet=="function"?WeakSet:Set,an=null;function BI(i,a){if(i=i.containerInfo,bp=Cd,i=Ew(i),Km(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var E=0,C=-1,j=-1,W=0,ne=0,ae=i,Q=null;t:for(;;){for(var X;ae!==o||h!==0&&ae.nodeType!==3||(C=E+h),ae!==p||u!==0&&ae.nodeType!==3||(j=E+u),ae.nodeType===3&&(E+=ae.nodeValue.length),(X=ae.firstChild)!==null;)Q=ae,ae=X;for(;;){if(ae===i)break t;if(Q===o&&++W===h&&(C=E),Q===p&&++ne===u&&(j=E),(X=ae.nextSibling)!==null)break;ae=Q,Q=ae.parentNode}ae=X}o=C===-1||j===-1?null:{start:C,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ep={focusedElem:i,selectionRange:o},Cd=!1,an=a;an!==null;)if(a=an,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,an=i;else for(;an!==null;){switch(a=an,p=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=a,h=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var De=Hs(o.type,h,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(De,p),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ae){ht(o,o.return,Ae)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,o=i.nodeType,o===9)Ap(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ap(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,an=i;break}an=a.return}}function d0(i,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ra(i,o),u&4&&Fu(5,o);break;case 1:if(Ra(i,o),u&4)if(i=o.stateNode,a===null)try{i.componentDidMount()}catch(E){ht(o,o.return,E)}else{var h=Hs(o.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(h,a,i.__reactInternalSnapshotBeforeUpdate)}catch(E){ht(o,o.return,E)}}u&64&&s0(o),u&512&&qu(o,o.return);break;case 3:if(Ra(i,o),u&64&&(i=o.updateQueue,i!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{Yw(i,a)}catch(E){ht(o,o.return,E)}}break;case 27:a===null&&u&4&&c0(o);case 26:case 5:Ra(i,o),a===null&&u&4&&l0(o),u&512&&qu(o,o.return);break;case 12:Ra(i,o);break;case 13:Ra(i,o),u&4&&g0(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=QI.bind(null,o),mO(i,o))));break;case 22:if(u=o.memoizedState!==null||zi,!u){a=a!==null&&a.memoizedState!==null||It,h=zi;var p=It;zi=u,(It=a)&&!p?Ca(i,o,(o.subtreeFlags&8772)!==0):Ra(i,o),zi=h,It=p}break;case 30:break;default:Ra(i,o)}}function h0(i){var a=i.alternate;a!==null&&(i.alternate=null,h0(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Ar(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var _t=null,jn=!1;function Bi(i,a,o){for(o=o.child;o!==null;)m0(i,a,o),o=o.sibling}function m0(i,a,o){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(yt,o)}catch{}switch(o.tag){case 26:It||ei(o,a),Bi(i,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:It||ei(o,a);var u=_t,h=jn;Pa(o.type)&&(_t=o.stateNode,jn=!1),Bi(i,a,o),Zu(o.stateNode),_t=u,jn=h;break;case 5:It||ei(o,a);case 6:if(u=_t,h=jn,_t=null,Bi(i,a,o),_t=u,jn=h,_t!==null)if(jn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(o.stateNode)}catch(p){ht(o,a,p)}else try{_t.removeChild(o.stateNode)}catch(p){ht(o,a,p)}break;case 18:_t!==null&&(jn?(i=_t,nE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),sc(i)):nE(_t,o.stateNode));break;case 4:u=_t,h=jn,_t=o.stateNode.containerInfo,jn=!0,Bi(i,a,o),_t=u,jn=h;break;case 0:case 11:case 14:case 15:It||xa(2,o,a),It||xa(4,o,a),Bi(i,a,o);break;case 1:It||(ei(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&o0(o,a,u)),Bi(i,a,o);break;case 21:Bi(i,a,o);break;case 22:It=(u=It)||o.memoizedState!==null,Bi(i,a,o),It=u;break;default:Bi(i,a,o)}}function g0(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{sc(i)}catch(o){ht(a,a.return,o)}}function FI(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new f0),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new f0),a;default:throw Error(r(435,i.tag))}}function Zg(i,a){var o=FI(i);a.forEach(function(u){var h=XI.bind(null,i,u);o.has(u)||(o.add(u),u.then(h,h))})}function Qn(i,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],p=i,E=a,C=E;e:for(;C!==null;){switch(C.tag){case 27:if(Pa(C.type)){_t=C.stateNode,jn=!1;break e}break;case 5:_t=C.stateNode,jn=!1;break e;case 3:case 4:_t=C.stateNode.containerInfo,jn=!0;break e}C=C.return}if(_t===null)throw Error(r(160));m0(p,E,h),_t=null,jn=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)p0(a,i),a=a.sibling}var Ir=null;function p0(i,a){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Qn(a,i),Xn(i),u&4&&(xa(3,i,i.return),Fu(3,i),xa(5,i,i.return));break;case 1:Qn(a,i),Xn(i),u&512&&(It||o===null||ei(o,o.return)),u&64&&zi&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=Ir;if(Qn(a,i),Xn(i),u&512&&(It||o===null||ei(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Sr]||p[At]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(u),h.head.insertBefore(p,h.querySelector("head > title"))),pn(p,u,o),p[At]=i,Pe(p),u=p;break e;case"link":var E=cE("link","href",h).get(u+(o.href||""));if(E){for(var C=0;C<E.length;C++)if(p=E[C],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(C,1);break t}}p=h.createElement(u),pn(p,u,o),h.head.appendChild(p);break;case"meta":if(E=cE("meta","content",h).get(u+(o.content||""))){for(C=0;C<E.length;C++)if(p=E[C],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(C,1);break t}}p=h.createElement(u),pn(p,u,o),h.head.appendChild(p);break;default:throw Error(r(468,u))}p[At]=i,Pe(p),u=p}i.stateNode=u}else fE(h,i.type,i.stateNode);else i.stateNode=uE(h,u,i.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?fE(h,i.type,i.stateNode):uE(h,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Wg(i,i.memoizedProps,o.memoizedProps)}break;case 27:Qn(a,i),Xn(i),u&512&&(It||o===null||ei(o,o.return)),o!==null&&u&4&&Wg(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Qn(a,i),Xn(i),u&512&&(It||o===null||ei(o,o.return)),i.flags&32){h=i.stateNode;try{ur(h,"")}catch(X){ht(i,i.return,X)}}u&4&&i.stateNode!=null&&(h=i.memoizedProps,Wg(i,h,o!==null?o.memoizedProps:h)),u&1024&&(Xg=!0);break;case 6:if(Qn(a,i),Xn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(X){ht(i,i.return,X)}}break;case 3:if(Ad=null,h=Ir,Ir=Td(a.containerInfo),Qn(a,i),Ir=h,Xn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{sc(a.containerInfo)}catch(X){ht(i,i.return,X)}Xg&&(Xg=!1,y0(i));break;case 4:u=Ir,Ir=Td(i.stateNode.containerInfo),Qn(a,i),Xn(i),Ir=u;break;case 12:Qn(a,i),Xn(i);break;case 13:Qn(a,i),Xn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ip=$t()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Zg(i,u)));break;case 22:h=i.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,W=zi,ne=It;if(zi=W||h,It=ne||j,Qn(a,i),It=ne,zi=W,Xn(i),u&8192)e:for(a=i.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(o===null||j||zi||It||Gs(i)),o=null,a=i;;){if(a.tag===5||a.tag===26){if(o===null){j=o=a;try{if(p=j.stateNode,h)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=j.stateNode;var ae=j.memoizedProps.style,Q=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;C.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(X){ht(j,j.return,X)}}}else if(a.tag===6){if(o===null){j=a;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(X){ht(j,j.return,X)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Zg(i,o))));break;case 19:Qn(a,i),Xn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Zg(i,u)));break;case 30:break;case 21:break;default:Qn(a,i),Xn(i)}}function Xn(i){var a=i.flags;if(a&2){try{for(var o,u=i.return;u!==null;){if(u0(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var h=o.stateNode,p=Kg(i);cd(i,p,h);break;case 5:var E=o.stateNode;o.flags&32&&(ur(E,""),o.flags&=-33);var C=Kg(i);cd(i,C,E);break;case 3:case 4:var j=o.stateNode.containerInfo,W=Kg(i);Qg(i,W,j);break;default:throw Error(r(161))}}catch(ne){ht(i,i.return,ne)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function y0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;y0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Ra(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)d0(i,a.alternate,a),a=a.sibling}function Gs(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:xa(4,a,a.return),Gs(a);break;case 1:ei(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&o0(a,a.return,o),Gs(a);break;case 27:Zu(a.stateNode);case 26:case 5:ei(a,a.return),Gs(a);break;case 22:a.memoizedState===null&&Gs(a);break;case 30:Gs(a);break;default:Gs(a)}i=i.sibling}}function Ca(i,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,h=i,p=a,E=p.flags;switch(p.tag){case 0:case 11:case 15:Ca(h,p,o),Fu(4,p);break;case 1:if(Ca(h,p,o),u=p,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(W){ht(u,u.return,W)}if(u=p,h=u.updateQueue,h!==null){var C=u.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)$w(j[h],C)}catch(W){ht(u,u.return,W)}}o&&E&64&&s0(p),qu(p,p.return);break;case 27:c0(p);case 26:case 5:Ca(h,p,o),o&&u===null&&E&4&&l0(p),qu(p,p.return);break;case 12:Ca(h,p,o);break;case 13:Ca(h,p,o),o&&E&4&&g0(h,p);break;case 22:p.memoizedState===null&&Ca(h,p,o),qu(p,p.return);break;case 30:break;default:Ca(h,p,o)}a=a.sibling}}function Jg(i,a){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Cu(o))}function ep(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Cu(i))}function ti(i,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)v0(i,a,o,u),a=a.sibling}function v0(i,a,o,u){var h=a.flags;switch(a.tag){case 0:case 11:case 15:ti(i,a,o,u),h&2048&&Fu(9,a);break;case 1:ti(i,a,o,u);break;case 3:ti(i,a,o,u),h&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Cu(i)));break;case 12:if(h&2048){ti(i,a,o,u),i=a.stateNode;try{var p=a.memoizedProps,E=p.id,C=p.onPostCommit;typeof C=="function"&&C(E,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(j){ht(a,a.return,j)}}else ti(i,a,o,u);break;case 13:ti(i,a,o,u);break;case 23:break;case 22:p=a.stateNode,E=a.alternate,a.memoizedState!==null?p._visibility&2?ti(i,a,o,u):Hu(i,a):p._visibility&2?ti(i,a,o,u):(p._visibility|=2,Qo(i,a,o,u,(a.subtreeFlags&10256)!==0)),h&2048&&Jg(E,a);break;case 24:ti(i,a,o,u),h&2048&&ep(a.alternate,a);break;default:ti(i,a,o,u)}}function Qo(i,a,o,u,h){for(h=h&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=i,E=a,C=o,j=u,W=E.flags;switch(E.tag){case 0:case 11:case 15:Qo(p,E,C,j,h),Fu(8,E);break;case 23:break;case 22:var ne=E.stateNode;E.memoizedState!==null?ne._visibility&2?Qo(p,E,C,j,h):Hu(p,E):(ne._visibility|=2,Qo(p,E,C,j,h)),h&&W&2048&&Jg(E.alternate,E);break;case 24:Qo(p,E,C,j,h),h&&W&2048&&ep(E.alternate,E);break;default:Qo(p,E,C,j,h)}a=a.sibling}}function Hu(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=i,u=a,h=u.flags;switch(u.tag){case 22:Hu(o,u),h&2048&&Jg(u.alternate,u);break;case 24:Hu(o,u),h&2048&&ep(u.alternate,u);break;default:Hu(o,u)}a=a.sibling}}var Gu=8192;function Xo(i){if(i.subtreeFlags&Gu)for(i=i.child;i!==null;)_0(i),i=i.sibling}function _0(i){switch(i.tag){case 26:Xo(i),i.flags&Gu&&i.memoizedState!==null&&RO(Ir,i.memoizedState,i.memoizedProps);break;case 5:Xo(i);break;case 3:case 4:var a=Ir;Ir=Td(i.stateNode.containerInfo),Xo(i),Ir=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Gu,Gu=16777216,Xo(i),Gu=a):Xo(i));break;default:Xo(i)}}function w0(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function $u(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];an=u,E0(u,i)}w0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)b0(i),i=i.sibling}function b0(i){switch(i.tag){case 0:case 11:case 15:$u(i),i.flags&2048&&xa(9,i,i.return);break;case 3:$u(i);break;case 12:$u(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,fd(i)):$u(i);break;default:$u(i)}}function fd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];an=u,E0(u,i)}w0(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:xa(8,a,a.return),fd(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,fd(a));break;default:fd(a)}i=i.sibling}}function E0(i,a){for(;an!==null;){var o=an;switch(o.tag){case 0:case 11:case 15:xa(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Cu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,an=u;else e:for(o=i;an!==null;){u=an;var h=u.sibling,p=u.return;if(h0(u),u===o){an=null;break e}if(h!==null){h.return=p,an=h;break e}an=p}}}var qI={getCacheForType:function(i){var a=En(Kt),o=a.data.get(i);return o===void 0&&(o=i(),a.data.set(i,o)),o}},HI=typeof WeakMap=="function"?WeakMap:Map,st=0,mt=null,He=null,Xe=0,ot=0,Zn=null,Da=!1,Zo=!1,tp=!1,Fi=0,Rt=0,Ia=0,$s=0,np=0,vr=0,Jo=0,Yu=null,Un=null,rp=!1,ip=0,dd=1/0,hd=null,Oa=null,gn=0,Na=null,el=null,tl=0,ap=0,sp=null,T0=null,Wu=0,op=null;function Jn(){if((st&2)!==0&&Xe!==0)return Xe&-Xe;if(G.T!==null){var i=Fo;return i!==0?i:mp()}return qr()}function S0(){vr===0&&(vr=(Xe&536870912)===0||nt?vs():536870912);var i=yr.current;return i!==null&&(i.flags|=32),vr}function er(i,a,o){(i===mt&&(ot===2||ot===9)||i.cancelPendingCommit!==null)&&(nl(i,0),Ma(i,Xe,vr,!1)),sr(i,o),((st&2)===0||i!==mt)&&(i===mt&&((st&2)===0&&($s|=o),Rt===4&&Ma(i,Xe,vr,!1)),ni(i))}function A0(i,a,o){if((st&6)!==0)throw Error(r(327));var u=!o&&(a&124)===0&&(a&i.expiredLanes)===0||Br(i,a),h=u?YI(i,a):cp(i,a,!0),p=u;do{if(h===0){Zo&&!u&&Ma(i,a,0,!1);break}else{if(o=i.current.alternate,p&&!GI(o)){h=cp(i,a,!1),p=!1;continue}if(h===2){if(p=a,i.errorRecoveryDisabledLanes&p)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var C=i;h=Yu;var j=C.current.memoizedState.isDehydrated;if(j&&(nl(C,E).flags|=256),E=cp(C,E,!1),E!==2){if(tp&&!j){C.errorRecoveryDisabledLanes|=p,$s|=p,h=4;break e}p=Un,Un=h,p!==null&&(Un===null?Un=p:Un.push.apply(Un,p))}h=E}if(p=!1,h!==2)continue}}if(h===1){nl(i,0),Ma(i,a,0,!0);break}e:{switch(u=i,p=h,p){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Ma(u,a,vr,!Da);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(h=ip+300-$t(),10<h)){if(Ma(u,a,vr,!Da),wi(u,0,!0)!==0)break e;u.timeoutHandle=eE(x0.bind(null,u,o,Un,hd,rp,a,vr,$s,Jo,Da,p,2,-0,0),h);break e}x0(u,o,Un,hd,rp,a,vr,$s,Jo,Da,p,0,-0,0)}}break}while(!0);ni(i)}function x0(i,a,o,u,h,p,E,C,j,W,ne,ae,Q,X){if(i.timeoutHandle=-1,ae=a.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(tc={stylesheets:null,count:0,unsuspend:xO},_0(a),ae=CO(),ae!==null)){i.cancelPendingCommit=ae(M0.bind(null,i,a,p,o,u,h,E,C,j,ne,1,Q,X)),Ma(i,p,E,!W);return}M0(i,a,p,o,u,h,E,C,j)}function GI(i){for(var a=i;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Wn(p(),h))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ma(i,a,o,u){a&=~np,a&=~$s,i.suspendedLanes|=a,i.pingedLanes&=~a,u&&(i.warmLanes|=a),u=i.expirationTimes;for(var h=a;0<h;){var p=31-Vt(h),E=1<<p;u[p]=-1,h&=~E}o!==0&&gt(i,o,a)}function md(){return(st&6)===0?(Ku(0),!1):!0}function lp(){if(He!==null){if(ot===0)var i=He.return;else i=He,Pi=zs=null,Ag(i),Wo=null,Uu=0,i=He;for(;i!==null;)a0(i.alternate,i),i=i.return;He=null}}function nl(i,a){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,uO(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),lp(),mt=i,He=o=Oi(i.current,null),Xe=a,ot=0,Zn=null,Da=!1,Zo=Br(i,a),tp=!1,Jo=vr=np=$s=Ia=Rt=0,Un=Yu=null,rp=!1,(a&8)!==0&&(a|=a&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=a;0<u;){var h=31-Vt(u),p=1<<h;a|=i[h],u&=~p}return Fi=a,Vf(),o}function R0(i,a){je=null,G.H=td,a===Iu||a===Gf?(a=Hw(),ot=3):a===Bw?(a=Hw(),ot=4):ot=a===Gb?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Zn=a,He===null&&(Rt=1,sd(i,hr(a,i.current)))}function C0(){var i=G.H;return G.H=td,i===null?td:i}function D0(){var i=G.A;return G.A=qI,i}function up(){Rt=4,Da||(Xe&4194048)!==Xe&&yr.current!==null||(Zo=!0),(Ia&134217727)===0&&($s&134217727)===0||mt===null||Ma(mt,Xe,vr,!1)}function cp(i,a,o){var u=st;st|=2;var h=C0(),p=D0();(mt!==i||Xe!==a)&&(hd=null,nl(i,a)),a=!1;var E=Rt;e:do try{if(ot!==0&&He!==null){var C=He,j=Zn;switch(ot){case 8:lp(),E=6;break e;case 3:case 2:case 9:case 6:yr.current===null&&(a=!0);var W=ot;if(ot=0,Zn=null,rl(i,C,j,W),o&&Zo){E=0;break e}break;default:W=ot,ot=0,Zn=null,rl(i,C,j,W)}}$I(),E=Rt;break}catch(ne){R0(i,ne)}while(!0);return a&&i.shellSuspendCounter++,Pi=zs=null,st=u,G.H=h,G.A=p,He===null&&(mt=null,Xe=0,Vf()),E}function $I(){for(;He!==null;)I0(He)}function YI(i,a){var o=st;st|=2;var u=C0(),h=D0();mt!==i||Xe!==a?(hd=null,dd=$t()+500,nl(i,a)):Zo=Br(i,a);e:do try{if(ot!==0&&He!==null){a=He;var p=Zn;t:switch(ot){case 1:ot=0,Zn=null,rl(i,a,p,1);break;case 2:case 9:if(Fw(p)){ot=0,Zn=null,O0(a);break}a=function(){ot!==2&&ot!==9||mt!==i||(ot=7),ni(i)},p.then(a,a);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:Fw(p)?(ot=0,Zn=null,O0(a)):(ot=0,Zn=null,rl(i,a,p,7));break;case 5:var E=null;switch(He.tag){case 26:E=He.memoizedState;case 5:case 27:var C=He;if(!E||dE(E)){ot=0,Zn=null;var j=C.sibling;if(j!==null)He=j;else{var W=C.return;W!==null?(He=W,gd(W)):He=null}break t}}ot=0,Zn=null,rl(i,a,p,5);break;case 6:ot=0,Zn=null,rl(i,a,p,6);break;case 8:lp(),Rt=6;break e;default:throw Error(r(462))}}WI();break}catch(ne){R0(i,ne)}while(!0);return Pi=zs=null,G.H=u,G.A=h,st=o,He!==null?0:(mt=null,Xe=0,Vf(),Rt)}function WI(){for(;He!==null&&!Hn();)I0(He)}function I0(i){var a=r0(i.alternate,i,Fi);i.memoizedProps=i.pendingProps,a===null?gd(i):He=a}function O0(i){var a=i,o=a.alternate;switch(a.tag){case 15:case 0:a=Xb(o,a,a.pendingProps,a.type,void 0,Xe);break;case 11:a=Xb(o,a,a.pendingProps,a.type.render,a.ref,Xe);break;case 5:Ag(a);default:a0(o,a),a=He=Nw(a,Fi),a=r0(o,a,Fi)}i.memoizedProps=i.pendingProps,a===null?gd(i):He=a}function rl(i,a,o,u){Pi=zs=null,Ag(a),Wo=null,Uu=0;var h=a.return;try{if(LI(i,h,a,o,Xe)){Rt=1,sd(i,hr(o,i.current)),He=null;return}}catch(p){if(h!==null)throw He=h,p;Rt=1,sd(i,hr(o,i.current)),He=null;return}a.flags&32768?(nt||u===1?i=!0:Zo||(Xe&536870912)!==0?i=!1:(Da=i=!0,(u===2||u===9||u===3||u===6)&&(u=yr.current,u!==null&&u.tag===13&&(u.flags|=16384))),N0(a,i)):gd(a)}function gd(i){var a=i;do{if((a.flags&32768)!==0){N0(a,Da);return}i=a.return;var o=UI(a.alternate,a,Fi);if(o!==null){He=o;return}if(a=a.sibling,a!==null){He=a;return}He=a=i}while(a!==null);Rt===0&&(Rt=5)}function N0(i,a){do{var o=zI(i.alternate,i);if(o!==null){o.flags&=32767,He=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(i=i.sibling,i!==null)){He=i;return}He=i=o}while(i!==null);Rt=6,He=null}function M0(i,a,o,u,h,p,E,C,j){i.cancelPendingCommit=null;do pd();while(gn!==0);if((st&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(p=a.lanes|a.childLanes,p|=eg,Lt(i,o,p,E,C,j),i===mt&&(He=mt=null,Xe=0),el=a,Na=i,tl=o,ap=p,sp=h,T0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,ZI(yi,function(){return j0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=G.T,G.T=null,h=ue.p,ue.p=2,E=st,st|=4;try{BI(i,a,o)}finally{st=E,ue.p=h,G.T=u}}gn=1,P0(),k0(),V0()}}function P0(){if(gn===1){gn=0;var i=Na,a=el,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=G.T,G.T=null;var u=ue.p;ue.p=2;var h=st;st|=4;try{p0(a,i);var p=Ep,E=Ew(i.containerInfo),C=p.focusedElem,j=p.selectionRange;if(E!==C&&C&&C.ownerDocument&&bw(C.ownerDocument.documentElement,C)){if(j!==null&&Km(C)){var W=j.start,ne=j.end;if(ne===void 0&&(ne=W),"selectionStart"in C)C.selectionStart=W,C.selectionEnd=Math.min(ne,C.value.length);else{var ae=C.ownerDocument||document,Q=ae&&ae.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),De=C.textContent.length,Ae=Math.min(j.start,De),ft=j.end===void 0?Ae:Math.min(j.end,De);!X.extend&&Ae>ft&&(E=ft,ft=Ae,Ae=E);var H=ww(C,Ae),F=ww(C,ft);if(H&&F&&(X.rangeCount!==1||X.anchorNode!==H.node||X.anchorOffset!==H.offset||X.focusNode!==F.node||X.focusOffset!==F.offset)){var Y=ae.createRange();Y.setStart(H.node,H.offset),X.removeAllRanges(),Ae>ft?(X.addRange(Y),X.extend(F.node,F.offset)):(Y.setEnd(F.node,F.offset),X.addRange(Y))}}}}for(ae=[],X=C;X=X.parentNode;)X.nodeType===1&&ae.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ae.length;C++){var ie=ae[C];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Cd=!!bp,Ep=bp=null}finally{st=h,ue.p=u,G.T=o}}i.current=a,gn=2}}function k0(){if(gn===2){gn=0;var i=Na,a=el,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=G.T,G.T=null;var u=ue.p;ue.p=2;var h=st;st|=4;try{d0(i,a.alternate,a)}finally{st=h,ue.p=u,G.T=o}}gn=3}}function V0(){if(gn===4||gn===3){gn=0,Gt();var i=Na,a=el,o=tl,u=T0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?gn=5:(gn=0,el=Na=null,L0(i,i.pendingLanes));var h=i.pendingLanes;if(h===0&&(Oa=null),un(o),a=a.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(yt,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=G.T,h=ue.p,ue.p=2,G.T=null;try{for(var p=i.onRecoverableError,E=0;E<u.length;E++){var C=u[E];p(C.value,{componentStack:C.stack})}}finally{G.T=a,ue.p=h}}(tl&3)!==0&&pd(),ni(i),h=i.pendingLanes,(o&4194090)!==0&&(h&42)!==0?i===op?Wu++:(Wu=0,op=i):Wu=0,Ku(0)}}function L0(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Cu(a)))}function pd(i){return P0(),k0(),V0(),j0()}function j0(){if(gn!==5)return!1;var i=Na,a=ap;ap=0;var o=un(tl),u=G.T,h=ue.p;try{ue.p=32>o?32:o,G.T=null,o=sp,sp=null;var p=Na,E=tl;if(gn=0,el=Na=null,tl=0,(st&6)!==0)throw Error(r(331));var C=st;if(st|=4,b0(p.current),v0(p,p.current,E,o),st=C,Ku(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(yt,p)}catch{}return!0}finally{ue.p=h,G.T=u,L0(i,a)}}function U0(i,a,o){a=hr(o,a),a=Ug(i.stateNode,a,2),i=Ea(i,a,2),i!==null&&(sr(i,2),ni(i))}function ht(i,a,o){if(i.tag===3)U0(i,i,o);else for(;a!==null;){if(a.tag===3){U0(a,i,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Oa===null||!Oa.has(u))){i=hr(o,i),o=qb(2),u=Ea(a,o,2),u!==null&&(Hb(o,u,a,i),sr(u,2),ni(u));break}}a=a.return}}function fp(i,a,o){var u=i.pingCache;if(u===null){u=i.pingCache=new HI;var h=new Set;u.set(a,h)}else h=u.get(a),h===void 0&&(h=new Set,u.set(a,h));h.has(o)||(tp=!0,h.add(o),i=KI.bind(null,i,a,o),a.then(i,i))}function KI(i,a,o){var u=i.pingCache;u!==null&&u.delete(a),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,mt===i&&(Xe&o)===o&&(Rt===4||Rt===3&&(Xe&62914560)===Xe&&300>$t()-ip?(st&2)===0&&nl(i,0):np|=o,Jo===Xe&&(Jo=0)),ni(i)}function z0(i,a){a===0&&(a=ma()),i=jo(i,a),i!==null&&(sr(i,a),ni(i))}function QI(i){var a=i.memoizedState,o=0;a!==null&&(o=a.retryLane),z0(i,o)}function XI(i,a){var o=0;switch(i.tag){case 13:var u=i.stateNode,h=i.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(a),z0(i,o)}function ZI(i,a){return ln(i,a)}var yd=null,il=null,dp=!1,vd=!1,hp=!1,Ys=0;function ni(i){i!==il&&i.next===null&&(il===null?yd=il=i:il=il.next=i),vd=!0,dp||(dp=!0,eO())}function Ku(i,a){if(!hp&&vd){hp=!0;do for(var o=!1,u=yd;u!==null;){if(i!==0){var h=u.pendingLanes;if(h===0)var p=0;else{var E=u.suspendedLanes,C=u.pingedLanes;p=(1<<31-Vt(42|i)+1)-1,p&=h&~(E&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,H0(u,p))}else p=Xe,p=wi(u,u===mt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Br(u,p)||(o=!0,H0(u,p));u=u.next}while(o);hp=!1}}function JI(){B0()}function B0(){vd=dp=!1;var i=0;Ys!==0&&(lO()&&(i=Ys),Ys=0);for(var a=$t(),o=null,u=yd;u!==null;){var h=u.next,p=F0(u,a);p===0?(u.next=null,o===null?yd=h:o.next=h,h===null&&(il=o)):(o=u,(i!==0||(p&3)!==0)&&(vd=!0)),u=h}Ku(i)}function F0(i,a){for(var o=i.suspendedLanes,u=i.pingedLanes,h=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var E=31-Vt(p),C=1<<E,j=h[E];j===-1?((C&o)===0||(C&u)!==0)&&(h[E]=bi(C,a)):j<=a&&(i.expiredLanes|=C),p&=~C}if(a=mt,o=Xe,o=wi(i,i===a?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===a&&(ot===2||ot===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&rt(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Br(i,o)){if(a=o&-o,a===i.callbackPriority)return a;switch(u!==null&&rt(u),un(o)){case 2:case 8:o=ha;break;case 32:o=yi;break;case 268435456:o=vi;break;default:o=yi}return u=q0.bind(null,i),o=ln(o,u),i.callbackPriority=a,i.callbackNode=o,a}return u!==null&&u!==null&&rt(u),i.callbackPriority=2,i.callbackNode=null,2}function q0(i,a){if(gn!==0&&gn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(pd()&&i.callbackNode!==o)return null;var u=Xe;return u=wi(i,i===mt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(A0(i,u,a),F0(i,$t()),i.callbackNode!=null&&i.callbackNode===o?q0.bind(null,i):null)}function H0(i,a){if(pd())return null;A0(i,a,!0)}function eO(){cO(function(){(st&6)!==0?ln(Gn,JI):B0()})}function mp(){return Ys===0&&(Ys=vs()),Ys}function G0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:xo(""+i)}function $0(i,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,i.id&&o.setAttribute("form",i.id),a.parentNode.insertBefore(o,a),i=new FormData(i),o.parentNode.removeChild(o),i}function tO(i,a,o,u,h){if(a==="submit"&&o&&o.stateNode===h){var p=G0((h[vt]||null).action),E=u.submitter;E&&(a=(a=E[vt]||null)?G0(a.formAction):E.getAttribute("formAction"),a!==null&&(p=a,E=null));var C=new Ro("action","action",null,u,h);i.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ys!==0){var j=E?$0(h,E):new FormData(h);Pg(o,{pending:!0,data:j,method:h.method,action:p},null,j)}}else typeof p=="function"&&(C.preventDefault(),j=E?$0(h,E):new FormData(h),Pg(o,{pending:!0,data:j,method:h.method,action:p},p,j))},currentTarget:h}]})}}for(var gp=0;gp<Jm.length;gp++){var pp=Jm[gp],nO=pp.toLowerCase(),rO=pp[0].toUpperCase()+pp.slice(1);Dr(nO,"on"+rO)}Dr(Aw,"onAnimationEnd"),Dr(xw,"onAnimationIteration"),Dr(Rw,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(wI,"onTransitionRun"),Dr(bI,"onTransitionStart"),Dr(EI,"onTransitionCancel"),Dr(Cw,"onTransitionEnd"),Rr("onMouseEnter",["mouseout","mouseover"]),Rr("onMouseLeave",["mouseout","mouseover"]),Rr("onPointerEnter",["pointerout","pointerover"]),Rr("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function Y0(i,a){a=(a&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],h=u.event;u=u.listeners;e:{var p=void 0;if(a)for(var E=u.length-1;0<=E;E--){var C=u[E],j=C.instance,W=C.currentTarget;if(C=C.listener,j!==p&&h.isPropagationStopped())break e;p=C,h.currentTarget=W;try{p(h)}catch(ne){ad(ne)}h.currentTarget=null,p=j}else for(E=0;E<u.length;E++){if(C=u[E],j=C.instance,W=C.currentTarget,C=C.listener,j!==p&&h.isPropagationStopped())break e;p=C,h.currentTarget=W;try{p(h)}catch(ne){ad(ne)}h.currentTarget=null,p=j}}}}function Ge(i,a){var o=a[Ei];o===void 0&&(o=a[Ei]=new Set);var u=i+"__bubble";o.has(u)||(W0(a,i,2,!1),o.add(u))}function yp(i,a,o){var u=0;a&&(u|=4),W0(o,i,u,a)}var _d="_reactListening"+Math.random().toString(36).slice(2);function vp(i){if(!i[_d]){i[_d]=!0,fn.forEach(function(o){o!=="selectionchange"&&(iO.has(o)||yp(o,!1,i),yp(o,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[_d]||(a[_d]=!0,yp("selectionchange",!1,a))}}function W0(i,a,o,u){switch(vE(a)){case 2:var h=OO;break;case 8:h=NO;break;default:h=Np}o=h.bind(null,a,o,i),h=void 0,!fr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),u?h!==void 0?i.addEventListener(a,o,{capture:!0,passive:h}):i.addEventListener(a,o,!0):h!==void 0?i.addEventListener(a,o,{passive:h}):i.addEventListener(a,o,!1)}function _p(i,a,o,u,h){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var C=u.stateNode.containerInfo;if(C===h)break;if(E===4)for(E=u.return;E!==null;){var j=E.tag;if((j===3||j===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;C!==null;){if(E=xr(C),E===null)return;if(j=E.tag,j===5||j===6||j===26||j===27){u=p=E;continue e}C=C.parentNode}}u=u.return}bf(function(){var W=p,ne=cr(o),ae=[];e:{var Q=Dw.get(i);if(Q!==void 0){var X=Ro,De=i;switch(i){case"keypress":if(Yr(o)===0)break e;case"keydown":case"keyup":X=Mo;break;case"focusin":De="focus",X=Io;break;case"focusout":De="blur",X=Io;break;case"beforeblur":case"afterblur":X=Io;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Gm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Df;break;case Aw:case xw:case Rw:X=Oo;break;case Cw:X=Of;break;case"scroll":case"scrollend":X=Ef;break;case"wheel":X=Po;break;case"copy":case"cut":case"paste":X=No;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=wu;break;case"toggle":case"beforetoggle":X=Mf}var Ae=(a&4)!==0,ft=!Ae&&(i==="scroll"||i==="scrollend"),H=Ae?Q!==null?Q+"Capture":null:Q;Ae=[];for(var F=W,Y;F!==null;){var ie=F;if(Y=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Y===null||H===null||(ie=xs(F,H),ie!=null&&Ae.push(Xu(F,ie,Y))),ft)break;F=F.return}0<Ae.length&&(Q=new X(Q,De,null,o,ne),ae.push({event:Q,listeners:Ae}))}}if((a&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Q&&o!==Ai&&(De=o.relatedTarget||o.fromElement)&&(xr(De)||De[cn]))break e;if((X||Q)&&(Q=ne.window===ne?ne:(Q=ne.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(De=o.relatedTarget||o.toElement,X=W,De=De?xr(De):null,De!==null&&(ft=l(De),Ae=De.tag,De!==ft||Ae!==5&&Ae!==27&&Ae!==6)&&(De=null)):(X=null,De=W),X!==De)){if(Ae=dr,ie="onMouseLeave",H="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(Ae=wu,ie="onPointerLeave",H="onPointerEnter",F="pointer"),ft=X==null?Q:Ie(X),Y=De==null?Q:Ie(De),Q=new Ae(ie,F+"leave",X,o,ne),Q.target=ft,Q.relatedTarget=Y,ie=null,xr(ne)===W&&(Ae=new Ae(H,F+"enter",De,o,ne),Ae.target=Y,Ae.relatedTarget=ft,ie=Ae),ft=ie,X&&De)t:{for(Ae=X,H=De,F=0,Y=Ae;Y;Y=al(Y))F++;for(Y=0,ie=H;ie;ie=al(ie))Y++;for(;0<F-Y;)Ae=al(Ae),F--;for(;0<Y-F;)H=al(H),Y--;for(;F--;){if(Ae===H||H!==null&&Ae===H.alternate)break t;Ae=al(Ae),H=al(H)}Ae=null}else Ae=null;X!==null&&K0(ae,Q,X,Ae,!1),De!==null&&ft!==null&&K0(ae,ft,De,Ae,!0)}}e:{if(Q=W?Ie(W):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var pe=mw;else if(Wt(Q))if(gw)pe=yI;else{pe=gI;var Fe=mI}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?W&&hu(W.elementType)&&(pe=mw):pe=pI;if(pe&&(pe=pe(i,W))){Ii(ae,pe,o,ne);break e}Fe&&Fe(i,Q,W),i==="focusout"&&W&&Q.type==="number"&&W.memoizedProps.value!=null&&ya(Q,"number",Q.value)}switch(Fe=W?Ie(W):window,i){case"focusin":(Wt(Fe)||Fe.contentEditable==="true")&&(ko=Fe,Qm=W,Tu=null);break;case"focusout":Tu=Qm=ko=null;break;case"mousedown":Xm=!0;break;case"contextmenu":case"mouseup":case"dragend":Xm=!1,Tw(ae,o,ne);break;case"selectionchange":if(_I)break;case"keydown":case"keyup":Tw(ae,o,ne)}var we;if(Qr)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Ke?ee(i,o)&&(Re="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Re="onCompositionStart");Re&&(b&&o.locale!=="ko"&&(Ke||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Ke&&(we=gu()):($r=ne,va="value"in $r?$r.value:$r.textContent,Ke=!0)),Fe=wd(W,Re),0<Fe.length&&(Re=new vu(Re,i,null,o,ne),ae.push({event:Re,listeners:Fe}),we?Re.data=we:(we=de(o),we!==null&&(Re.data=we)))),(we=v?Yt(i,o):Qe(i,o))&&(Re=wd(W,"onBeforeInput"),0<Re.length&&(Fe=new vu("onBeforeInput","beforeinput",null,o,ne),ae.push({event:Fe,listeners:Re}),Fe.data=we)),tO(ae,i,W,o,ne)}Y0(ae,a)})}function Xu(i,a,o){return{instance:i,listener:a,currentTarget:o}}function wd(i,a){for(var o=a+"Capture",u=[];i!==null;){var h=i,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=xs(i,o),h!=null&&u.unshift(Xu(i,h,p)),h=xs(i,a),h!=null&&u.push(Xu(i,h,p))),i.tag===3)return u;i=i.return}return[]}function al(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function K0(i,a,o,u,h){for(var p=a._reactName,E=[];o!==null&&o!==u;){var C=o,j=C.alternate,W=C.stateNode;if(C=C.tag,j!==null&&j===u)break;C!==5&&C!==26&&C!==27||W===null||(j=W,h?(W=xs(o,p),W!=null&&E.unshift(Xu(o,W,j))):h||(W=xs(o,p),W!=null&&E.push(Xu(o,W,j)))),o=o.return}E.length!==0&&i.push({event:a,listeners:E})}var aO=/\r\n?/g,sO=/\u0000|\uFFFD/g;function Q0(i){return(typeof i=="string"?i:""+i).replace(aO,`
`).replace(sO,"")}function X0(i,a){return a=Q0(a),Q0(i)===a}function bd(){}function ct(i,a,o,u,h,p){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||ur(i,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&ur(i,""+u);break;case"className":Hr(i,"class",u);break;case"tabIndex":Hr(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Hr(i,o,u);break;case"style":du(i,u,p);break;case"data":if(a!=="object"){Hr(i,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=xo(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(a!=="input"&&ct(i,a,"name",h.name,h,null),ct(i,a,"formEncType",h.formEncType,h,null),ct(i,a,"formMethod",h.formMethod,h,null),ct(i,a,"formTarget",h.formTarget,h,null)):(ct(i,a,"encType",h.encType,h,null),ct(i,a,"method",h.method,h,null),ct(i,a,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=xo(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=bd);break;case"onScroll":u!=null&&Ge("scroll",i);break;case"onScrollEnd":u!=null&&Ge("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=xo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Ge("beforetoggle",i),Ge("toggle",i),pa(i,"popover",u);break;case"xlinkActuate":dn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":dn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":dn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":dn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":dn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":dn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":dn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":dn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":dn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":pa(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=qm.get(o)||o,pa(i,o,u))}}function wp(i,a,o,u,h,p){switch(o){case"style":du(i,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?ur(i,u):(typeof u=="number"||typeof u=="bigint")&&ur(i,""+u);break;case"onScroll":u!=null&&Ge("scroll",i);break;case"onScrollEnd":u!=null&&Ge("scrollend",i);break;case"onClick":u!=null&&(i.onclick=bd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!en.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),a=o.slice(2,h?o.length-7:void 0),p=i[vt]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(a,p,h),typeof u=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(a,u,h);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):pa(i,o,u)}}}function pn(i,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",i),Ge("load",i);var u=!1,h=!1,p;for(p in o)if(o.hasOwnProperty(p)){var E=o[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(i,a,p,E,o,null)}}h&&ct(i,a,"srcSet",o.srcSet,o,null),u&&ct(i,a,"src",o.src,o,null);return;case"input":Ge("invalid",i);var C=p=E=h=null,j=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":h=ne;break;case"type":E=ne;break;case"checked":j=ne;break;case"defaultChecked":W=ne;break;case"value":p=ne;break;case"defaultValue":C=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:ct(i,a,u,ne,o,null)}}Ts(i,p,C,j,W,E,h,!1),Ao(i);return;case"select":Ge("invalid",i),u=E=p=null;for(h in o)if(o.hasOwnProperty(h)&&(C=o[h],C!=null))switch(h){case"value":p=C;break;case"defaultValue":E=C;break;case"multiple":u=C;default:ct(i,a,h,C,o,null)}a=p,o=E,i.multiple=!!u,a!=null?Si(i,!!u,a,!1):o!=null&&Si(i,!!u,o,!0);return;case"textarea":Ge("invalid",i),p=h=u=null;for(E in o)if(o.hasOwnProperty(E)&&(C=o[E],C!=null))switch(E){case"value":u=C;break;case"defaultValue":h=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:ct(i,a,E,C,o,null)}Ss(i,u,h,p),Ao(i);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ct(i,a,j,u,o,null)}return;case"dialog":Ge("beforetoggle",i),Ge("toggle",i),Ge("cancel",i),Ge("close",i);break;case"iframe":case"object":Ge("load",i);break;case"video":case"audio":for(u=0;u<Qu.length;u++)Ge(Qu[u],i);break;case"image":Ge("error",i),Ge("load",i);break;case"details":Ge("toggle",i);break;case"embed":case"source":case"link":Ge("error",i),Ge("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(i,a,W,u,o,null)}return;default:if(hu(a)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&wp(i,a,ne,u,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(u=o[C],u!=null&&ct(i,a,C,u,o,null))}function oO(i,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,E=null,C=null,j=null,W=null,ne=null;for(X in o){var ae=o[X];if(o.hasOwnProperty(X)&&ae!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":j=ae;default:u.hasOwnProperty(X)||ct(i,a,X,null,u,ae)}}for(var Q in u){var X=u[Q];if(ae=o[Q],u.hasOwnProperty(Q)&&(X!=null||ae!=null))switch(Q){case"type":p=X;break;case"name":h=X;break;case"checked":W=X;break;case"defaultChecked":ne=X;break;case"value":E=X;break;case"defaultValue":C=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,a));break;default:X!==ae&&ct(i,a,Q,X,u,ae)}}Yn(i,E,C,j,W,ne,p,h);return;case"select":X=E=C=Q=null;for(p in o)if(j=o[p],o.hasOwnProperty(p)&&j!=null)switch(p){case"value":break;case"multiple":X=j;default:u.hasOwnProperty(p)||ct(i,a,p,null,u,j)}for(h in u)if(p=u[h],j=o[h],u.hasOwnProperty(h)&&(p!=null||j!=null))switch(h){case"value":Q=p;break;case"defaultValue":C=p;break;case"multiple":E=p;default:p!==j&&ct(i,a,h,p,u,j)}a=C,o=E,u=X,Q!=null?Si(i,!!o,Q,!1):!!u!=!!o&&(a!=null?Si(i,!!o,a,!0):Si(i,!!o,o?[]:"",!1));return;case"textarea":X=Q=null;for(C in o)if(h=o[C],o.hasOwnProperty(C)&&h!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ct(i,a,C,null,u,h)}for(E in u)if(h=u[E],p=o[E],u.hasOwnProperty(E)&&(h!=null||p!=null))switch(E){case"value":Q=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==p&&ct(i,a,E,h,u,p)}lt(i,Q,X);return;case"option":for(var De in o)if(Q=o[De],o.hasOwnProperty(De)&&Q!=null&&!u.hasOwnProperty(De))switch(De){case"selected":i.selected=!1;break;default:ct(i,a,De,null,u,Q)}for(j in u)if(Q=u[j],X=o[j],u.hasOwnProperty(j)&&Q!==X&&(Q!=null||X!=null))switch(j){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ct(i,a,j,Q,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in o)Q=o[Ae],o.hasOwnProperty(Ae)&&Q!=null&&!u.hasOwnProperty(Ae)&&ct(i,a,Ae,null,u,Q);for(W in u)if(Q=u[W],X=o[W],u.hasOwnProperty(W)&&Q!==X&&(Q!=null||X!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,a));break;default:ct(i,a,W,Q,u,X)}return;default:if(hu(a)){for(var ft in o)Q=o[ft],o.hasOwnProperty(ft)&&Q!==void 0&&!u.hasOwnProperty(ft)&&wp(i,a,ft,void 0,u,Q);for(ne in u)Q=u[ne],X=o[ne],!u.hasOwnProperty(ne)||Q===X||Q===void 0&&X===void 0||wp(i,a,ne,Q,u,X);return}}for(var H in o)Q=o[H],o.hasOwnProperty(H)&&Q!=null&&!u.hasOwnProperty(H)&&ct(i,a,H,null,u,Q);for(ae in u)Q=u[ae],X=o[ae],!u.hasOwnProperty(ae)||Q===X||Q==null&&X==null||ct(i,a,ae,Q,u,X)}var bp=null,Ep=null;function Ed(i){return i.nodeType===9?i:i.ownerDocument}function Z0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J0(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Tp(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Sp=null;function lO(){var i=window.event;return i&&i.type==="popstate"?i===Sp?!1:(Sp=i,!0):(Sp=null,!1)}var eE=typeof setTimeout=="function"?setTimeout:void 0,uO=typeof clearTimeout=="function"?clearTimeout:void 0,tE=typeof Promise=="function"?Promise:void 0,cO=typeof queueMicrotask=="function"?queueMicrotask:typeof tE<"u"?function(i){return tE.resolve(null).then(i).catch(fO)}:eE;function fO(i){setTimeout(function(){throw i})}function Pa(i){return i==="head"}function nE(i,a){var o=a,u=0,h=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var E=i.ownerDocument;if(o&1&&Zu(E.documentElement),o&2&&Zu(E.body),o&4)for(o=E.head,Zu(o),E=o.firstChild;E;){var C=E.nextSibling,j=E.nodeName;E[Sr]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=C}}if(h===0){i.removeChild(p),sc(a);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);sc(a)}function Ap(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ap(o),Ar(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function dO(i,a,o,u){for(;i.nodeType===1;){var h=o;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Sr])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==h.rel||i.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Or(i.nextSibling),i===null)break}return null}function hO(i,a,o){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Or(i.nextSibling),i===null))return null;return i}function xp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function mO(i,a){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Or(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var Rp=null;function rE(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return i;a--}else o==="/$"&&a++}i=i.previousSibling}return null}function iE(i,a,o){switch(a=Ed(o),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Zu(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Ar(i)}var _r=new Map,aE=new Set;function Td(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var qi=ue.d;ue.d={f:gO,r:pO,D:yO,C:vO,L:_O,m:wO,X:EO,S:bO,M:TO};function gO(){var i=qi.f(),a=md();return i||a}function pO(i){var a=lr(i);a!==null&&a.tag===5&&a.type==="form"?Ab(a):qi.r(i)}var sl=typeof document>"u"?null:document;function sE(i,a,o){var u=sl;if(u&&typeof a=="string"&&a){var h=jt(a);h='link[rel="'+i+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),aE.has(h)||(aE.add(h),i={rel:i,crossOrigin:o,href:a},u.querySelector(h)===null&&(a=u.createElement("link"),pn(a,"link",i),Pe(a),u.head.appendChild(a)))}}function yO(i){qi.D(i),sE("dns-prefetch",i,null)}function vO(i,a){qi.C(i,a),sE("preconnect",i,a)}function _O(i,a,o){qi.L(i,a,o);var u=sl;if(u&&i&&a){var h='link[rel="preload"][as="'+jt(a)+'"]';a==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+jt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+jt(o.imageSizes)+'"]')):h+='[href="'+jt(i)+'"]';var p=h;switch(a){case"style":p=ol(i);break;case"script":p=ll(i)}_r.has(p)||(i=y({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:i,as:a},o),_r.set(p,i),u.querySelector(h)!==null||a==="style"&&u.querySelector(Ju(p))||a==="script"&&u.querySelector(ec(p))||(a=u.createElement("link"),pn(a,"link",i),Pe(a),u.head.appendChild(a)))}}function wO(i,a){qi.m(i,a);var o=sl;if(o&&i){var u=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+jt(u)+'"][href="'+jt(i)+'"]',p=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ll(i)}if(!_r.has(p)&&(i=y({rel:"modulepreload",href:i},a),_r.set(p,i),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ec(p)))return}u=o.createElement("link"),pn(u,"link",i),Pe(u),o.head.appendChild(u)}}}function bO(i,a,o){qi.S(i,a,o);var u=sl;if(u&&i){var h=Be(u).hoistableStyles,p=ol(i);a=a||"default";var E=h.get(p);if(!E){var C={loading:0,preload:null};if(E=u.querySelector(Ju(p)))C.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":a},o),(o=_r.get(p))&&Cp(i,o);var j=E=u.createElement("link");Pe(j),pn(j,"link",i),j._p=new Promise(function(W,ne){j.onload=W,j.onerror=ne}),j.addEventListener("load",function(){C.loading|=1}),j.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Sd(E,a,u)}E={type:"stylesheet",instance:E,count:1,state:C},h.set(p,E)}}}function EO(i,a){qi.X(i,a);var o=sl;if(o&&i){var u=Be(o).hoistableScripts,h=ll(i),p=u.get(h);p||(p=o.querySelector(ec(h)),p||(i=y({src:i,async:!0},a),(a=_r.get(h))&&Dp(i,a),p=o.createElement("script"),Pe(p),pn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function TO(i,a){qi.M(i,a);var o=sl;if(o&&i){var u=Be(o).hoistableScripts,h=ll(i),p=u.get(h);p||(p=o.querySelector(ec(h)),p||(i=y({src:i,async:!0,type:"module"},a),(a=_r.get(h))&&Dp(i,a),p=o.createElement("script"),Pe(p),pn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function oE(i,a,o,u){var h=(h=_e.current)?Td(h):null;if(!h)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=ol(o.href),o=Be(h).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ol(o.href);var p=Be(h).hoistableStyles,E=p.get(i);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,E),(p=h.querySelector(Ju(i)))&&!p._p&&(E.instance=p,E.state.loading=5),_r.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},_r.set(i,o),p||SO(h,i,o,E.state))),a&&u===null)throw Error(r(528,""));return E}if(a&&u!==null)throw Error(r(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ll(o),o=Be(h).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ol(i){return'href="'+jt(i)+'"'}function Ju(i){return'link[rel="stylesheet"]['+i+"]"}function lE(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function SO(i,a,o,u){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=i.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),pn(a,"link",o),Pe(a),i.head.appendChild(a))}function ll(i){return'[src="'+jt(i)+'"]'}function ec(i){return"script[async]"+i}function uE(i,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=i.querySelector('style[data-href~="'+jt(o.href)+'"]');if(u)return a.instance=u,Pe(u),u;var h=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Pe(u),pn(u,"style",h),Sd(u,o.precedence,i),a.instance=u;case"stylesheet":h=ol(o.href);var p=i.querySelector(Ju(h));if(p)return a.state.loading|=4,a.instance=p,Pe(p),p;u=lE(o),(h=_r.get(h))&&Cp(u,h),p=(i.ownerDocument||i).createElement("link"),Pe(p);var E=p;return E._p=new Promise(function(C,j){E.onload=C,E.onerror=j}),pn(p,"link",u),a.state.loading|=4,Sd(p,o.precedence,i),a.instance=p;case"script":return p=ll(o.src),(h=i.querySelector(ec(p)))?(a.instance=h,Pe(h),h):(u=o,(h=_r.get(p))&&(u=y({},o),Dp(u,h)),i=i.ownerDocument||i,h=i.createElement("script"),Pe(h),pn(h,"link",u),i.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Sd(u,o.precedence,i));return a.instance}function Sd(i,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,p=h,E=0;E<u.length;E++){var C=u[E];if(C.dataset.precedence===a)p=C;else if(p!==h)break}p?p.parentNode.insertBefore(i,p.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(i,a.firstChild))}function Cp(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Dp(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Ad=null;function cE(i,a,o){if(Ad===null){var u=new Map,h=Ad=new Map;h.set(o,u)}else h=Ad,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),h=0;h<o.length;h++){var p=o[h];if(!(p[Sr]||p[At]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(a)||"";E=i+E;var C=u.get(E);C?C.push(p):u.set(E,[p])}}return u}function fE(i,a,o){i=i.ownerDocument||i,i.head.insertBefore(o,a==="title"?i.querySelector("head > title"):null)}function AO(i,a,o){if(o===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function dE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var tc=null;function xO(){}function RO(i,a,o){if(tc===null)throw Error(r(475));var u=tc;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ol(o.href),p=i.querySelector(Ju(h));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=xd.bind(u),i.then(u,u)),a.state.loading|=4,a.instance=p,Pe(p);return}p=i.ownerDocument||i,o=lE(o),(h=_r.get(h))&&Cp(o,h),p=p.createElement("link"),Pe(p);var E=p;E._p=new Promise(function(C,j){E.onload=C,E.onerror=j}),pn(p,"link",o),a.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=xd.bind(u),i.addEventListener("load",a),i.addEventListener("error",a))}}function CO(){if(tc===null)throw Error(r(475));var i=tc;return i.stylesheets&&i.count===0&&Ip(i,i.stylesheets),0<i.count?function(a){var o=setTimeout(function(){if(i.stylesheets&&Ip(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(o)}}:null}function xd(){if(this.count--,this.count===0){if(this.stylesheets)Ip(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Rd=null;function Ip(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Rd=new Map,a.forEach(DO,i),Rd=null,xd.call(i))}function DO(i,a){if(!(a.state.loading&4)){var o=Rd.get(i);if(o)var u=o.get(null);else{o=new Map,Rd.set(i,o);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var E=h[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}h=a.instance,E=h.getAttribute("data-precedence"),p=o.get(E)||u,p===u&&o.set(null,h),o.set(E,h),this.count++,u=xd.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),p?p.parentNode.insertBefore(h,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),a.state.loading|=4}}var nc={$$typeof:B,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function IO(i,a,o,u,h,p,E,C){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tr(0),this.hiddenUpdates=Tr(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function hE(i,a,o,u,h,p,E,C,j,W,ne,ae){return i=new IO(i,a,o,E,C,j,W,ae),a=1,p===!0&&(a|=24),p=Kn(3,null,null,a),i.current=p,p.stateNode=i,a=fg(),a.refCount++,i.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:a},gg(p),i}function mE(i){return i?(i=Uo,i):Uo}function gE(i,a,o,u,h,p){h=mE(h),u.context===null?u.context=h:u.pendingContext=h,u=ba(a),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Ea(i,u,a),o!==null&&(er(o,i,a),Nu(o,i,a))}function pE(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<a?o:a}}function Op(i,a){pE(i,a),(i=i.alternate)&&pE(i,a)}function yE(i){if(i.tag===13){var a=jo(i,67108864);a!==null&&er(a,i,67108864),Op(i,67108864)}}var Cd=!0;function OO(i,a,o,u){var h=G.T;G.T=null;var p=ue.p;try{ue.p=2,Np(i,a,o,u)}finally{ue.p=p,G.T=h}}function NO(i,a,o,u){var h=G.T;G.T=null;var p=ue.p;try{ue.p=8,Np(i,a,o,u)}finally{ue.p=p,G.T=h}}function Np(i,a,o,u){if(Cd){var h=Mp(u);if(h===null)_p(i,a,u,Dd,o),_E(i,u);else if(PO(h,i,a,o,u))u.stopPropagation();else if(_E(i,u),a&4&&-1<MO.indexOf(i)){for(;h!==null;){var p=lr(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=$n(p.pendingLanes);if(E!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var j=1<<31-Vt(E);C.entanglements[1]|=j,E&=~j}ni(p),(st&6)===0&&(dd=$t()+500,Ku(0))}}break;case 13:C=jo(p,2),C!==null&&er(C,p,2),md(),Op(p,2)}if(p=Mp(u),p===null&&_p(i,a,u,Dd,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else _p(i,a,u,null,o)}}function Mp(i){return i=cr(i),Pp(i)}var Dd=null;function Pp(i){if(Dd=null,i=xr(i),i!==null){var a=l(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=c(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Dd=i,null}function vE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(da()){case Gn:return 2;case ha:return 8;case yi:case lu:return 32;case vi:return 268435456;default:return 32}default:return 32}}var kp=!1,ka=null,Va=null,La=null,rc=new Map,ic=new Map,ja=[],MO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _E(i,a){switch(i){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":La=null;break;case"pointerover":case"pointerout":rc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(a.pointerId)}}function ac(i,a,o,u,h,p){return i===null||i.nativeEvent!==p?(i={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},a!==null&&(a=lr(a),a!==null&&yE(a)),i):(i.eventSystemFlags|=u,a=i.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),i)}function PO(i,a,o,u,h){switch(a){case"focusin":return ka=ac(ka,i,a,o,u,h),!0;case"dragenter":return Va=ac(Va,i,a,o,u,h),!0;case"mouseover":return La=ac(La,i,a,o,u,h),!0;case"pointerover":var p=h.pointerId;return rc.set(p,ac(rc.get(p)||null,i,a,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,ic.set(p,ac(ic.get(p)||null,i,a,o,u,h)),!0}return!1}function wE(i){var a=xr(i.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){i.blockedOn=a,ga(i.priority,function(){if(o.tag===13){var u=Jn();u=Je(u);var h=jo(o,u);h!==null&&er(h,o,u),Op(o,u)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Id(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var o=Mp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Ai=u,o.target.dispatchEvent(u),Ai=null}else return a=lr(o),a!==null&&yE(a),i.blockedOn=o,!1;a.shift()}return!0}function bE(i,a,o){Id(i)&&o.delete(a)}function kO(){kp=!1,ka!==null&&Id(ka)&&(ka=null),Va!==null&&Id(Va)&&(Va=null),La!==null&&Id(La)&&(La=null),rc.forEach(bE),ic.forEach(bE)}function Od(i,a){i.blockedOn===a&&(i.blockedOn=null,kp||(kp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kO)))}var Nd=null;function EE(i){Nd!==i&&(Nd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Nd===i&&(Nd=null);for(var a=0;a<i.length;a+=3){var o=i[a],u=i[a+1],h=i[a+2];if(typeof u!="function"){if(Pp(u||o)===null)continue;break}var p=lr(o);p!==null&&(i.splice(a,3),a-=3,Pg(p,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function sc(i){function a(j){return Od(j,i)}ka!==null&&Od(ka,i),Va!==null&&Od(Va,i),La!==null&&Od(La,i),rc.forEach(a),ic.forEach(a);for(var o=0;o<ja.length;o++){var u=ja[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ja.length&&(o=ja[0],o.blockedOn===null);)wE(o),o.blockedOn===null&&ja.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],p=o[u+1],E=h[vt]||null;if(typeof p=="function")E||EE(o);else if(E){var C=null;if(p&&p.hasAttribute("formAction")){if(h=p,E=p[vt]||null)C=E.formAction;else if(Pp(h)!==null)continue}else C=E.action;typeof C=="function"?o[u+1]=C:(o.splice(u,3),u-=3),EE(o)}}}function Vp(i){this._internalRoot=i}Md.prototype.render=Vp.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var o=a.current,u=Jn();gE(o,u,i,a,null,null)},Md.prototype.unmount=Vp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;gE(i.current,2,null,i,null,null),md(),a[cn]=null}};function Md(i){this._internalRoot=i}Md.prototype.unstable_scheduleHydration=function(i){if(i){var a=qr();i={blockedOn:null,target:i,priority:a};for(var o=0;o<ja.length&&a!==0&&a<ja[o].priority;o++);ja.splice(o,0,i),o===0&&wE(i)}};var TE=e.version;if(TE!=="19.1.0")throw Error(r(527,TE,"19.1.0"));ue.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(a),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var VO={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pd.isDisabled&&Pd.supportsFiber)try{yt=Pd.inject(VO),tt=Pd}catch{}}return lc.createRoot=function(i,a){if(!s(i))throw Error(r(299));var o=!1,u="",h=Ub,p=zb,E=Bb,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks)),a=hE(i,1,!1,null,null,o,u,h,p,E,C,null),i[cn]=a.current,vp(i),new Vp(a)},lc.hydrateRoot=function(i,a,o){if(!s(i))throw Error(r(299));var u=!1,h="",p=Ub,E=zb,C=Bb,j=null,W=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(j=o.unstable_transitionCallbacks),o.formState!==void 0&&(W=o.formState)),a=hE(i,1,!0,a,o??null,u,h,p,E,C,j,W),a.context=mE(null),o=a.current,u=Jn(),u=Je(u),h=ba(u),h.callback=null,Ea(o,h,u),o=u,a.current.lanes=o,sr(a,o),ni(a),i[cn]=a.current,vp(i),new Md(a)},lc.version="19.1.0",lc}var ME;function $O(){if(ME)return Up.exports;ME=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Up.exports=GO(),Up.exports}var YO=$O();const WO=Kh(YO);var uc={},PE;function KO(){if(PE)return uc;PE=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.parse=c,uc.serialize=g;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function c(w,A){const x=new l,D=w.length;if(D<2)return x;const I=(A==null?void 0:A.decode)||y;let P=0;do{const q=w.indexOf("=",P);if(q===-1)break;const B=w.indexOf(";",P),K=B===-1?D:B;if(q>K){P=w.lastIndexOf(";",q-1)+1;continue}const J=d(w,P,q),le=m(w,q,J),M=w.slice(J,le);if(x[M]===void 0){let R=d(w,q+1,K),N=m(w,K,R);const L=I(w.slice(R,N));x[M]=L}P=K+1}while(P<D);return x}function d(w,A,x){do{const D=w.charCodeAt(A);if(D!==32&&D!==9)return A}while(++A<x);return x}function m(w,A,x){for(;A>x;){const D=w.charCodeAt(--A);if(D!==32&&D!==9)return A+1}return x}function g(w,A,x){const D=(x==null?void 0:x.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const I=D(A);if(!e.test(I))throw new TypeError(`argument val is invalid: ${A}`);let P=w+"="+I;if(!x)return P;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);P+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);P+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);P+="; Path="+x.path}if(x.expires){if(!_(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);P+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(P+="; HttpOnly"),x.secure&&(P+="; Secure"),x.partitioned&&(P+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return P}function y(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function _(w){return s.call(w)==="[object Date]"}return uc}KO();var kE="popstate";function QO(t={}){function e(r,s){let{pathname:l,search:c,hash:d}=r.location;return Sy("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Rc(s)}return ZO(e,n,null,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ci(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XO(){return Math.random().toString(36).substring(2,10)}function VE(t,e){return{usr:t.state,key:t.key,idx:e}}function Sy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?zl(e):e,state:n,key:e&&e.key||r||XO()}}function Rc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function zl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function ZO(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:l=!1}=r,c=s.history,d="POP",m=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let I=y(),P=I==null?null:I-g;g=I,m&&m({action:d,location:D.location,delta:P})}function w(I,P){d="PUSH";let q=Sy(D.location,I,P);g=y()+1;let B=VE(q,g),K=D.createHref(q);try{c.pushState(B,"",K)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;s.location.assign(K)}l&&m&&m({action:d,location:D.location,delta:1})}function A(I,P){d="REPLACE";let q=Sy(D.location,I,P);g=y();let B=VE(q,g),K=D.createHref(q);c.replaceState(B,"",K),l&&m&&m({action:d,location:D.location,delta:0})}function x(I){return JO(I)}let D={get action(){return d},get location(){return t(s,c)},listen(I){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(kE,_),m=I,()=>{s.removeEventListener(kE,_),m=null}},createHref(I){return e(s,I)},createURL:x,encodeLocation(I){let P=x(I);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:w,replace:A,go(I){return c.go(I)}};return D}function JO(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Rc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function wA(t,e,n="/"){return eN(t,e,n,!1)}function eN(t,e,n,r){let s=typeof e=="string"?zl(e):e,l=Zi(s.pathname||"/",n);if(l==null)return null;let c=bA(t);tN(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=dN(l);d=cN(c[m],g,r)}return d}function bA(t,e=[],n=[],r=""){let s=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(Tt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let g=Ki([r,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(Tt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),bA(l.children,e,y,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:lN(g,l.index),routesMeta:y})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,c);else for(let m of EA(l.path))s(l,c,m)}),e}function EA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let c=EA(r.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),s&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function tN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var nN=/^:[\w-]+$/,rN=3,iN=2,aN=1,sN=10,oN=-2,LE=t=>t==="*";function lN(t,e){let n=t.split("/"),r=n.length;return n.some(LE)&&(r+=oN),e&&(r+=iN),n.filter(s=>!LE(s)).reduce((s,l)=>s+(nN.test(l)?rN:l===""?aN:sN),r)}function uN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function cN(t,e,n=!1){let{routesMeta:r}=t,s={},l="/",c=[];for(let d=0;d<r.length;++d){let m=r[d],g=d===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=ph({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),w=m.route;if(!_&&g&&n&&!r[r.length-1].route.index&&(_=ph({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(s,_.params),c.push({params:s,pathname:Ki([l,_.pathname]),pathnameBase:pN(Ki([l,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(l=Ki([l,_.pathnameBase]))}return c}function ph(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fN(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((g,{paramName:y,isOptional:_},w)=>{if(y==="*"){let x=d[w]||"";c=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const A=d[w];return _&&!A?g[y]=void 0:g[y]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:t}}function fN(t,e=!1,n=!0){ci(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function dN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Zi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function hN(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?zl(t):t;return{pathname:n?n.startsWith("/")?n:mN(n,e):e,search:yN(r),hash:vN(s)}}function mN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function qp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function TA(t){let e=gN(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function SA(t,e,n,r=!1){let s;typeof t=="string"?s=zl(t):(s={...t},Tt(!s.pathname||!s.pathname.includes("?"),qp("?","pathname","search",s)),Tt(!s.pathname||!s.pathname.includes("#"),qp("#","pathname","hash",s)),Tt(!s.search||!s.search.includes("#"),qp("#","search","hash",s)));let l=t===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=n;else{let _=e.length-1;if(!r&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),_-=1;s.pathname=w.join("/")}d=_>=0?e[_]:"/"}let m=hN(s,d),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var Ki=t=>t.join("/").replace(/\/\/+/g,"/"),pN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _N(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var AA=["POST","PUT","PATCH","DELETE"];new Set(AA);var wN=["GET",...AA];new Set(wN);var Bl=S.createContext(null);Bl.displayName="DataRouter";var Qh=S.createContext(null);Qh.displayName="DataRouterState";var xA=S.createContext({isTransitioning:!1});xA.displayName="ViewTransition";var bN=S.createContext(new Map);bN.displayName="Fetchers";var EN=S.createContext(null);EN.displayName="Await";var mi=S.createContext(null);mi.displayName="Navigation";var Gc=S.createContext(null);Gc.displayName="Location";var gi=S.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var Sv=S.createContext(null);Sv.displayName="RouteError";function TN(t,{relative:e}={}){Tt($c(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(mi),{hash:s,pathname:l,search:c}=Wc(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Ki([n,l])),r.createHref({pathname:d,search:c,hash:s})}function $c(){return S.useContext(Gc)!=null}function uo(){return Tt($c(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Gc).location}var RA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CA(t){S.useContext(mi).static||S.useLayoutEffect(t)}function Fl(){let{isDataRoute:t}=S.useContext(gi);return t?VN():SN()}function SN(){Tt($c(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Bl),{basename:e,navigator:n}=S.useContext(mi),{matches:r}=S.useContext(gi),{pathname:s}=uo(),l=JSON.stringify(TA(r)),c=S.useRef(!1);return CA(()=>{c.current=!0}),S.useCallback((m,g={})=>{if(ci(c.current,RA),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=SA(m,JSON.parse(l),s,g.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ki([e,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[e,n,l,s,t])}S.createContext(null);function Yc(){let{matches:t}=S.useContext(gi),e=t[t.length-1];return e?e.params:{}}function Wc(t,{relative:e}={}){let{matches:n}=S.useContext(gi),{pathname:r}=uo(),s=JSON.stringify(TA(n));return S.useMemo(()=>SA(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function AN(t,e){return DA(t,e)}function DA(t,e,n,r){var q;Tt($c(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:l}=S.useContext(mi),{matches:c}=S.useContext(gi),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let B=_&&_.path||"";IA(g,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let w=uo(),A;if(e){let B=typeof e=="string"?zl(e):e;Tt(y==="/"||((q=B.pathname)==null?void 0:q.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),A=B}else A=w;let x=A.pathname||"/",D=x;if(y!=="/"){let B=y.replace(/^\//,"").split("/");D="/"+x.replace(/^\//,"").split("/").slice(B.length).join("/")}let I=!l&&n&&n.matches&&n.matches.length>0?n.matches:wA(t,{pathname:D});ci(_||I!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),ci(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=IN(I&&I.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:Ki([y,s.encodeLocation?s.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:Ki([y,s.encodeLocation?s.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),c,n,r);return e&&P?S.createElement(Gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},P):P}function xN(){let t=kN(),e=_N(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,c)}var RN=S.createElement(xN,null),CN=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?S.createElement(gi.Provider,{value:this.props.routeContext},S.createElement(Sv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DN({routeContext:t,match:e,children:n}){let r=S.useContext(Bl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(gi.Provider,{value:t},n)}function IN(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n==null?void 0:n.errors;if(l!=null){let m=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);Tt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<s.length;m++){let g=s[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:y,errors:_}=n,w=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||w){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((m,g,y)=>{let _,w=!1,A=null,x=null;n&&(_=l&&g.route.id?l[g.route.id]:void 0,A=g.route.errorElement||RN,c&&(d<0&&y===0?(IA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,x=null):d===y&&(w=!0,x=g.route.hydrateFallbackElement||null)));let D=e.concat(s.slice(0,y+1)),I=()=>{let P;return _?P=A:w?P=x:g.route.Component?P=S.createElement(g.route.Component,null):g.route.element?P=g.route.element:P=m,S.createElement(DN,{match:g,routeContext:{outlet:m,matches:D,isDataRoute:n!=null},children:P})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?S.createElement(CN,{location:n.location,revalidation:n.revalidation,component:A,error:_,children:I(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):I()},null)}function Av(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ON(t){let e=S.useContext(Bl);return Tt(e,Av(t)),e}function NN(t){let e=S.useContext(Qh);return Tt(e,Av(t)),e}function MN(t){let e=S.useContext(gi);return Tt(e,Av(t)),e}function xv(t){let e=MN(t),n=e.matches[e.matches.length-1];return Tt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function PN(){return xv("useRouteId")}function kN(){var r;let t=S.useContext(Sv),e=NN("useRouteError"),n=xv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function VN(){let{router:t}=ON("useNavigate"),e=xv("useNavigate"),n=S.useRef(!1);return CA(()=>{n.current=!0}),S.useCallback(async(s,l={})=>{ci(n.current,RA),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...l}))},[t,e])}var jE={};function IA(t,e,n){!e&&!jE[t]&&(jE[t]=!0,ci(!1,n))}S.memo(LN);function LN({routes:t,future:e,state:n}){return DA(t,void 0,n,e)}function Gi(t){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jN({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:l=!1}){Tt(!$c(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof n=="string"&&(n=zl(n));let{pathname:m="/",search:g="",hash:y="",state:_=null,key:w="default"}=n,A=S.useMemo(()=>{let x=Zi(m,c);return x==null?null:{location:{pathname:x,search:g,hash:y,state:_,key:w},navigationType:r}},[c,m,g,y,_,w,r]);return ci(A!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:S.createElement(mi.Provider,{value:d},S.createElement(Gc.Provider,{children:e,value:A}))}function UN({children:t,location:e}){return AN(Ay(t),e)}function Ay(t,e=[]){let n=[];return S.Children.forEach(t,(r,s)=>{if(!S.isValidElement(r))return;let l=[...e,s];if(r.type===S.Fragment){n.push.apply(n,Ay(r.props.children,l));return}Tt(r.type===Gi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Ay(r.props.children,l)),n.push(c)}),n}var eh="get",th="application/x-www-form-urlencoded";function Xh(t){return t!=null&&typeof t.tagName=="string"}function zN(t){return Xh(t)&&t.tagName.toLowerCase()==="button"}function BN(t){return Xh(t)&&t.tagName.toLowerCase()==="form"}function FN(t){return Xh(t)&&t.tagName.toLowerCase()==="input"}function qN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function HN(t,e){return t.button===0&&(!e||e==="_self")&&!qN(t)}var kd=null;function GN(){if(kd===null)try{new FormData(document.createElement("form"),0),kd=!1}catch{kd=!0}return kd}var $N=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hp(t){return t!=null&&!$N.has(t)?(ci(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${th}"`),null):t}function YN(t,e){let n,r,s,l,c;if(BN(t)){let d=t.getAttribute("action");r=d?Zi(d,e):null,n=t.getAttribute("method")||eh,s=Hp(t.getAttribute("enctype"))||th,l=new FormData(t)}else if(zN(t)||FN(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(r=m?Zi(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||eh,s=Hp(t.getAttribute("formenctype"))||Hp(d.getAttribute("enctype"))||th,l=new FormData(d,t),!GN()){let{name:g,type:y,value:_}=t;if(y==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,_)}}else{if(Xh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=eh,r=null,s=th,c=t}return l&&s==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:l,body:c}}function Rv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function WN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function QN(t,e,n){let r=await Promise.all(t.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await WN(l,n);return c.links?c.links():[]}return[]}));return eM(r.flat(1).filter(KN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function UE(t,e,n,r,s,l){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>{var y;return n[g].pathname!==m.pathname||((y=n[g].route.path)==null?void 0:y.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{var _;let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function XN(t,e,{includeHydrateFallback:n}={}){return ZN(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function ZN(t){return[...new Set(t)]}function JN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function eM(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let l=JSON.stringify(JN(s));return n.has(l)||(n.add(l),r.push({key:l,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tM=new Set([100,101,204,205]);function nM(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Zi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function OA(){let t=S.useContext(Bl);return Rv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function rM(){let t=S.useContext(Qh);return Rv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cv=S.createContext(void 0);Cv.displayName="FrameworkContext";function NA(){let t=S.useContext(Cv);return Rv(t,"You must render this element inside a <HydratedRouter> element"),t}function iM(t,e){let n=S.useContext(Cv),[r,s]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:_}=e,w=S.useRef(null);S.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let D=P=>{P.forEach(q=>{c(q.isIntersecting)})},I=new IntersectionObserver(D,{threshold:.5});return w.current&&I.observe(w.current),()=>{I.disconnect()}}},[t]),S.useEffect(()=>{if(r){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[r]);let A=()=>{s(!0)},x=()=>{s(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:cc(d,A),onBlur:cc(m,x),onMouseEnter:cc(g,A),onMouseLeave:cc(y,x),onTouchStart:cc(_,A)}]:[!1,w,{}]}function cc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function aM({page:t,...e}){let{router:n}=OA(),r=S.useMemo(()=>wA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(oM,{page:t,matches:r,...e}):null}function sM(t){let{manifest:e,routeModules:n}=NA(),[r,s]=S.useState([]);return S.useEffect(()=>{let l=!1;return QN(t,e,n).then(c=>{l||s(c)}),()=>{l=!0}},[t,e,n]),r}function oM({page:t,matches:e,...n}){let r=uo(),{manifest:s,routeModules:l}=NA(),{basename:c}=OA(),{loaderData:d,matches:m}=rM(),g=S.useMemo(()=>UE(t,e,m,s,r,"data"),[t,e,m,s,r]),y=S.useMemo(()=>UE(t,e,m,s,r,"assets"),[t,e,m,s,r]),_=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,D=!1;if(e.forEach(P=>{var B;let q=s.routes[P.route.id];!q||!q.hasLoader||(!g.some(K=>K.route.id===P.route.id)&&P.route.id in d&&((B=l[P.route.id])!=null&&B.shouldRevalidate)||q.hasClientLoader?D=!0:x.add(P.route.id))}),x.size===0)return[];let I=nM(t,c);return D&&x.size>0&&I.searchParams.set("_routes",e.filter(P=>x.has(P.route.id)).map(P=>P.route.id).join(",")),[I.pathname+I.search]},[c,d,r,s,g,e,t,l]),w=S.useMemo(()=>XN(y,s),[y,s]),A=sM(y);return S.createElement(S.Fragment,null,_.map(x=>S.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),w.map(x=>S.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),A.map(({key:x,link:D})=>S.createElement("link",{key:x,...D})))}function lM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var MA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MA&&(window.__reactRouterVersion="7.6.0")}catch{}function uM({basename:t,children:e,window:n}){let r=S.useRef();r.current==null&&(r.current=QO({window:n,v5Compat:!0}));let s=r.current,[l,c]=S.useState({action:s.action,location:s.location}),d=S.useCallback(m=>{S.startTransition(()=>c(m))},[c]);return S.useLayoutEffect(()=>s.listen(d),[s,d]),S.createElement(jN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:s})}var PA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Js=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:y,viewTransition:_,...w},A){let{basename:x}=S.useContext(mi),D=typeof g=="string"&&PA.test(g),I,P=!1;if(typeof g=="string"&&D&&(I=g,MA))try{let N=new URL(window.location.href),L=g.startsWith("//")?new URL(N.protocol+g):new URL(g),U=Zi(L.pathname,x);L.origin===N.origin&&U!=null?g=U+L.search+L.hash:P=!0}catch{ci(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=TN(g,{relative:s}),[B,K,J]=iM(r,w),le=hM(g,{replace:c,state:d,target:m,preventScrollReset:y,relative:s,viewTransition:_});function M(N){e&&e(N),N.defaultPrevented||le(N)}let R=S.createElement("a",{...w,...J,href:I||q,onClick:P||l?e:M,ref:lM(A,K),target:m,"data-discover":!D&&n==="render"?"true":void 0});return B&&!D?S.createElement(S.Fragment,null,R,S.createElement(aM,{page:q})):R});Js.displayName="Link";var cM=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:l,to:c,viewTransition:d,children:m,...g},y){let _=Wc(c,{relative:g.relative}),w=uo(),A=S.useContext(Qh),{navigator:x,basename:D}=S.useContext(mi),I=A!=null&&vM(_)&&d===!0,P=x.encodeLocation?x.encodeLocation(_).pathname:_.pathname,q=w.pathname,B=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(q=q.toLowerCase(),B=B?B.toLowerCase():null,P=P.toLowerCase()),B&&D&&(B=Zi(B,D)||B);const K=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let J=q===P||!s&&q.startsWith(P)&&q.charAt(K)==="/",le=B!=null&&(B===P||!s&&B.startsWith(P)&&B.charAt(P.length)==="/"),M={isActive:J,isPending:le,isTransitioning:I},R=J?e:void 0,N;typeof r=="function"?N=r(M):N=[r,J?"active":null,le?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(M):l;return S.createElement(Js,{...g,"aria-current":R,className:N,ref:y,style:L,to:c,viewTransition:d},typeof m=="function"?m(M):m)});cM.displayName="NavLink";var fM=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:l,method:c=eh,action:d,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:_,...w},A)=>{let x=pM(),D=yM(d,{relative:g}),I=c.toLowerCase()==="get"?"get":"post",P=typeof d=="string"&&PA.test(d),q=B=>{if(m&&m(B),B.defaultPrevented)return;B.preventDefault();let K=B.nativeEvent.submitter,J=(K==null?void 0:K.getAttribute("formmethod"))||c;x(K||B.currentTarget,{fetcherKey:e,method:J,navigate:n,replace:s,state:l,relative:g,preventScrollReset:y,viewTransition:_})};return S.createElement("form",{ref:A,method:I,action:D,onSubmit:r?m:q,...w,"data-discover":!P&&t==="render"?"true":void 0})});fM.displayName="Form";function dM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kA(t){let e=S.useContext(Bl);return Tt(e,dM(t)),e}function hM(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=Fl(),m=uo(),g=Wc(t,{relative:l});return S.useCallback(y=>{if(HN(y,e)){y.preventDefault();let _=n!==void 0?n:Rc(m)===Rc(g);d(t,{replace:_,state:r,preventScrollReset:s,relative:l,viewTransition:c})}},[m,d,g,n,r,e,t,s,l,c])}var mM=0,gM=()=>`__${String(++mM)}__`;function pM(){let{router:t}=kA("useSubmit"),{basename:e}=S.useContext(mi),n=PN();return S.useCallback(async(r,s={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=YN(r,e);if(s.navigate===!1){let y=s.fetcherKey||gM();await t.fetch(y,n,s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:g,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await t.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:g,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function yM(t,{relative:e}={}){let{basename:n}=S.useContext(mi),r=S.useContext(gi);Tt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),l={...Wc(t||".",{relative:e})},c=uo();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ki([n,l.pathname])),Rc(l)}function vM(t,e={}){let n=S.useContext(xA);Tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kA("useViewTransitionState"),s=Wc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Zi(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Zi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ph(s.pathname,c)!=null||ph(s.pathname,l)!=null}[...tM];var Dv=_A();const _M=Kh(Dv);function zE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Iv(...t){return e=>{let n=!1;const r=t.map(s=>{const l=zE(s,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let s=0;s<r.length;s++){const l=r[s];typeof l=="function"?l():zE(t[s],null)}}}}function qt(...t){return S.useCallback(Iv(...t),t)}function Cl(t){const e=bM(t),n=S.forwardRef((r,s)=>{const{children:l,...c}=r,d=S.Children.toArray(l),m=d.find(TM);if(m){const g=m.props.children,y=d.map(_=>_===m?S.Children.count(g)>1?S.Children.only(null):S.isValidElement(g)?g.props.children:null:_);return T.jsx(e,{...c,ref:s,children:S.isValidElement(g)?S.cloneElement(g,void 0,y):null})}return T.jsx(e,{...c,ref:s,children:l})});return n.displayName=`${t}.Slot`,n}var wM=Cl("Slot");function bM(t){const e=S.forwardRef((n,r)=>{const{children:s,...l}=n,c=S.isValidElement(s)?AM(s):void 0,d=qt(c,r);if(S.isValidElement(s)){const m=SM(l,s.props);return s.type!==S.Fragment&&(m.ref=d),S.cloneElement(s,m)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var VA=Symbol("radix.slottable");function EM(t){const e=({children:n})=>T.jsx(T.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=VA,e}function TM(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===VA}function SM(t,e){const n={...e};for(const r in e){const s=t[r],l=e[r];/^on[A-Z]/.test(r)?s&&l?n[r]=(...d)=>{const m=l(...d);return s(...d),m}:s&&(n[r]=s):r==="style"?n[r]={...s,...l}:r==="className"&&(n[r]=[s,l].filter(Boolean).join(" "))}return{...t,...n}}function AM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function LA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=LA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ql(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=LA(t))&&(r&&(r+=" "),r+=e);return r}const BE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,FE=ql,xM=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return FE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:l}=e,c=Object.keys(s).map(g=>{const y=n==null?void 0:n[g],_=l==null?void 0:l[g];if(y===null)return null;const w=BE(y)||BE(_);return s[g][w]}),d=n&&Object.entries(n).reduce((g,y)=>{let[_,w]=y;return w===void 0||(g[_]=w),g},{}),m=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((g,y)=>{let{class:_,className:w,...A}=y;return Object.entries(A).every(x=>{let[D,I]=x;return Array.isArray(I)?I.includes({...l,...d}[D]):{...l,...d}[D]===I})?[...g,_,w]:g},[]);return FE(t,c,m,n==null?void 0:n.class,n==null?void 0:n.className)},Ov="-",RM=t=>{const e=DM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{const d=c.split(Ov);return d[0]===""&&d.length!==1&&d.shift(),jA(d,e)||CM(c)},getConflictingClassGroupIds:(c,d)=>{const m=n[c]||[];return d&&r[c]?[...m,...r[c]]:m}}},jA=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?jA(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const l=t.join(Ov);return(c=e.validators.find(({validator:d})=>d(l)))==null?void 0:c.classGroupId},qE=/^\[(.+)\]$/,CM=t=>{if(qE.test(t)){const e=qE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},DM=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)xy(n[s],r,s,e);return r},xy=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const l=s===""?e:HE(e,s);l.classGroupId=n;return}if(typeof s=="function"){if(IM(s)){xy(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([l,c])=>{xy(c,HE(e,l),n,r)})})},HE=(t,e)=>{let n=t;return e.split(Ov).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},IM=t=>t.isThemeGetter,OM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(l,c)=>{n.set(l,c),e++,e>t&&(e=0,r=n,n=new Map)};return{get(l){let c=n.get(l);if(c!==void 0)return c;if((c=r.get(l))!==void 0)return s(l,c),c},set(l,c){n.has(l)?n.set(l,c):s(l,c)}}},Ry="!",Cy=":",NM=Cy.length,MM=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const l=[];let c=0,d=0,m=0,g;for(let x=0;x<s.length;x++){let D=s[x];if(c===0&&d===0){if(D===Cy){l.push(s.slice(m,x)),m=x+NM;continue}if(D==="/"){g=x;continue}}D==="["?c++:D==="]"?c--:D==="("?d++:D===")"&&d--}const y=l.length===0?s:s.substring(m),_=PM(y),w=_!==y,A=g&&g>m?g-m:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:_,maybePostfixModifierPosition:A}};if(e){const s=e+Cy,l=r;r=c=>c.startsWith(s)?l(c.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=l=>n({className:l,parseClassName:s})}return r},PM=t=>t.endsWith(Ry)?t.substring(0,t.length-1):t.startsWith(Ry)?t.substring(1):t,kM=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let l=[];return r.forEach(c=>{c[0]==="["||e[c]?(s.push(...l.sort(),c),l=[]):l.push(c)}),s.push(...l.sort()),s}},VM=t=>({cache:OM(t.cacheSize),parseClassName:MM(t),sortModifiers:kM(t),...RM(t)}),LM=/\s+/,jM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:l}=e,c=[],d=t.trim().split(LM);let m="";for(let g=d.length-1;g>=0;g-=1){const y=d[g],{isExternal:_,modifiers:w,hasImportantModifier:A,baseClassName:x,maybePostfixModifierPosition:D}=n(y);if(_){m=y+(m.length>0?" "+m:m);continue}let I=!!D,P=r(I?x.substring(0,D):x);if(!P){if(!I){m=y+(m.length>0?" "+m:m);continue}if(P=r(x),!P){m=y+(m.length>0?" "+m:m);continue}I=!1}const q=l(w).join(":"),B=A?q+Ry:q,K=B+P;if(c.includes(K))continue;c.push(K);const J=s(P,I);for(let le=0;le<J.length;++le){const M=J[le];c.push(B+M)}m=y+(m.length>0?" "+m:m)}return m};function UM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=UA(e))&&(r&&(r+=" "),r+=n);return r}const UA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=UA(t[r]))&&(n&&(n+=" "),n+=e);return n};function zM(t,...e){let n,r,s,l=c;function c(m){const g=e.reduce((y,_)=>_(y),t());return n=VM(g),r=n.cache.get,s=n.cache.set,l=d,d(m)}function d(m){const g=r(m);if(g)return g;const y=jM(m,n);return s(m,y),y}return function(){return l(UM.apply(null,arguments))}}const Xt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},zA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,BA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,BM=/^\d+\/\d+$/,FM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,GM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$M=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ul=t=>BM.test(t),Ue=t=>!!t&&!Number.isNaN(Number(t)),za=t=>!!t&&Number.isInteger(Number(t)),Gp=t=>t.endsWith("%")&&Ue(t.slice(0,-1)),Hi=t=>FM.test(t),YM=()=>!0,WM=t=>qM.test(t)&&!HM.test(t),FA=()=>!1,KM=t=>GM.test(t),QM=t=>$M.test(t),XM=t=>!ye(t)&&!ve(t),ZM=t=>Hl(t,GA,FA),ye=t=>zA.test(t),Ws=t=>Hl(t,$A,WM),$p=t=>Hl(t,r2,Ue),GE=t=>Hl(t,qA,FA),JM=t=>Hl(t,HA,QM),Vd=t=>Hl(t,YA,KM),ve=t=>BA.test(t),fc=t=>Gl(t,$A),e2=t=>Gl(t,i2),$E=t=>Gl(t,qA),t2=t=>Gl(t,GA),n2=t=>Gl(t,HA),Ld=t=>Gl(t,YA,!0),Hl=(t,e,n)=>{const r=zA.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Gl=(t,e,n=!1)=>{const r=BA.exec(t);return r?r[1]?e(r[1]):n:!1},qA=t=>t==="position"||t==="percentage",HA=t=>t==="image"||t==="url",GA=t=>t==="length"||t==="size"||t==="bg-size",$A=t=>t==="length",r2=t=>t==="number",i2=t=>t==="family-name",YA=t=>t==="shadow",a2=()=>{const t=Xt("color"),e=Xt("font"),n=Xt("text"),r=Xt("font-weight"),s=Xt("tracking"),l=Xt("leading"),c=Xt("breakpoint"),d=Xt("container"),m=Xt("spacing"),g=Xt("radius"),y=Xt("shadow"),_=Xt("inset-shadow"),w=Xt("text-shadow"),A=Xt("drop-shadow"),x=Xt("blur"),D=Xt("perspective"),I=Xt("aspect"),P=Xt("ease"),q=Xt("animate"),B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],J=()=>[...K(),ve,ye],le=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],R=()=>[ve,ye,m],N=()=>[ul,"full","auto",...R()],L=()=>[za,"none","subgrid",ve,ye],U=()=>["auto",{span:["full",za,ve,ye]},za,ve,ye],z=()=>[za,"auto",ve,ye],k=()=>["auto","min","max","fr",ve,ye],xe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],be=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...R()],ue=()=>[ul,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],Z=()=>[t,ve,ye],ce=()=>[...K(),$E,GE,{position:[ve,ye]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],te=()=>["auto","cover","contain",t2,ZM,{size:[ve,ye]}],fe=()=>[Gp,fc,Ws],re=()=>["","none","full",g,ve,ye],he=()=>["",Ue,fc,Ws],Se=()=>["solid","dashed","dotted","double"],_e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Te=()=>[Ue,Gp,$E,GE],ke=()=>["","none",x,ve,ye],qe=()=>["none",Ue,ve,ye],bt=()=>["none",Ue,ve,ye],Pt=()=>[Ue,ve,ye],kt=()=>[ul,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Hi],breakpoint:[Hi],color:[YM],container:[Hi],"drop-shadow":[Hi],ease:["in","out","in-out"],font:[XM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Hi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Hi],shadow:[Hi],spacing:["px",Ue],text:[Hi],"text-shadow":[Hi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ul,ye,ve,I]}],container:["container"],columns:[{columns:[Ue,ye,ve,d]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:J()}],overflow:[{overflow:le()}],"overflow-x":[{"overflow-x":le()}],"overflow-y":[{"overflow-y":le()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[za,"auto",ve,ye]}],basis:[{basis:[ul,"full","auto",d,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ue,ul,"auto","initial","none",ye]}],grow:[{grow:["",Ue,ve,ye]}],shrink:[{shrink:["",Ue,ve,ye]}],order:[{order:[za,"first","last","none",ve,ye]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...xe(),"normal"]}],"justify-items":[{"justify-items":[...be(),"normal"]}],"justify-self":[{"justify-self":["auto",...be()]}],"align-content":[{content:["normal",...xe()]}],"align-items":[{items:[...be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...be(),{baseline:["","last"]}]}],"place-content":[{"place-content":xe()}],"place-items":[{"place-items":[...be(),"baseline"]}],"place-self":[{"place-self":["auto",...be()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:ue()}],w:[{w:[d,"screen",...ue()]}],"min-w":[{"min-w":[d,"screen","none",...ue()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...ue()]}],h:[{h:["screen","lh",...ue()]}],"min-h":[{"min-h":["screen","lh","none",...ue()]}],"max-h":[{"max-h":["screen","lh",...ue()]}],"font-size":[{text:["base",n,fc,Ws]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ve,$p]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Gp,ye]}],"font-family":[{font:[e2,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ve,ye]}],"line-clamp":[{"line-clamp":[Ue,"none",ve,$p]}],leading:[{leading:[l,...R()]}],"list-image":[{"list-image":["none",ve,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ue,"from-font","auto",ve,Ws]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[Ue,"auto",ve,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ce()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:te()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},za,ve,ye],radial:["",ve,ye],conic:[za,ve,ye]},n2,JM]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:fe()}],"gradient-via-pos":[{via:fe()}],"gradient-to-pos":[{to:fe()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ue,ve,ye]}],"outline-w":[{outline:["",Ue,fc,Ws]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",y,Ld,Vd]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",_,Ld,Vd]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[Ue,Ws]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",w,Ld,Vd]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[Ue,ve,ye]}],"mix-blend":[{"mix-blend":[..._e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":_e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":Te()}],"mask-image-linear-to-pos":[{"mask-linear-to":Te()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":Te()}],"mask-image-t-to-pos":[{"mask-t-to":Te()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":Te()}],"mask-image-r-to-pos":[{"mask-r-to":Te()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":Te()}],"mask-image-b-to-pos":[{"mask-b-to":Te()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":Te()}],"mask-image-l-to-pos":[{"mask-l-to":Te()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":Te()}],"mask-image-x-to-pos":[{"mask-x-to":Te()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":Te()}],"mask-image-y-to-pos":[{"mask-y-to":Te()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[ve,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":Te()}],"mask-image-radial-to-pos":[{"mask-radial-to":Te()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":K()}],"mask-image-conic-pos":[{"mask-conic":[Ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":Te()}],"mask-image-conic-to-pos":[{"mask-conic-to":Te()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ce()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:te()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,ye]}],filter:[{filter:["","none",ve,ye]}],blur:[{blur:ke()}],brightness:[{brightness:[Ue,ve,ye]}],contrast:[{contrast:[Ue,ve,ye]}],"drop-shadow":[{"drop-shadow":["","none",A,Ld,Vd]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",Ue,ve,ye]}],"hue-rotate":[{"hue-rotate":[Ue,ve,ye]}],invert:[{invert:["",Ue,ve,ye]}],saturate:[{saturate:[Ue,ve,ye]}],sepia:[{sepia:["",Ue,ve,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ye]}],"backdrop-blur":[{"backdrop-blur":ke()}],"backdrop-brightness":[{"backdrop-brightness":[Ue,ve,ye]}],"backdrop-contrast":[{"backdrop-contrast":[Ue,ve,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ue,ve,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ue,ve,ye]}],"backdrop-invert":[{"backdrop-invert":["",Ue,ve,ye]}],"backdrop-opacity":[{"backdrop-opacity":[Ue,ve,ye]}],"backdrop-saturate":[{"backdrop-saturate":[Ue,ve,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Ue,ve,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ue,"initial",ve,ye]}],ease:[{ease:["linear","initial",P,ve,ye]}],delay:[{delay:[Ue,ve,ye]}],animate:[{animate:["none",q,ve,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[D,ve,ye]}],"perspective-origin":[{"perspective-origin":J()}],rotate:[{rotate:qe()}],"rotate-x":[{"rotate-x":qe()}],"rotate-y":[{"rotate-y":qe()}],"rotate-z":[{"rotate-z":qe()}],scale:[{scale:bt()}],"scale-x":[{"scale-x":bt()}],"scale-y":[{"scale-y":bt()}],"scale-z":[{"scale-z":bt()}],"scale-3d":["scale-3d"],skew:[{skew:Pt()}],"skew-x":[{"skew-x":Pt()}],"skew-y":[{"skew-y":Pt()}],transform:[{transform:[ve,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:J()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:kt()}],"translate-x":[{"translate-x":kt()}],"translate-y":[{"translate-y":kt()}],"translate-z":[{"translate-z":kt()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ye]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[Ue,fc,Ws,$p]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},s2=zM(a2);function bn(...t){return s2(ql(t))}const o2=xM("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ct({className:t,variant:e,size:n,asChild:r=!1,...s}){const l=r?wM:"button";return T.jsx(l,{"data-slot":"button",className:bn(o2({variant:e,size:n,className:t})),...s})}function WA({className:t,...e}){return T.jsx("div",{"data-slot":"card",className:bn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function l2({className:t,...e}){return T.jsx("div",{"data-slot":"card-header",className:bn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function KA({className:t,...e}){return T.jsx("div",{"data-slot":"card-content",className:bn("px-6",t),...e})}var QA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},YE=xn.createContext&&xn.createContext(QA),u2=["attr","size","title"];function c2(t,e){if(t==null)return{};var n=f2(t,e),r,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(s=0;s<l.length;s++)r=l[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function f2(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yh(){return yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yh.apply(this,arguments)}function WE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WE(Object(n),!0).forEach(function(r){d2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d2(t,e,n){return e=h2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h2(t){var e=m2(t,"string");return typeof e=="symbol"?e:e+""}function m2(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XA(t){return t&&t.map((e,n)=>xn.createElement(e.tag,vh({key:n},e.attr),XA(e.child)))}function g2(t){return e=>xn.createElement(p2,yh({attr:vh({},t.attr)},e),XA(t.child))}function p2(t){var e=n=>{var{attr:r,size:s,title:l}=t,c=c2(t,u2),d=s||n.size||"1em",m;return n.className&&(m=n.className),t.className&&(m=(m?m+" ":"")+t.className),xn.createElement("svg",yh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:m,style:vh(vh({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&xn.createElement("title",null,l),t.children)};return YE!==void 0?xn.createElement(YE.Consumer,null,n=>e(n)):e(QA)}function y2(t){return g2({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_2=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),KE=t=>{const e=_2(t);return e.charAt(0).toUpperCase()+e.slice(1)},ZA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),w2=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:l,iconNode:c,...d},m)=>S.createElement("svg",{ref:m,...b2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:ZA("lucide",s),...!l&&!w2(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,y])=>S.createElement(g,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=(t,e)=>{const n=S.forwardRef(({className:r,...s},l)=>S.createElement(E2,{ref:l,iconNode:e,className:ZA(`lucide-${v2(KE(t))}`,`lucide-${t}`,r),...s}));return n.displayName=KE(t),n};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],S2=us("arrow-right",T2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],x2=us("check",A2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],C2=us("ellipsis-vertical",R2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Kc=us("loader-circle",D2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],O2=us("pencil",I2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],M2=us("shield",N2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],k2=us("trash-2",P2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],L2=us("x",V2),j2=()=>{};var QE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},U2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const l=t[n++];e[r++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=t[n++],c=t[n++],d=t[n++],m=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},ex={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const l=t[s],c=s+1<t.length,d=c?t[s+1]:0,m=s+2<t.length,g=m?t[s+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let w=(d&15)<<2|g>>6,A=g&63;m||(A=64,c||(w=64)),r.push(n[y],n[_],n[w],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):U2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const l=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const g=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,l==null||d==null||g==null||_==null)throw new z2;const w=l<<2|d>>4;if(r.push(w),g!==64){const A=d<<4&240|g>>2;if(r.push(A),_!==64){const x=g<<6&192|_;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class z2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B2=function(t){const e=JA(t);return ex.encodeByteArray(e,!0)},_h=function(t){return B2(t).replace(/\./g,"")},tx=function(t){try{return ex.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=()=>F2().__FIREBASE_DEFAULTS__,H2=()=>{if(typeof process>"u"||typeof QE>"u")return;const t=QE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},G2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tx(t[1]);return e&&JSON.parse(e)},Zh=()=>{try{return j2()||q2()||H2()||G2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nx=t=>{var e,n;return(n=(e=Zh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$2=t=>{const e=nx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rx=()=>{var t;return(t=Zh())===null||t===void 0?void 0:t.config},ix=t=>{var e;return(e=Zh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_h(JSON.stringify(n)),_h(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}function Q2(){var t;const e=(t=Zh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function J2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eP(){const t=Dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tP(){return!Q2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nP(){try{return typeof indexedDB=="object"}catch{return!1}}function rP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="FirebaseError";class Er extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iP,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qc.prototype.create)}}class Qc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?aP(l,r):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new Er(s,d,r)}}function aP(t,e){return t.replace(sP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const sP=/\{\$([^}]+)}/g;function oP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ja(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const l=t[s],c=e[s];if(XE(l)&&XE(c)){if(!Ja(l,c))return!1}else if(l!==c)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function XE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lP(t,e){const n=new uP(t,e);return n.subscribe.bind(n)}class uP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Yp),s.error===void 0&&(s.error=Yp),s.complete===void 0&&(s.complete=Yp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t){return t&&t._delegate?t._delegate:t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t){return t.endsWith(".cloudworkstations.dev")}async function ax(t){return(await fetch(t,{credentials:"include"})).ok}class no{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Y2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hP(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:s});r.resolve(l)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dP(t){return t===Ks?void 0:t}function hP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const gP={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},pP=Ye.INFO,yP={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},vP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=yP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nv{constructor(e){this.name=e,this._logLevel=pP,this._logHandler=vP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const _P=(t,e)=>e.some(n=>t instanceof n);let ZE,JE;function wP(){return ZE||(ZE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bP(){return JE||(JE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sx=new WeakMap,Dy=new WeakMap,ox=new WeakMap,Wp=new WeakMap,Mv=new WeakMap;function EP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Wa(t.result)),s()},c=()=>{r(t.error),s()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&sx.set(n,t)}).catch(()=>{}),Mv.set(e,t),e}function TP(t){if(Dy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),s()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Dy.set(t,e)}let Iy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ox.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SP(t){Iy=t(Iy)}function AP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kp(this),e,...n);return ox.set(r,e.sort?e.sort():[e]),Wa(r)}:bP().includes(t)?function(...e){return t.apply(Kp(this),e),Wa(sx.get(this))}:function(...e){return Wa(t.apply(Kp(this),e))}}function xP(t){return typeof t=="function"?AP(t):(t instanceof IDBTransaction&&TP(t),_P(t,wP())?new Proxy(t,Iy):t)}function Wa(t){if(t instanceof IDBRequest)return EP(t);if(Wp.has(t))return Wp.get(t);const e=xP(t);return e!==t&&(Wp.set(t,e),Mv.set(e,t)),e}const Kp=t=>Mv.get(t);function RP(t,e,{blocked:n,upgrade:r,blocking:s,terminated:l}={}){const c=indexedDB.open(t,e),d=Wa(c);return r&&c.addEventListener("upgradeneeded",m=>{r(Wa(c.result),m.oldVersion,m.newVersion,Wa(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),s&&m.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const CP=["get","getKey","getAll","getAllKeys","count"],DP=["put","add","delete","clear"],Qp=new Map;function eT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qp.get(e))return Qp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=DP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||CP.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,s?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),s&&m.done]))[0]};return Qp.set(e,l),l}SP(t=>({...t,get:(e,n,r)=>eT(e,n)||t.get(e,n,r),has:(e,n)=>!!eT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Oy="@firebase/app",tT="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new Nv("@firebase/app"),NP="@firebase/app-compat",MP="@firebase/analytics-compat",PP="@firebase/analytics",kP="@firebase/app-check-compat",VP="@firebase/app-check",LP="@firebase/auth",jP="@firebase/auth-compat",UP="@firebase/database",zP="@firebase/data-connect",BP="@firebase/database-compat",FP="@firebase/functions",qP="@firebase/functions-compat",HP="@firebase/installations",GP="@firebase/installations-compat",$P="@firebase/messaging",YP="@firebase/messaging-compat",WP="@firebase/performance",KP="@firebase/performance-compat",QP="@firebase/remote-config",XP="@firebase/remote-config-compat",ZP="@firebase/storage",JP="@firebase/storage-compat",ek="@firebase/firestore",tk="@firebase/vertexai",nk="@firebase/firestore-compat",rk="firebase",ik="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="[DEFAULT]",ak={[Oy]:"fire-core",[NP]:"fire-core-compat",[PP]:"fire-analytics",[MP]:"fire-analytics-compat",[VP]:"fire-app-check",[kP]:"fire-app-check-compat",[LP]:"fire-auth",[jP]:"fire-auth-compat",[UP]:"fire-rtdb",[zP]:"fire-data-connect",[BP]:"fire-rtdb-compat",[FP]:"fire-fn",[qP]:"fire-fn-compat",[HP]:"fire-iid",[GP]:"fire-iid-compat",[$P]:"fire-fcm",[YP]:"fire-fcm-compat",[WP]:"fire-perf",[KP]:"fire-perf-compat",[QP]:"fire-rc",[XP]:"fire-rc-compat",[ZP]:"fire-gcs",[JP]:"fire-gcs-compat",[ek]:"fire-fst",[nk]:"fire-fst-compat",[tk]:"fire-vertex","fire-js":"fire-js",[rk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,sk=new Map,My=new Map;function nT(t,e){try{t.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dl(t){const e=t.name;if(My.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;My.set(e,t);for(const n of wh.values())nT(n,t);for(const n of sk.values())nT(n,t);return!0}function Pv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ka=new Qc("app","Firebase",ok);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ka.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=ik;function lx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ny,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ka.create("bad-app-name",{appName:String(s)});if(n||(n=rx()),!n)throw Ka.create("no-options");const l=wh.get(s);if(l){if(Ja(n,l.options)&&Ja(r,l.config))return l;throw Ka.create("duplicate-app",{appName:s})}const c=new mP(s);for(const m of My.values())c.addComponent(m);const d=new lk(n,r,c);return wh.set(s,d),d}function ux(t=Ny){const e=wh.get(t);if(!e&&t===Ny&&rx())return lx();if(!e)throw Ka.create("no-app",{appName:t});return e}function Qa(t,e,n){var r;let s=(r=ak[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Dl(new no(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="firebase-heartbeat-database",ck=1,Cc="firebase-heartbeat-store";let Xp=null;function cx(){return Xp||(Xp=RP(uk,ck,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ka.create("idb-open",{originalErrorMessage:t.message})})),Xp}async function fk(t){try{const n=(await cx()).transaction(Cc),r=await n.objectStore(Cc).get(fx(t));return await n.done,r}catch(e){if(e instanceof Er)Ji.warn(e.message);else{const n=Ka.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(n.message)}}}async function rT(t,e){try{const r=(await cx()).transaction(Cc,"readwrite");await r.objectStore(Cc).put(e,fx(t)),await r.done}catch(n){if(n instanceof Er)Ji.warn(n.message);else{const r=Ka.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ji.warn(r.message)}}}function fx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=1024,hk=30;class mk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=iT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>hk){const c=yk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ji.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=iT(),{heartbeatsToSend:r,unsentEntries:s}=gk(this._heartbeatsCache.heartbeats),l=_h(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Ji.warn(n),""}}}function iT(){return new Date().toISOString().substring(0,10)}function gk(t,e=dk){const n=[];let r=t.slice();for(const s of t){const l=n.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),aT(n)>e){l.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),aT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nP()?rP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return rT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return rT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function aT(t){return _h(JSON.stringify({version:2,heartbeats:t})).length}function yk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t){Dl(new no("platform-logger",e=>new IP(e),"PRIVATE")),Dl(new no("heartbeat",e=>new mk(e),"PRIVATE")),Qa(Oy,tT,t),Qa(Oy,tT,"esm2017"),Qa("fire-js","")}vk("");var ai=function(){return ai=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},ai.apply(this,arguments)};function Zc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function _k(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,l;r<s;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return t.concat(l||Array.prototype.slice.call(e))}function dx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wk=dx,hx=new Qc("auth","Firebase",dx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Nv("@firebase/auth");function bk(t,...e){bh.logLevel<=Ye.WARN&&bh.warn(`Auth (${$l}): ${t}`,...e)}function nh(t,...e){bh.logLevel<=Ye.ERROR&&bh.error(`Auth (${$l}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t,...e){throw Vv(t,...e)}function Pr(t,...e){return Vv(t,...e)}function kv(t,e,n){const r=Object.assign(Object.assign({},wk()),{[e]:n});return new Qc("auth","Firebase",r).create(e,{appName:t.name})}function eo(t){return kv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ek(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&fi(t,"argument-error"),kv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hx.create(t,...e)}function Oe(t,e,...n){if(!t)throw Vv(e,...n)}function Yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nh(e),new Error(e)}function ea(t,e){t||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Tk(){return sT()==="http:"||sT()==="https:"}function sT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tk()||Z2()||"connection"in navigator)?navigator.onLine:!0}function Ak(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ea(n>e,"Short delay should be less than long delay!"),this.isMobile=K2()||J2()}get(){return Sk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t,e){ea(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ck=new Jc(3e4,6e4);function jv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Yl(t,e,n,r,s={}){return gx(t,s,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const d=Xc(Object.assign({key:t.config.apiKey},c)).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g=Object.assign({method:e,headers:m},l);return X2()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Jh(t.emulatorConfig.host)&&(g.credentials="include"),mx.fetch()(await px(t,t.config.apiHost,n,d),g)})}async function gx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},xk),e);try{const s=new Ik(t),l=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw jd(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw jd(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw jd(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw jd(t,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw kv(t,y,g);fi(t,y)}}catch(s){if(s instanceof Er)throw s;fi(t,"network-request-failed",{message:String(s)})}}async function Dk(t,e,n,r,s={}){const l=await Yl(t,e,n,r,s);return"mfaPendingCredential"in l&&fi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function px(t,e,n,r){const s=`${e}${n}?${r}`,l=t,c=l.config.emulator?Lv(t.config,s):`${t.config.apiScheme}://${s}`;return Rk.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class Ik{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),Ck.get())})}}function jd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Pr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(t,e){return Yl(t,"POST","/v1/accounts:delete",e)}async function Eh(t,e){return Yl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Nk(t,e=!1){const n=In(t),r=await n.getIdToken(e),s=Uv(r);Oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:s,token:r,authTime:Ec(Zp(s.auth_time)),issuedAtTime:Ec(Zp(s.iat)),expirationTime:Ec(Zp(s.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Zp(t){return Number(t)*1e3}function Uv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const s=tx(n);return s?JSON.parse(s):(nh("Failed to decode base64 JWT payload"),null)}catch(s){return nh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function oT(t){const e=Uv(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Er&&Mk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Mk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ec(this.lastLoginAt),this.creationTime=Ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Dc(t,Eh(n,{idToken:r}));Oe(s==null?void 0:s.users.length,n,"internal-error");const l=s.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?yx(l.providerUserInfo):[],d=Vk(t.providerData,c),m=t.isAnonymous,g=!(t.email&&l.passwordHash)&&!(d!=null&&d.length),y=m?g:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ky(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function kk(t){const e=In(t);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Vk(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function yx(t){return t.map(e=>{var{providerId:n}=e,r=Zc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(t,e){const n=await gx(t,{},async()=>{const r=Xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=t.config,c=await px(t,s,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",mx.fetch()(c,{method:"POST",headers:d,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jk(t,e){return Yl(t,"POST","/v2/accounts:revokeToken",jv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=oT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:l}=await Lk(e,n);this.updateTokensAndExpiration(r,s,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:l}=n,c=new wl;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&(Oe(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(Oe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wl,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,l=Zc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ky(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Dc(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Nk(this,e)}reload(){return kk(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nr(this.auth.app))return Promise.reject(eo(this.auth));const e=await this.getIdToken();return await Dc(this,Ok(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,l,c,d,m,g,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(s=n.email)!==null&&s!==void 0?s:void 0,A=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,x=(c=n.photoURL)!==null&&c!==void 0?c:void 0,D=(d=n.tenantId)!==null&&d!==void 0?d:void 0,I=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,P=(g=n.createdAt)!==null&&g!==void 0?g:void 0,q=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:B,emailVerified:K,isAnonymous:J,providerData:le,stsTokenManager:M}=n;Oe(B&&M,e,"internal-error");const R=wl.fromJSON(this.name,M);Oe(typeof B=="string",e,"internal-error"),Ba(_,e.name),Ba(w,e.name),Oe(typeof K=="boolean",e,"internal-error"),Oe(typeof J=="boolean",e,"internal-error"),Ba(A,e.name),Ba(x,e.name),Ba(D,e.name),Ba(I,e.name),Ba(P,e.name),Ba(q,e.name);const N=new Mr({uid:B,auth:e,email:w,emailVerified:K,displayName:_,isAnonymous:J,photoURL:x,phoneNumber:A,tenantId:D,stsTokenManager:R,createdAt:P,lastLoginAt:q});return le&&Array.isArray(le)&&(N.providerData=le.map(L=>Object.assign({},L))),I&&(N._redirectEventId=I),N}static async _fromIdTokenResponse(e,n,r=!1){const s=new wl;s.updateFromServerResponse(n);const l=new Mr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Th(l),l}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Oe(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?yx(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),d=new wl;d.updateFromIdToken(r);const m=new Mr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new ky(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=new Map;function Wi(t){ea(t instanceof Function,"Expected a class definition");let e=lT.get(t);return e?(ea(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vx.type="NONE";const uT=vx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t,e,n){return`firebase:${t}:${e}:${n}`}class bl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:l}=this.auth;this.fullUserKey=rh(this.userKey,s.apiKey,l),this.fullPersistenceKey=rh("persistence",s.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Eh(this.auth,{idToken:e}).catch(()=>{});return n?Mr._fromGetAccountInfoResponse(this.auth,n,e):null}return Mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bl(Wi(uT),e,r);const s=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=s[0]||Wi(uT);const c=rh(r,e.config.apiKey,e.name);let d=null;for(const g of n)try{const y=await g._get(c);if(y){let _;if(typeof y=="string"){const w=await Eh(e,{idToken:y}).catch(()=>{});if(!w)break;_=await Mr._fromGetAccountInfoResponse(e,w,y)}else _=Mr._fromJSON(e,y);g!==l&&(d=_),l=g;break}}catch{}const m=s.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new bl(l,e,r):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new bl(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ex(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_x(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Sx(e))return"Blackberry";if(Ax(e))return"Webos";if(wx(e))return"Safari";if((e.includes("chrome/")||bx(e))&&!e.includes("edge/"))return"Chrome";if(Tx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _x(t=Dn()){return/firefox\//i.test(t)}function wx(t=Dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bx(t=Dn()){return/crios\//i.test(t)}function Ex(t=Dn()){return/iemobile/i.test(t)}function Tx(t=Dn()){return/android/i.test(t)}function Sx(t=Dn()){return/blackberry/i.test(t)}function Ax(t=Dn()){return/webos/i.test(t)}function zv(t=Dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Uk(t=Dn()){var e;return zv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zk(){return eP()&&document.documentMode===10}function xx(t=Dn()){return zv(t)||Tx(t)||Ax(t)||Sx(t)||/windows phone/i.test(t)||Ex(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t,e=[]){let n;switch(t){case"Browser":n=cT(Dn());break;case"Worker":n=`${cT(Dn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$l}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fk(t,e={}){return Yl(t,"GET","/v2/passwordPolicy",jv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=6;class Hk{constructor(e){var n,r,s,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:qk,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(s=m.containsLowercaseLetter)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fT(this),this.idTokenSubscription=new fT(this),this.beforeStateQueue=new Bk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{var r,s,l;if(!this._deleted&&(this.persistenceManager=await bl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Eh(this,{idToken:e}),r=await Mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(s=m.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ak()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nr(this.app))return Promise.reject(eo(this));const n=e?In(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nr(this.app)?Promise.reject(eo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nr(this.app)?Promise.reject(eo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Fk(this),n=new Hk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wi(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await bl.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,r,s);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Nr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function em(t){return In(t)}class fT{constructor(e){this.auth=e,this.observer=null,this.addObserver=lP(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $k(t){Bv=t}function Yk(t){return Bv.loadJS(t)}function Wk(){return Bv.gapiScript}function Kk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(t,e){const n=Pv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),l=n.getOptions();if(Ja(l,e??{}))return s;fi(s,"already-initialized")}return n.initialize({options:e})}function Xk(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Zk(t,e,n){const r=em(t);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,l=Cx(e),{host:c,port:d}=Jk(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(Ja(g,r.config.emulator)&&Ja(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,eV(),Jh(c)&&ax(`${l}//${c}${m}`)}function Cx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Jk(t){const e=Cx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const l=s[1];return{host:l,port:dT(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:dT(c)}}}function dT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,n){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(t,e){return Dk(t,"POST","/v1/accounts:signInWithIdp",jv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV="http://localhost";class ro extends Dx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,l=Zc(n,["providerId","signInMethod"]);if(!r||!s)return null;const c=new ro(r,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return El(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,El(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,El(e,n)}buildRequest(){const e={requestUri:tV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef extends Fv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends ef{constructor(){super("facebook.com")}static credential(e){return ro._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ha.credential(e.oauthAccessToken)}catch{return null}}}Ha.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ha.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends ef{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ro._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $i.credential(n,r)}catch{return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com";$i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends ef{constructor(){super("github.com")}static credential(e){return ro._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ga.credentialFromTaggedObject(e)}static credentialFromError(e){return Ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ga.credential(e.oauthAccessToken)}catch{return null}}}Ga.GITHUB_SIGN_IN_METHOD="github.com";Ga.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends ef{constructor(){super("twitter.com")}static credential(e,n){return ro._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $a.credentialFromTaggedObject(e)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $a.credential(n,r)}catch{return null}}}$a.TWITTER_SIGN_IN_METHOD="twitter.com";$a.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const l=await Mr._fromIdTokenResponse(e,r,s),c=hT(r);return new Il({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=hT(r);return new Il({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function hT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends Er{constructor(e,n,r,s){var l;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Sh(e,n,r,s)}}function Ix(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(t,l,e,r):l})}async function nV(t,e,n=!1){const r=await Dc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Il._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rV(t,e,n=!1){const{auth:r}=t;if(Nr(r.app))return Promise.reject(eo(r));const s="reauthenticate";try{const l=await Dc(t,Ix(r,s,e,t),n);Oe(l.idToken,r,"internal-error");const c=Uv(l.idToken);Oe(c,r,"internal-error");const{sub:d}=c;return Oe(t.uid===d,r,"user-mismatch"),Il._forOperation(t,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&fi(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(t,e,n=!1){if(Nr(t.app))return Promise.reject(eo(t));const r="signIn",s=await Ix(t,r,e),l=await Il._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(l.user),l}function aV(t,e,n,r){return In(t).onIdTokenChanged(e,n,r)}function sV(t,e,n){return In(t).beforeAuthStateChanged(e,n)}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=1e3,lV=10;class Nx extends Ox{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);zk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,lV):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},oV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nx.type="LOCAL";const uV=Nx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx extends Ox{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Mx.type="SESSION";const Px=Mx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new tm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:l}=n.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(c).map(async g=>g(n.origin,l)),m=await cV(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=qv("",20);s.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(_){const w=_;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function dV(t){si().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function hV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gV(){return kx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="firebaseLocalStorageDb",pV=1,xh="firebaseLocalStorage",Lx="fbase_key";class tf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nm(t,e){return t.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function yV(){const t=indexedDB.deleteDatabase(Vx);return new tf(t).toPromise()}function Vy(){const t=indexedDB.open(Vx,pV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xh,{keyPath:Lx})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xh)?e(r):(r.close(),await yV(),e(await Vy()))})})}async function mT(t,e,n){const r=nm(t,!0).put({[Lx]:e,value:n});return new tf(r).toPromise()}async function vV(t,e){const n=nm(t,!1).get(e),r=await new tf(n).toPromise();return r===void 0?null:r.value}function gT(t,e){const n=nm(t,!0).delete(e);return new tf(n).toPromise()}const _V=800,wV=3;class jx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>wV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tm._getInstance(gV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await hV(),!this.activeServiceWorker)return;this.sender=new fV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vy();return await mT(e,Ah,"1"),await gT(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=nm(s,!1).getAll();return new tf(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_V)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jx.type="LOCAL";const bV=jx;new Jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t,e){return e?Wi(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv extends Dx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return El(e,this._buildIdpRequest())}_linkToIdToken(e,n){return El(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return El(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EV(t){return iV(t.auth,new Hv(t),t.bypassAuthState)}function TV(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),rV(n,new Hv(t),t.bypassAuthState)}async function SV(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),nV(n,new Hv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n,r,s,l=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EV;case"linkViaPopup":case"linkViaRedirect":return SV;case"reauthViaPopup":case"reauthViaRedirect":return TV;default:fi(this.auth,"internal-error")}}resolve(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=new Jc(2e3,1e4);async function xV(t,e,n){if(Nr(t.app))return Promise.reject(Pr(t,"operation-not-supported-in-this-environment"));const r=em(t);Ek(t,e,Fv);const s=Ux(r,n);return new Xs(r,"signInViaPopup",e,s).executeNotNull()}class Xs extends zx{constructor(e,n,r,s,l){super(e,n,s,l),this.provider=r,this.authWindow=null,this.pollId=null,Xs.currentPopupAction&&Xs.currentPopupAction.cancel(),Xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){ea(this.filter.length===1,"Popup operations only handle one event");const e=qv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AV.get())};e()}}Xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV="pendingRedirect",ih=new Map;class CV extends zx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const r=await DV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DV(t,e){const n=NV(e),r=OV(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function IV(t,e){ih.set(t._key(),e)}function OV(t){return Wi(t._redirectPersistence)}function NV(t){return rh(RV,t.config.apiKey,t.name)}async function MV(t,e,n=!1){if(Nr(t.app))return Promise.reject(eo(t));const r=em(t),s=Ux(r,e),c=await new CV(r,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=10*60*1e3;class kV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Bx(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PV&&this.cachedEventUids.clear(),this.cachedEventUids.has(pT(e))}saveEventToCache(e){this.cachedEventUids.add(pT(e)),this.lastProcessedEventTime=Date.now()}}function pT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Bx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(t,e={}){return Yl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UV=/^https?/;async function zV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LV(t);for(const n of e)try{if(BV(n))return}catch{}fi(t,"unauthorized-domain")}function BV(t){const e=Py(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!UV.test(n))return!1;if(jV.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=new Jc(3e4,6e4);function yT(){const t=si().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qV(t){return new Promise((e,n)=>{var r,s,l;function c(){yT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yT(),n(Pr(t,"network-request-failed"))},timeout:FV.get()})}if(!((s=(r=si().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=si().gapi)===null||l===void 0)&&l.load)c();else{const d=Kk("iframefcb");return si()[d]=()=>{gapi.load?c():n(Pr(t,"network-request-failed"))},Yk(`${Wk()}?onload=${d}`).catch(m=>n(m))}}).catch(e=>{throw ah=null,e})}let ah=null;function HV(t){return ah=ah||qV(t),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=new Jc(5e3,15e3),$V="__/auth/iframe",YV="emulator/auth/iframe",WV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QV(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Lv(e,YV):`https://${t.config.authDomain}/${$V}`,r={apiKey:e.apiKey,appName:t.name,v:$l},s=KV.get(t.config.apiHost);s&&(r.eid=s);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Xc(r).slice(1)}`}async function XV(t){const e=await HV(t),n=si().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:QV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WV,dontclear:!0},r=>new Promise(async(s,l)=>{await r.restyle({setHideOnLeave:!1});const c=Pr(t,"network-request-failed"),d=si().setTimeout(()=>{l(c)},GV.get());function m(){si().clearTimeout(d),s(r)}r.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JV=500,eL=600,tL="_blank",nL="http://localhost";class vT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rL(t,e,n,r=JV,s=eL){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m=Object.assign(Object.assign({},ZV),{width:r.toString(),height:s.toString(),top:l,left:c}),g=Dn().toLowerCase();n&&(d=bx(g)?tL:n),_x(g)&&(e=e||nL,m.scrollbars="yes");const y=Object.entries(m).reduce((w,[A,x])=>`${w}${A}=${x},`,"");if(Uk(g)&&d!=="_self")return iL(e||"",d),new vT(null);const _=window.open(e||"",d,y);Oe(_,t,"popup-blocked");try{_.focus()}catch{}return new vT(_)}function iL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL="__/auth/handler",sL="emulator/auth/handler",oL=encodeURIComponent("fac");async function _T(t,e,n,r,s,l){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$l,eventId:s};if(e instanceof Fv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",oP(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof ef){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await t._getAppCheckToken(),g=m?`#${oL}=${encodeURIComponent(m)}`:"";return`${lL(t)}?${Xc(d).slice(1)}${g}`}function lL({config:t}){return t.emulator?Lv(t,sL):`https://${t.authDomain}/${aL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="webStorageSupport";class uL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Px,this._completeRedirectFn=MV,this._overrideRedirectResult=IV}async _openPopup(e,n,r,s){var l;ea((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await _T(e,n,r,Py(),s);return rL(e,c,qv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const l=await _T(e,n,r,Py(),s);return dV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:l}=this.eventManagers[n];return s?Promise.resolve(s):(ea(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await XV(e),r=new kV(e);return n.register("authEvent",s=>(Oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jp,{type:Jp},s=>{var l;const c=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[Jp];c!==void 0&&n(!!c),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xx()||wx()||zv()}}const cL=uL;var wT="@firebase/auth",bT="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hL(t){Dl(new no("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Oe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rx(t)},g=new Gk(r,s,l,m);return Xk(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dl(new no("auth-internal",e=>{const n=em(e.getProvider("auth").getImmediate());return(r=>new fL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qa(wT,bT,dL(t)),Qa(wT,bT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=5*60,gL=ix("authIdTokenMaxAge")||mL;let ET=null;const pL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>gL)return;const s=n==null?void 0:n.token;ET!==s&&(ET=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function yL(t=ux()){const e=Pv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Qk(t,{popupRedirectResolver:cL,persistence:[bV,uV,Px]}),r=ix("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=pL(l.toString());sV(n,c,()=>c(n.currentUser)),aV(n,d=>c(d))}}const s=nx("auth");return s&&Zk(n,`http://${s}`),n}function vL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$k({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const l=Pr("internal-error");l.customData=s,n(l)},r.type="text/javascript",r.charset="UTF-8",vL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hL("Browser");var _L="firebase",wL="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qa(_L,wL,"app");var TT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xa,Fx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function N(){}N.prototype=R.prototype,M.D=R.prototype,M.prototype=new N,M.prototype.constructor=M,M.C=function(L,U,z){for(var k=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)k[xe-2]=arguments[xe];return R.prototype[U].apply(L,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,R,N){N||(N=0);var L=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)L[U]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(U=0;16>U;++U)L[U]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=M.g[0],N=M.g[1],U=M.g[2];var z=M.g[3],k=R+(z^N&(U^z))+L[0]+3614090360&4294967295;R=N+(k<<7&4294967295|k>>>25),k=z+(U^R&(N^U))+L[1]+3905402710&4294967295,z=R+(k<<12&4294967295|k>>>20),k=U+(N^z&(R^N))+L[2]+606105819&4294967295,U=z+(k<<17&4294967295|k>>>15),k=N+(R^U&(z^R))+L[3]+3250441966&4294967295,N=U+(k<<22&4294967295|k>>>10),k=R+(z^N&(U^z))+L[4]+4118548399&4294967295,R=N+(k<<7&4294967295|k>>>25),k=z+(U^R&(N^U))+L[5]+1200080426&4294967295,z=R+(k<<12&4294967295|k>>>20),k=U+(N^z&(R^N))+L[6]+2821735955&4294967295,U=z+(k<<17&4294967295|k>>>15),k=N+(R^U&(z^R))+L[7]+4249261313&4294967295,N=U+(k<<22&4294967295|k>>>10),k=R+(z^N&(U^z))+L[8]+1770035416&4294967295,R=N+(k<<7&4294967295|k>>>25),k=z+(U^R&(N^U))+L[9]+2336552879&4294967295,z=R+(k<<12&4294967295|k>>>20),k=U+(N^z&(R^N))+L[10]+4294925233&4294967295,U=z+(k<<17&4294967295|k>>>15),k=N+(R^U&(z^R))+L[11]+2304563134&4294967295,N=U+(k<<22&4294967295|k>>>10),k=R+(z^N&(U^z))+L[12]+1804603682&4294967295,R=N+(k<<7&4294967295|k>>>25),k=z+(U^R&(N^U))+L[13]+4254626195&4294967295,z=R+(k<<12&4294967295|k>>>20),k=U+(N^z&(R^N))+L[14]+2792965006&4294967295,U=z+(k<<17&4294967295|k>>>15),k=N+(R^U&(z^R))+L[15]+1236535329&4294967295,N=U+(k<<22&4294967295|k>>>10),k=R+(U^z&(N^U))+L[1]+4129170786&4294967295,R=N+(k<<5&4294967295|k>>>27),k=z+(N^U&(R^N))+L[6]+3225465664&4294967295,z=R+(k<<9&4294967295|k>>>23),k=U+(R^N&(z^R))+L[11]+643717713&4294967295,U=z+(k<<14&4294967295|k>>>18),k=N+(z^R&(U^z))+L[0]+3921069994&4294967295,N=U+(k<<20&4294967295|k>>>12),k=R+(U^z&(N^U))+L[5]+3593408605&4294967295,R=N+(k<<5&4294967295|k>>>27),k=z+(N^U&(R^N))+L[10]+38016083&4294967295,z=R+(k<<9&4294967295|k>>>23),k=U+(R^N&(z^R))+L[15]+3634488961&4294967295,U=z+(k<<14&4294967295|k>>>18),k=N+(z^R&(U^z))+L[4]+3889429448&4294967295,N=U+(k<<20&4294967295|k>>>12),k=R+(U^z&(N^U))+L[9]+568446438&4294967295,R=N+(k<<5&4294967295|k>>>27),k=z+(N^U&(R^N))+L[14]+3275163606&4294967295,z=R+(k<<9&4294967295|k>>>23),k=U+(R^N&(z^R))+L[3]+4107603335&4294967295,U=z+(k<<14&4294967295|k>>>18),k=N+(z^R&(U^z))+L[8]+1163531501&4294967295,N=U+(k<<20&4294967295|k>>>12),k=R+(U^z&(N^U))+L[13]+2850285829&4294967295,R=N+(k<<5&4294967295|k>>>27),k=z+(N^U&(R^N))+L[2]+4243563512&4294967295,z=R+(k<<9&4294967295|k>>>23),k=U+(R^N&(z^R))+L[7]+1735328473&4294967295,U=z+(k<<14&4294967295|k>>>18),k=N+(z^R&(U^z))+L[12]+2368359562&4294967295,N=U+(k<<20&4294967295|k>>>12),k=R+(N^U^z)+L[5]+4294588738&4294967295,R=N+(k<<4&4294967295|k>>>28),k=z+(R^N^U)+L[8]+2272392833&4294967295,z=R+(k<<11&4294967295|k>>>21),k=U+(z^R^N)+L[11]+1839030562&4294967295,U=z+(k<<16&4294967295|k>>>16),k=N+(U^z^R)+L[14]+4259657740&4294967295,N=U+(k<<23&4294967295|k>>>9),k=R+(N^U^z)+L[1]+2763975236&4294967295,R=N+(k<<4&4294967295|k>>>28),k=z+(R^N^U)+L[4]+1272893353&4294967295,z=R+(k<<11&4294967295|k>>>21),k=U+(z^R^N)+L[7]+4139469664&4294967295,U=z+(k<<16&4294967295|k>>>16),k=N+(U^z^R)+L[10]+3200236656&4294967295,N=U+(k<<23&4294967295|k>>>9),k=R+(N^U^z)+L[13]+681279174&4294967295,R=N+(k<<4&4294967295|k>>>28),k=z+(R^N^U)+L[0]+3936430074&4294967295,z=R+(k<<11&4294967295|k>>>21),k=U+(z^R^N)+L[3]+3572445317&4294967295,U=z+(k<<16&4294967295|k>>>16),k=N+(U^z^R)+L[6]+76029189&4294967295,N=U+(k<<23&4294967295|k>>>9),k=R+(N^U^z)+L[9]+3654602809&4294967295,R=N+(k<<4&4294967295|k>>>28),k=z+(R^N^U)+L[12]+3873151461&4294967295,z=R+(k<<11&4294967295|k>>>21),k=U+(z^R^N)+L[15]+530742520&4294967295,U=z+(k<<16&4294967295|k>>>16),k=N+(U^z^R)+L[2]+3299628645&4294967295,N=U+(k<<23&4294967295|k>>>9),k=R+(U^(N|~z))+L[0]+4096336452&4294967295,R=N+(k<<6&4294967295|k>>>26),k=z+(N^(R|~U))+L[7]+1126891415&4294967295,z=R+(k<<10&4294967295|k>>>22),k=U+(R^(z|~N))+L[14]+2878612391&4294967295,U=z+(k<<15&4294967295|k>>>17),k=N+(z^(U|~R))+L[5]+4237533241&4294967295,N=U+(k<<21&4294967295|k>>>11),k=R+(U^(N|~z))+L[12]+1700485571&4294967295,R=N+(k<<6&4294967295|k>>>26),k=z+(N^(R|~U))+L[3]+2399980690&4294967295,z=R+(k<<10&4294967295|k>>>22),k=U+(R^(z|~N))+L[10]+4293915773&4294967295,U=z+(k<<15&4294967295|k>>>17),k=N+(z^(U|~R))+L[1]+2240044497&4294967295,N=U+(k<<21&4294967295|k>>>11),k=R+(U^(N|~z))+L[8]+1873313359&4294967295,R=N+(k<<6&4294967295|k>>>26),k=z+(N^(R|~U))+L[15]+4264355552&4294967295,z=R+(k<<10&4294967295|k>>>22),k=U+(R^(z|~N))+L[6]+2734768916&4294967295,U=z+(k<<15&4294967295|k>>>17),k=N+(z^(U|~R))+L[13]+1309151649&4294967295,N=U+(k<<21&4294967295|k>>>11),k=R+(U^(N|~z))+L[4]+4149444226&4294967295,R=N+(k<<6&4294967295|k>>>26),k=z+(N^(R|~U))+L[11]+3174756917&4294967295,z=R+(k<<10&4294967295|k>>>22),k=U+(R^(z|~N))+L[2]+718787259&4294967295,U=z+(k<<15&4294967295|k>>>17),k=N+(z^(U|~R))+L[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(U+(k<<21&4294967295|k>>>11))&4294967295,M.g[2]=M.g[2]+U&4294967295,M.g[3]=M.g[3]+z&4294967295}r.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var N=R-this.blockSize,L=this.B,U=this.h,z=0;z<R;){if(U==0)for(;z<=N;)s(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<R;)if(L[U++]=M.charCodeAt(z++),U==this.blockSize){s(this,L),U=0;break}}else for(;z<R;)if(L[U++]=M[z++],U==this.blockSize){s(this,L),U=0;break}}this.h=U,this.o+=R},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var N=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=N&255,N/=256;for(this.u(M),M=Array(16),R=N=0;4>R;++R)for(var L=0;32>L;L+=8)M[N++]=this.g[R]>>>L&255;return M};function l(M,R){var N=d;return Object.prototype.hasOwnProperty.call(N,M)?N[M]:N[M]=R(M)}function c(M,R){this.h=R;for(var N=[],L=!0,U=M.length-1;0<=U;U--){var z=M[U]|0;L&&z==R||(N[U]=z,L=!1)}this.g=N}var d={};function m(M){return-128<=M&&128>M?l(M,function(R){return new c([R|0],0>R?-1:0)}):new c([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return I(g(-M));for(var R=[],N=1,L=0;M>=N;L++)R[L]=M/N|0,N*=4294967296;return new c(R,0)}function y(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return I(y(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=g(Math.pow(R,8)),L=_,U=0;U<M.length;U+=8){var z=Math.min(8,M.length-U),k=parseInt(M.substring(U,U+z),R);8>z?(z=g(Math.pow(R,z)),L=L.j(z).add(g(k))):(L=L.j(N),L=L.add(g(k)))}return L}var _=m(0),w=m(1),A=m(16777216);t=c.prototype,t.m=function(){if(D(this))return-I(this).m();for(var M=0,R=1,N=0;N<this.g.length;N++){var L=this.i(N);M+=(0<=L?L:4294967296+L)*R,R*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(x(this))return"0";if(D(this))return"-"+I(this).toString(M);for(var R=g(Math.pow(M,6)),N=this,L="";;){var U=K(N,R).g;N=P(N,U.j(R));var z=((0<N.g.length?N.g[0]:N.h)>>>0).toString(M);if(N=U,x(N))return z+L;for(;6>z.length;)z="0"+z;L=z+L}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function x(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function D(M){return M.h==-1}t.l=function(M){return M=P(this,M),D(M)?-1:x(M)?0:1};function I(M){for(var R=M.g.length,N=[],L=0;L<R;L++)N[L]=~M.g[L];return new c(N,~M.h).add(w)}t.abs=function(){return D(this)?I(this):this},t.add=function(M){for(var R=Math.max(this.g.length,M.g.length),N=[],L=0,U=0;U<=R;U++){var z=L+(this.i(U)&65535)+(M.i(U)&65535),k=(z>>>16)+(this.i(U)>>>16)+(M.i(U)>>>16);L=k>>>16,z&=65535,k&=65535,N[U]=k<<16|z}return new c(N,N[N.length-1]&-2147483648?-1:0)};function P(M,R){return M.add(I(R))}t.j=function(M){if(x(this)||x(M))return _;if(D(this))return D(M)?I(this).j(I(M)):I(I(this).j(M));if(D(M))return I(this.j(I(M)));if(0>this.l(A)&&0>M.l(A))return g(this.m()*M.m());for(var R=this.g.length+M.g.length,N=[],L=0;L<2*R;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(var U=0;U<M.g.length;U++){var z=this.i(L)>>>16,k=this.i(L)&65535,xe=M.i(U)>>>16,be=M.i(U)&65535;N[2*L+2*U]+=k*be,q(N,2*L+2*U),N[2*L+2*U+1]+=z*be,q(N,2*L+2*U+1),N[2*L+2*U+1]+=k*xe,q(N,2*L+2*U+1),N[2*L+2*U+2]+=z*xe,q(N,2*L+2*U+2)}for(L=0;L<R;L++)N[L]=N[2*L+1]<<16|N[2*L];for(L=R;L<2*R;L++)N[L]=0;return new c(N,0)};function q(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function B(M,R){this.g=M,this.h=R}function K(M,R){if(x(R))throw Error("division by zero");if(x(M))return new B(_,_);if(D(M))return R=K(I(M),R),new B(I(R.g),I(R.h));if(D(R))return R=K(M,I(R)),new B(I(R.g),R.h);if(30<M.g.length){if(D(M)||D(R))throw Error("slowDivide_ only works with positive integers.");for(var N=w,L=R;0>=L.l(M);)N=J(N),L=J(L);var U=le(N,1),z=le(L,1);for(L=le(L,2),N=le(N,2);!x(L);){var k=z.add(L);0>=k.l(M)&&(U=U.add(N),z=k),L=le(L,1),N=le(N,1)}return R=P(M,U.j(R)),new B(U,R)}for(U=_;0<=M.l(R);){for(N=Math.max(1,Math.floor(M.m()/R.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),z=g(N),k=z.j(R);D(k)||0<k.l(M);)N-=L,z=g(N),k=z.j(R);x(z)&&(z=w),U=U.add(z),M=P(M,k)}return new B(U,M)}t.A=function(M){return K(this,M).h},t.and=function(M){for(var R=Math.max(this.g.length,M.g.length),N=[],L=0;L<R;L++)N[L]=this.i(L)&M.i(L);return new c(N,this.h&M.h)},t.or=function(M){for(var R=Math.max(this.g.length,M.g.length),N=[],L=0;L<R;L++)N[L]=this.i(L)|M.i(L);return new c(N,this.h|M.h)},t.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),N=[],L=0;L<R;L++)N[L]=this.i(L)^M.i(L);return new c(N,this.h^M.h)};function J(M){for(var R=M.g.length+1,N=[],L=0;L<R;L++)N[L]=M.i(L)<<1|M.i(L-1)>>>31;return new c(N,M.h)}function le(M,R){var N=R>>5;R%=32;for(var L=M.g.length-N,U=[],z=0;z<L;z++)U[z]=0<R?M.i(z+N)>>>R|M.i(z+N+1)<<32-R:M.i(z+N);return new c(U,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Fx=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Xa=c}).apply(typeof TT<"u"?TT:typeof self<"u"?self:typeof window<"u"?window:{});var Ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qx,gc,Hx,sh,Ly,Gx,$x,Yx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,b){return f==Array.prototype||f==Object.prototype||(f[v]=b.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ud=="object"&&Ud];for(var v=0;v<f.length;++v){var b=f[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(f,v){if(v)e:{var b=r;f=f.split(".");for(var O=0;O<f.length-1;O++){var $=f[O];if(!($ in b))break e;b=b[$]}f=f[f.length-1],O=b[f],v=v(O),v!=O&&v!=null&&e(b,f,{configurable:!0,writable:!0,value:v})}}function l(f,v){f instanceof String&&(f+="");var b=0,O=!1,$={next:function(){if(!O&&b<f.length){var ee=b++;return{value:v(ee,f[ee]),done:!1}}return O=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}s("Array.prototype.values",function(f){return f||function(){return l(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function g(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function y(f,v,b){return f.call.apply(f.bind,arguments)}function _(f,v,b){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,O),f.apply(v,$)}}return function(){return f.apply(v,arguments)}}function w(f,v,b){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,w.apply(null,arguments)}function A(f,v){var b=Array.prototype.slice.call(arguments,1);return function(){var O=b.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function x(f,v){function b(){}b.prototype=v.prototype,f.aa=v.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(O,$,ee){for(var de=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)de[Ke-2]=arguments[Ke];return v.prototype[$].apply(O,de)}}function D(f){const v=f.length;if(0<v){const b=Array(v);for(let O=0;O<v;O++)b[O]=f[O];return b}return[]}function I(f,v){for(let b=1;b<arguments.length;b++){const O=arguments[b];if(m(O)){const $=f.length||0,ee=O.length||0;f.length=$+ee;for(let de=0;de<ee;de++)f[$+de]=O[de]}else f.push(O)}}class P{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function q(f){return/^[\s\xa0]*$/.test(f)}function B(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function K(f){return K[" "](f),f}K[" "]=function(){};var J=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function le(f,v,b){for(const O in f)v.call(b,f[O],O,f)}function M(f,v){for(const b in f)v.call(void 0,f[b],b,f)}function R(f){const v={};for(const b in f)v[b]=f[b];return v}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,v){let b,O;for(let $=1;$<arguments.length;$++){O=arguments[$];for(b in O)f[b]=O[b];for(let ee=0;ee<N.length;ee++)b=N[ee],Object.prototype.hasOwnProperty.call(O,b)&&(f[b]=O[b])}}function U(f){var v=1;f=f.split(":");const b=[];for(;0<v&&f.length;)b.push(f.shift()),v--;return f.length&&b.push(f.join(":")),b}function z(f){d.setTimeout(()=>{throw f},0)}function k(){var f=ce;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class xe{constructor(){this.h=this.g=null}add(v,b){const O=be.get();O.set(v,b),this.h?this.h.next=O:this.g=O,this.h=O}}var be=new P(()=>new G,f=>f.reset());class G{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,Z=!1,ce=new xe,V=()=>{const f=d.Promise.resolve(void 0);ue=()=>{f.then(te)}};var te=()=>{for(var f;f=k();){try{f.h.call(f.g)}catch(b){z(b)}var v=be;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}Z=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};d.addEventListener("test",b,v),d.removeEventListener("test",b,v)}catch{}return f}();function Se(f,v){if(re.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(J){e:{try{K(v.nodeName);var $=!0;break e}catch{}$=!1}$||(v=null)}}else b=="mouseover"?v=f.fromElement:b=="mouseout"&&(v=f.toElement);this.relatedTarget=v,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:_e[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Se.aa.h.call(this)}}x(Se,re);var _e={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Te="closure_listenable_"+(1e6*Math.random()|0),ke=0;function qe(f,v,b,O,$){this.listener=f,this.proxy=null,this.src=v,this.type=b,this.capture=!!O,this.ha=$,this.key=++ke,this.da=this.fa=!1}function bt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Pt(f){this.src=f,this.g={},this.h=0}Pt.prototype.add=function(f,v,b,O,$){var ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);var de=ln(f,v,O,$);return-1<de?(v=f[de],b||(v.fa=!1)):(v=new qe(v,this.src,ee,!!O,$),v.fa=b,f.push(v)),v};function kt(f,v){var b=v.type;if(b in f.g){var O=f.g[b],$=Array.prototype.indexOf.call(O,v,void 0),ee;(ee=0<=$)&&Array.prototype.splice.call(O,$,1),ee&&(bt(v),f.g[b].length==0&&(delete f.g[b],f.h--))}}function ln(f,v,b,O){for(var $=0;$<f.length;++$){var ee=f[$];if(!ee.da&&ee.listener==v&&ee.capture==!!b&&ee.ha==O)return $}return-1}var rt="closure_lm_"+(1e6*Math.random()|0),Hn={};function Gt(f,v,b,O,$){if(Array.isArray(v)){for(var ee=0;ee<v.length;ee++)Gt(f,v[ee],b,O,$);return null}return b=vo(b),f&&f[Te]?f.K(v,b,g(O)?!!O.capture:!1,$):$t(f,v,b,!1,O,$)}function $t(f,v,b,O,$,ee){if(!v)throw Error("Invalid event type");var de=g($)?!!$.capture:!!$,Ke=vi(f);if(Ke||(f[rt]=Ke=new Pt(f)),b=Ke.add(v,b,O,de,ee),b.proxy)return b;if(O=da(),b.proxy=O,O.src=f,O.listener=b,f.addEventListener)he||($=de),$===void 0&&($=!1),f.addEventListener(v.toString(),O,$);else if(f.attachEvent)f.attachEvent(yi(v.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return b}function da(){function f(b){return v.call(f.src,f.listener,b)}const v=lu;return f}function Gn(f,v,b,O,$){if(Array.isArray(v))for(var ee=0;ee<v.length;ee++)Gn(f,v[ee],b,O,$);else O=g(O)?!!O.capture:!!O,b=vo(b),f&&f[Te]?(f=f.i,v=String(v).toString(),v in f.g&&(ee=f.g[v],b=ln(ee,b,O,$),-1<b&&(bt(ee[b]),Array.prototype.splice.call(ee,b,1),ee.length==0&&(delete f.g[v],f.h--)))):f&&(f=vi(f))&&(v=f.g[v.toString()],f=-1,v&&(f=ln(v,b,O,$)),(b=-1<f?v[f]:null)&&ha(b))}function ha(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Te])kt(v.i,f);else{var b=f.type,O=f.proxy;v.removeEventListener?v.removeEventListener(b,O,f.capture):v.detachEvent?v.detachEvent(yi(b),O):v.addListener&&v.removeListener&&v.removeListener(O),(b=vi(v))?(kt(b,f),b.h==0&&(b.src=null,v[rt]=null)):bt(f)}}}function yi(f){return f in Hn?Hn[f]:Hn[f]="on"+f}function lu(f,v){if(f.da)f=!0;else{v=new Se(v,this);var b=f.listener,O=f.ha||f.src;f.fa&&ha(f),f=b.call(O,v)}return f}function vi(f){return f=f[rt],f instanceof Pt?f:null}var ps="__closure_events_fn_"+(1e9*Math.random()>>>0);function vo(f){return typeof f=="function"?f:(f[ps]||(f[ps]=function(v){return f.handleEvent(v)}),f[ps])}function yt(){fe.call(this),this.i=new Pt(this),this.M=this,this.F=null}x(yt,fe),yt.prototype[Te]=!0,yt.prototype.removeEventListener=function(f,v,b,O){Gn(this,f,v,b,O)};function tt(f,v){var b,O=f.F;if(O)for(b=[];O;O=O.F)b.push(O);if(f=f.M,O=v.type||v,typeof v=="string")v=new re(v,f);else if(v instanceof re)v.target=v.target||f;else{var $=v;v=new re(O,f),L(v,$)}if($=!0,b)for(var ee=b.length-1;0<=ee;ee--){var de=v.g=b[ee];$=On(de,O,!0,v)&&$}if(de=v.g=f,$=On(de,O,!0,v)&&$,$=On(de,O,!1,v)&&$,b)for(ee=0;ee<b.length;ee++)de=v.g=b[ee],$=On(de,O,!1,v)&&$}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var b=f.g[v],O=0;O<b.length;O++)bt(b[O]);delete f.g[v],f.h--}}this.F=null},yt.prototype.K=function(f,v,b,O){return this.i.add(String(f),v,!1,b,O)},yt.prototype.L=function(f,v,b,O){return this.i.add(String(f),v,!0,b,O)};function On(f,v,b,O){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var $=!0,ee=0;ee<v.length;++ee){var de=v[ee];if(de&&!de.da&&de.capture==b){var Ke=de.listener,Yt=de.ha||de.src;de.fa&&kt(f.i,de),$=Ke.call(Yt,O)!==!1&&$}}return $&&!O.defaultPrevented}function Vt(f,v,b){if(typeof f=="function")b&&(f=w(f,b));else if(f&&typeof f.handleEvent=="function")f=w(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(f,v||0)}function ys(f){f.g=Vt(()=>{f.g=null,f.i&&(f.i=!1,ys(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class _o extends fe{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ys(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _i(f){fe.call(this),this.h=f,this.g={}}x(_i,fe);var ar=[];function zr(f){le(f.g,function(v,b){this.g.hasOwnProperty(b)&&ha(v)},f),f.g={}}_i.prototype.N=function(){_i.aa.N.call(this),zr(this)},_i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=d.JSON.stringify,wi=d.JSON.parse,Br=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function bi(){}bi.prototype.h=null;function vs(f){return f.h||(f.h=f.i())}function ma(){}var Tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sr(){re.call(this,"d")}x(sr,re);function Lt(){re.call(this,"c")}x(Lt,re);var gt={},Fr=null;function Je(){return Fr=Fr||new yt}gt.La="serverreachability";function un(f){re.call(this,gt.La,f)}x(un,re);function qr(f){const v=Je();tt(v,new un(v))}gt.STAT_EVENT="statevent";function ga(f,v){re.call(this,gt.STAT_EVENT,f),this.stat=v}x(ga,re);function dt(f){const v=Je();tt(v,new ga(v,f))}gt.Ma="timingevent";function At(f,v){re.call(this,gt.Ma,f),this.size=v}x(At,re);function vt(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},v)}function cn(){this.g=!0}cn.prototype.xa=function(){this.g=!1};function Ei(f,v,b,O,$,ee){f.info(function(){if(f.g)if(ee)for(var de="",Ke=ee.split("&"),Yt=0;Yt<Ke.length;Yt++){var Qe=Ke[Yt].split("=");if(1<Qe.length){var nn=Qe[0];Qe=Qe[1];var Wt=nn.split("_");de=2<=Wt.length&&Wt[1]=="type"?de+(nn+"="+Qe+"&"):de+(nn+"=redacted&")}}else de=null;else de=ee;return"XMLHTTP REQ ("+O+") [attempt "+$+"]: "+v+`
`+b+`
`+de})}function _s(f,v,b,O,$,ee,de){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+$+"]: "+v+`
`+b+`
`+ee+" "+de})}function or(f,v,b,O){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Sr(f,b)+(O?" "+O:"")})}function wo(f,v){f.info(function(){return"TIMEOUT: "+v})}cn.prototype.info=function(){};function Sr(f,v){if(!f.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var O=b[f];if(!(2>O.length)){var $=O[1];if(Array.isArray($)&&!(1>$.length)){var ee=$[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var de=1;de<$.length;de++)$[de]=""}}}}return $n(b)}catch{return v}}var Ar={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lr;function Ie(){}x(Ie,bi),Ie.prototype.g=function(){return new XMLHttpRequest},Ie.prototype.i=function(){return{}},lr=new Ie;function Be(f,v,b,O){this.j=f,this.i=v,this.l=b,this.R=O||1,this.U=new _i(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pe}function Pe(){this.i=null,this.g="",this.h=!1}var fn={},en={};function Nn(f,v,b){f.L=1,f.v=Ss(Yn(v)),f.m=b,f.P=!0,Rr(f,null)}function Rr(f,v){f.F=Date.now(),ws(f),f.A=Yn(f.v);var b=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),mu(b.i,"t",O),f.C=0,b=f.j.J,f.h=new Pe,f.g=Of(f.j,b?v:null,!f.m),0<f.O&&(f.M=new _o(w(f.Y,f,f.g),f.O)),v=f.U,b=f.g,O=f.ca;var $="readystatechange";Array.isArray($)||($&&(ar[0]=$.toString()),$=ar);for(var ee=0;ee<$.length;ee++){var de=Gt(b,$[ee],O||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=f.H?R(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),qr(),Ei(f.i,f.u,f.A,f.l,f.R,f.m)}Be.prototype.ca=function(f){f=f.target;const v=this.M;v&&dr(f)==3?v.j():this.Y(f)},Be.prototype.Y=function(f){try{if(f==this.g)e:{const Wt=dr(this.g);var v=this.g.Ba();const Ii=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||Tf(this.g)))){this.J||Wt!=4||v==7||(v==8||0>=Ii?qr(3):qr(2)),pa(this);var b=this.g.Z();this.X=b;t:if(bo(this)){var O=Tf(this.g);f="";var $=O.length,ee=dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),Hr(this);var de="";break t}this.h.i=new d.TextDecoder}for(v=0;v<$;v++)this.h.h=!0,f+=this.h.i.decode(O[v],{stream:!(ee&&v==$-1)});O.length=0,this.h.g+=f,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=b==200,_s(this.i,this.u,this.A,this.l,this.R,Wt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Yt=this.g;if((Ke=Yt.g?Yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Ke)){var Qe=Ke;break t}}Qe=null}if(b=Qe)or(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bs(this,b);else{this.o=!1,this.s=3,dt(12),dn(this),Hr(this);break e}}if(this.P){b=!0;let hn;for(;!this.J&&this.C<de.length;)if(hn=yf(this,de),hn==en){Wt==4&&(this.s=4,dt(14),b=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==fn){this.s=4,dt(15),or(this.i,this.l,de,"[Invalid Chunk]"),b=!1;break}else or(this.i,this.l,hn,null),bs(this,hn);if(bo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||de.length!=0||this.h.h||(this.s=1,dt(16),b=!1),this.o=this.o&&b,!b)or(this.i,this.l,de,"[Invalid Chunked Response]"),dn(this),Hr(this);else if(0<de.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Ns(nn),nn.M=!0,dt(11))}}else or(this.i,this.l,de,null),bs(this,de);Wt==4&&dn(this),this.o&&!this.J&&(Wt==4?Cf(this.j,this):(this.o=!1,ws(this)))}else Gm(this.g),b==400&&0<de.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),dn(this),Hr(this)}}}catch{}finally{}};function bo(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function yf(f,v){var b=f.C,O=v.indexOf(`
`,b);return O==-1?en:(b=Number(v.substring(b,O)),isNaN(b)?fn:(O+=1,O+b>v.length?en:(v=v.slice(O,O+b),f.C=O+b,v)))}Be.prototype.cancel=function(){this.J=!0,dn(this)};function ws(f){f.S=Date.now()+f.I,vf(f,f.I)}function vf(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=vt(w(f.ba,f),v)}function pa(f){f.B&&(d.clearTimeout(f.B),f.B=null)}Be.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(wo(this.i,this.A),this.L!=2&&(qr(),dt(17)),dn(this),this.s=2,Hr(this)):vf(this,this.S-f)};function Hr(f){f.j.G==0||f.J||Cf(f.j,f)}function dn(f){pa(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,zr(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function bs(f,v){try{var b=f.j;if(b.G!=0&&(b.g==f||uu(b.h,f))){if(!f.K&&uu(b.h,f)&&b.G==3){try{var O=b.Da.g.parse(v)}catch{O=null}if(Array.isArray(O)&&O.length==3){var $=O;if($[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)Mo(b),Oo(b);else break e;_u(b),dt(18)}}else b.za=$[1],0<b.za-b.T&&37500>$[2]&&b.F&&b.v==0&&!b.C&&(b.C=vt(w(b.Za,b),6e3));if(1>=To(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Di(b,11)}else if((f.K||b.g==f)&&Mo(b),!q(v))for($=b.Da.g.parse(v),v=0;v<$.length;v++){let Qe=$[v];if(b.T=Qe[0],Qe=Qe[1],b.G==2)if(Qe[0]=="c"){b.K=Qe[1],b.ia=Qe[2];const nn=Qe[3];nn!=null&&(b.la=nn,b.j.info("VER="+b.la));const Wt=Qe[4];Wt!=null&&(b.Aa=Wt,b.j.info("SVER="+b.Aa));const Ii=Qe[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(O=1.5*Ii,b.L=O,b.j.info("backChannelRequestTimeoutMs_="+O)),O=b;const hn=f.g;if(hn){const Xr=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xr){var ee=O.h;ee.g||Xr.indexOf("spdy")==-1&&Xr.indexOf("quic")==-1&&Xr.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(So(ee,ee.h),ee.h=null))}if(O.D){const bu=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;bu&&(O.ya=bu,lt(O.I,O.D,bu))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),O=b;var de=f;if(O.qa=If(O,O.J?O.ia:null,O.W),de.K){Mn(O.h,de);var Ke=de,Yt=O.L;Yt&&(Ke.I=Yt),Ke.B&&(pa(Ke),ws(Ke)),O.g=de}else xf(O);0<b.i.length&&No(b)}else Qe[0]!="stop"&&Qe[0]!="close"||Di(b,7);else b.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Di(b,7):yu(b):Qe[0]!="noop"&&b.l&&b.l.ta(Qe),b.v=0)}}qr(4)}catch{}}var _f=class{constructor(f,v){this.g=f,this.map=v}};function Ti(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Eo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function To(f){return f.h?1:f.g?f.g.size:0}function uu(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function So(f,v){f.g?f.g.add(v):f.h=v}function Mn(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}Ti.prototype.cancel=function(){if(this.i=cu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function cu(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const b of f.g.values())v=v.concat(b.D);return v}return D(f.i)}function Bm(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var v=[],b=f.length,O=0;O<b;O++)v.push(f[O]);return v}v=[],b=0;for(O in f)v[b++]=f[O];return v}function Ao(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var v=[];f=f.length;for(var b=0;b<f;b++)v.push(b);return v}v=[],b=0;for(const O in f)v[b++]=O;return v}}}function fu(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var b=Ao(f),O=Bm(f),$=O.length,ee=0;ee<$;ee++)v.call(void 0,O[ee],b&&b[ee],f)}var Es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fm(f,v){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var O=f[b].indexOf("="),$=null;if(0<=O){var ee=f[b].substring(0,O);$=f[b].substring(O+1)}else ee=f[b];v(ee,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function jt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof jt){this.h=f.h,Ts(this,f.j),this.o=f.o,this.g=f.g,ya(this,f.s),this.l=f.l;var v=f.i,b=new Ai;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),Si(this,b),this.m=f.m}else f&&(v=String(f).match(Es))?(this.h=!1,Ts(this,v[1]||"",!0),this.o=ur(v[2]||""),this.g=ur(v[3]||"",!0),ya(this,v[4]),this.l=ur(v[5]||"",!0),Si(this,v[6]||"",!0),this.m=ur(v[7]||"")):(this.h=!1,this.i=new Ai(null,this.h))}jt.prototype.toString=function(){var f=[],v=this.j;v&&f.push(As(v,du,!0),":");var b=this.g;return(b||v=="file")&&(f.push("//"),(v=this.o)&&f.push(As(v,du,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(As(b,b.charAt(0)=="/"?qm:hu,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",As(b,xo)),f.join("")};function Yn(f){return new jt(f)}function Ts(f,v,b){f.j=b?ur(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function ya(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function Si(f,v,b){v instanceof Ai?(f.i=v,bf(f.i,f.h)):(b||(v=As(v,Hm)),f.i=new Ai(v,f.h))}function lt(f,v,b){f.i.set(v,b)}function Ss(f){return lt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ur(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function As(f,v,b){return typeof f=="string"?(f=encodeURI(f).replace(v,wf),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function wf(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var du=/[#\/\?@]/g,hu=/[#\?:]/g,qm=/[#\?]/g,Hm=/[#\?@]/g,xo=/#/g;function Ai(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function cr(f){f.g||(f.g=new Map,f.h=0,f.i&&Fm(f.i,function(v,b){f.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}t=Ai.prototype,t.add=function(f,v){cr(this),this.i=null,f=Gr(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(v),this.h+=1,this};function xi(f,v){cr(f),v=Gr(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Ri(f,v){return cr(f),v=Gr(f,v),f.g.has(v)}t.forEach=function(f,v){cr(this),this.g.forEach(function(b,O){b.forEach(function($){f.call(v,$,O,this)},this)},this)},t.na=function(){cr(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let O=0;O<v.length;O++){const $=f[O];for(let ee=0;ee<$.length;ee++)b.push(v[O])}return b},t.V=function(f){cr(this);let v=[];if(typeof f=="string")Ri(this,f)&&(v=v.concat(this.g.get(Gr(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)v=v.concat(f[b])}return v},t.set=function(f,v){return cr(this),this.i=null,f=Gr(this,f),Ri(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function mu(f,v,b){xi(f,v),0<b.length&&(f.i=null,f.g.set(Gr(f,v),D(b)),f.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var O=v[b];const ee=encodeURIComponent(String(O)),de=this.V(O);for(O=0;O<de.length;O++){var $=ee;de[O]!==""&&($+="="+encodeURIComponent(String(de[O]))),f.push($)}}return this.i=f.join("&")};function Gr(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function bf(f,v){v&&!f.j&&(cr(f),f.i=null,f.g.forEach(function(b,O){var $=O.toLowerCase();O!=$&&(xi(this,O),mu(this,$,b))},f)),f.j=v}function xs(f,v){const b=new cn;if(d.Image){const O=new Image;O.onload=A(fr,b,"TestLoadImage: loaded",!0,v,O),O.onerror=A(fr,b,"TestLoadImage: error",!1,v,O),O.onabort=A(fr,b,"TestLoadImage: abort",!1,v,O),O.ontimeout=A(fr,b,"TestLoadImage: timeout",!1,v,O),d.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else v(!1)}function Cr(f,v){const b=new cn,O=new AbortController,$=setTimeout(()=>{O.abort(),fr(b,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:O.signal}).then(ee=>{clearTimeout($),ee.ok?fr(b,"TestPingServer: ok",!0,v):fr(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),fr(b,"TestPingServer: error",!1,v)})}function fr(f,v,b,O,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),O(b)}catch{}}function Rs(){this.g=new Br}function $r(f,v,b){const O=b||"";try{fu(f,function($,ee){let de=$;g($)&&(de=$n($)),v.push(O+ee+"="+encodeURIComponent(de))})}catch($){throw v.push(O+"type="+encodeURIComponent("_badmap")),$}}function va(f){this.l=f.Ub||null,this.j=f.eb||!1}x(va,bi),va.prototype.g=function(){return new Ci(this.l,this.j)},va.prototype.i=function(f){return function(){return f}}({});function Ci(f,v){yt.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Ci,yt),t=Ci.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Wr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Wr(this)),this.g&&(this.readyState=3,Wr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gu(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function gu(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Yr(this):Wr(this),this.readyState==3&&gu(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Yr(this))},t.Qa=function(f){this.g&&(this.response=f,Yr(this))},t.ga=function(){this.g&&Yr(this)};function Yr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Wr(f)}t.setRequestHeader=function(f,v){this.u.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=v.next();return f.join(`\r
`)};function Wr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function pu(f){let v="";return le(f,function(b,O){v+=O,v+=":",v+=b,v+=`\r
`}),v}function tn(f,v,b){e:{for(O in b){var O=!1;break e}O=!0}O||(b=pu(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):lt(f,v,b))}function it(f){yt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(it,yt);var Ro=/^https?$/i,Cs=["POST","PUT"];t=it.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,v,b,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lr.g(),this.v=this.o?vs(this.o):vs(lr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(ee){Ef(this,ee);return}if(f=b||"",b=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var $ in O)b.set($,O[$]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ee of O.keys())b.set(ee,O.get(ee));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(b.keys()).find(ee=>ee.toLowerCase()=="content-type"),$=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Cs,v,void 0))||O||$||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,de]of b)this.g.setRequestHeader(ee,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ds(this),this.u=!0,this.g.send(f),this.u=!1}catch(ee){Ef(this,ee)}};function Ef(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,Co(f),Kr(f)}function Co(f){f.A||(f.A=!0,tt(f,"complete"),tt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,tt(this,"complete"),tt(this,"abort"),Kr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kr(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Do(this):this.bb())},t.bb=function(){Do(this)};function Do(f){if(f.h&&typeof c<"u"&&(!f.v[1]||dr(f)!=4||f.Z()!=2)){if(f.u&&dr(f)==4)Vt(f.Ea,0,f);else if(tt(f,"readystatechange"),dr(f)==4){f.h=!1;try{const de=f.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var O;if(O=de===0){var $=String(f.D).match(Es)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),O=!Ro.test($?$.toLowerCase():"")}b=O}if(b)tt(f,"complete"),tt(f,"success");else{f.m=6;try{var ee=2<dr(f)?f.g.statusText:""}catch{ee=""}f.l=ee+" ["+f.Z()+"]",Co(f)}}finally{Kr(f)}}}}function Kr(f,v){if(f.g){Ds(f);const b=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||tt(f,"ready");try{b.onreadystatechange=O}catch{}}}function Ds(f){f.I&&(d.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function dr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<dr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),wi(v)}};function Tf(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Gm(f){const v={};f=(f.g&&2<=dr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(q(f[O]))continue;var b=U(f[O]);const $=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const ee=v[$]||[];v[$]=ee,ee.push(b)}M(v,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Is(f,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||v}function Io(f){this.Aa=0,this.i=[],this.j=new cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Is("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Is("baseRetryDelayMs",5e3,f),this.cb=Is("retryDelaySeedMs",1e4,f),this.Wa=Is("forwardChannelMaxRetries",2,f),this.wa=Is("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Ti(f&&f.concurrentRequestLimit),this.Da=new Rs,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Io.prototype,t.la=8,t.G=1,t.connect=function(f,v,b,O){dt(0),this.W=f,this.H=v||{},b&&O!==void 0&&(this.H.OSID=b,this.H.OAID=O),this.F=this.X,this.I=If(this,null,this.W),No(this)};function yu(f){if(Sf(f),f.G==3){var v=f.U++,b=Yn(f.I);if(lt(b,"SID",f.K),lt(b,"RID",v),lt(b,"TYPE","terminate"),Os(f,b),v=new Be(f,f.j,v),v.L=2,v.v=Ss(Yn(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&d.Image&&(new Image().src=v.v,b=!0),b||(v.g=Of(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ws(v)}Df(f)}function Oo(f){f.g&&(Ns(f),f.g.cancel(),f.g=null)}function Sf(f){Oo(f),f.u&&(d.clearTimeout(f.u),f.u=null),Mo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function No(f){if(!Eo(f.h)&&!f.s){f.s=!0;var v=f.Ga;ue||V(),Z||(ue(),Z=!0),ce.add(v,f),f.B=0}}function $m(f,v){return To(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=vt(w(f.Ga,f,v),wu(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const $=new Be(this,this.j,f);let ee=this.o;if(this.S&&(ee?(ee=R(ee),L(ee,this.S)):ee=this.S),this.m!==null||this.O||($.H=ee,ee=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var O=this.i[b];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(v+=O,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Af(this,$,v),b=Yn(this.I),lt(b,"RID",f),lt(b,"CVER",22),this.D&&lt(b,"X-HTTP-Session-Id",this.D),Os(this,b),ee&&(this.O?v="headers="+encodeURIComponent(String(pu(ee)))+"&"+v:this.m&&tn(b,this.m,ee)),So(this.h,$),this.Ua&&lt(b,"TYPE","init"),this.P?(lt(b,"$req",v),lt(b,"SID","null"),$.T=!0,Nn($,b,null)):Nn($,b,v),this.G=2}}else this.G==3&&(f?vu(this,f):this.i.length==0||Eo(this.h)||vu(this))};function vu(f,v){var b;v?b=v.l:b=f.U++;const O=Yn(f.I);lt(O,"SID",f.K),lt(O,"RID",b),lt(O,"AID",f.T),Os(f,O),f.m&&f.o&&tn(O,f.m,f.o),b=new Be(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),v&&(f.i=v.D.concat(f.i)),v=Af(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),So(f.h,b),Nn(b,O,v)}function Os(f,v){f.H&&le(f.H,function(b,O){lt(v,O,b)}),f.l&&fu({},function(b,O){lt(v,O,b)})}function Af(f,v,b){b=Math.min(f.i.length,b);var O=f.l?w(f.l.Na,f.l,f):null;e:{var $=f.i;let ee=-1;for(;;){const de=["count="+b];ee==-1?0<b?(ee=$[0].g,de.push("ofs="+ee)):ee=0:de.push("ofs="+ee);let Ke=!0;for(let Yt=0;Yt<b;Yt++){let Qe=$[Yt].g;const nn=$[Yt].map;if(Qe-=ee,0>Qe)ee=Math.max(0,$[Yt].g-100),Ke=!1;else try{$r(nn,de,"req"+Qe+"_")}catch{O&&O(nn)}}if(Ke){O=de.join("&");break e}}}return f=f.i.splice(0,b),v.D=f,O}function xf(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;ue||V(),Z||(ue(),Z=!0),ce.add(v,f),f.v=0}}function _u(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=vt(w(f.Fa,f),wu(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Rf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=vt(w(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Oo(this),Rf(this))};function Ns(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Rf(f){f.g=new Be(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Yn(f.qa);lt(v,"RID","rpc"),lt(v,"SID",f.K),lt(v,"AID",f.T),lt(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&lt(v,"TO",f.ja),lt(v,"TYPE","xmlhttp"),Os(f,v),f.m&&f.o&&tn(v,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=Ss(Yn(v)),b.m=null,b.P=!0,Rr(b,f)}t.Za=function(){this.C!=null&&(this.C=null,Oo(this),_u(this),dt(19))};function Mo(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Cf(f,v){var b=null;if(f.g==v){Mo(f),Ns(f),f.g=null;var O=2}else if(uu(f.h,v))b=v.D,Mn(f.h,v),O=1;else return;if(f.G!=0){if(v.o)if(O==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var $=f.B;O=Je(),tt(O,new At(O,b)),No(f)}else xf(f);else if($=v.s,$==3||$==0&&0<v.X||!(O==1&&$m(f,v)||O==2&&_u(f)))switch(b&&0<b.length&&(v=f.h,v.i=v.i.concat(b)),$){case 1:Di(f,5);break;case 4:Di(f,10);break;case 3:Di(f,6);break;default:Di(f,2)}}}function wu(f,v){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*v}function Di(f,v){if(f.j.info("Error code "+v),v==2){var b=w(f.fb,f),O=f.Xa;const $=!O;O=new jt(O||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ts(O,"https"),Ss(O),$?xs(O.toString(),b):Cr(O.toString(),b)}else dt(2);f.G=0,f.l&&f.l.sa(v),Df(f),Sf(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Df(f){if(f.G=0,f.ka=[],f.l){const v=cu(f.h);(v.length!=0||f.i.length!=0)&&(I(f.ka,v),I(f.ka,f.i),f.h.i.length=0,D(f.i),f.i.length=0),f.l.ra()}}function If(f,v,b){var O=b instanceof jt?Yn(b):new jt(b);if(O.g!="")v&&(O.g=v+"."+O.g),ya(O,O.s);else{var $=d.location;O=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;var ee=new jt(null);O&&Ts(ee,O),v&&(ee.g=v),$&&ya(ee,$),b&&(ee.l=b),O=ee}return b=f.D,v=f.ya,b&&v&&lt(O,b,v),lt(O,"VER",f.la),Os(f,O),O}function Of(f,v,b){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new it(new va({eb:b})):new it(f.pa),v.Ha(f.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nf(){}t=Nf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Po(){}Po.prototype.g=function(f,v){return new Pn(f,v)};function Pn(f,v){yt.call(this),this.g=new Io(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!q(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!q(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Qr(this)}x(Pn,yt),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){yu(this.g)},Pn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=$n(f),f=b);v.i.push(new _f(v.Ya++,f)),v.G==3&&No(v)},Pn.prototype.N=function(){this.g.l=null,delete this.j,yu(this.g),delete this.g,Pn.aa.N.call(this)};function Mf(f){sr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const b in v){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}x(Mf,sr);function Pf(){Lt.call(this),this.status=1}x(Pf,Lt);function Qr(f){this.g=f}x(Qr,Nf),Qr.prototype.ua=function(){tt(this.g,"a")},Qr.prototype.ta=function(f){tt(this.g,new Mf(f))},Qr.prototype.sa=function(f){tt(this.g,new Pf)},Qr.prototype.ra=function(){tt(this.g,"b")},Po.prototype.createWebChannel=Po.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,Yx=function(){return new Po},$x=function(){return Je()},Gx=gt,Ly={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,sh=Ar,xr.COMPLETE="complete",Hx=xr,ma.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",yt.prototype.listen=yt.prototype.K,gc=ma,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,qx=it}).apply(typeof Ud<"u"?Ud:typeof self<"u"?self:typeof window<"u"?window:{});const ST="@firebase/firestore",AT="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new Nv("@firebase/firestore");function ml(){return io.logLevel}function me(t,...e){if(io.logLevel<=Ye.DEBUG){const n=e.map(Gv);io.debug(`Firestore (${Wl}): ${t}`,...n)}}function ta(t,...e){if(io.logLevel<=Ye.ERROR){const n=e.map(Gv);io.error(`Firestore (${Wl}): ${t}`,...n)}}function Ol(t,...e){if(io.logLevel<=Ye.WARN){const n=e.map(Gv);io.warn(`Firestore (${Wl}): ${t}`,...n)}}function Gv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Wx(t,r,n)}function Wx(t,e,n){let r=`FIRESTORE (${Wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ta(r),new Error(r)}function at(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Wx(e,s,r)}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(An.UNAUTHENTICATED))}shutdown(){}}class EL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TL{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let r=this.i;const s=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Qi,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await s(this.currentUser)})},d=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Qi)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string",31837,{l:r}),new Kx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class SL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new SL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const r=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const s=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=RL(40);for(let l=0;l<s.length;++l)r.length<20&&s[l]<n&&(r+=e.charAt(s[l]%62))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function jy(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ze(r,s);{const l=Qx(),c=CL(l.encode(RT(t,n)),l.encode(RT(e,n)));return c!==0?c:ze(r,s)}}n+=r>65535?2:1}return ze(t.length,e.length)}function RT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function CL(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ze(t[n],e[n]);return ze(t.length,e.length)}function Nl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=-62135596800,DT=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*DT);return new Zt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<CT)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DT}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-CT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Zt(0,0))}static max(){return new Ne(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="__name__";class ii{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const l=ii.compareSegments(e.get(s),n.get(s));if(l!==0)return l}return ze(e.length,n.length)}static compareSegments(e,n){const r=ii.isNumericId(e),s=ii.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ii.extractNumericId(e).compare(ii.extractNumericId(n)):jy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xa.fromString(e.substring(4,e.length-2))}}class pt extends ii{construct(e,n,r){return new pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const DL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends ii{construct(e,n,r){return new vn(e,n,r)}static isValidIdentifier(e){return DL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IT}static keyField(){return new vn([IT])}static fromServerFormat(e){const n=[];let r="",s=0;const l=()=>{if(r.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new ge(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ge(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(r+=d,s++):(l(),s++)}if(l(),c)throw new ge(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(pt.fromString(e))}static fromName(e){return new Ee(pt.fromString(e).popFirst(5))}static empty(){return new Ee(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new pt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=-1;function IL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(r===1e9?new Zt(n+1,0):new Zt(n,r));return new es(s,Ee.empty(),e)}function OL(t){return new es(t.readTime,t.key,Ic)}class es{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new es(Ne.min(),Ee.empty(),Ic)}static max(){return new es(Ne.max(),Ee.empty(),Ic)}}function NL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==ML)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe((r,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,s)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.reject(n)}static resolve(e){return new oe((n,r)=>{n(e)})}static reject(e){return new oe((n,r)=>{r(e)})}static waitFor(e){return new oe((n,r)=>{let s=0,l=0,c=!1;e.forEach(d=>{++s,d.next(()=>{++l,c&&l===s&&n()},m=>r(m))}),c=!0,l===s&&n()})}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next(s=>s?oe.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,l)=>{r.push(n.call(this,s,l))}),this.waitFor(r)}static mapArray(e,n){return new oe((r,s)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next(y=>{c[g]=y,++d,d===l&&r(c)},y=>s(y))}})}static doWhile(e,n){return new oe((r,s)=>{const l=()=>{e()===!0?n().next(()=>{l()},s):r()};l()})}}function kL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ql(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}rm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=-1;function im(t){return t==null}function Rh(t){return t===0&&1/t==-1/0}function VL(t){return typeof t=="number"&&Number.isInteger(t)&&!Rh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="";function LL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=OT(e)),e=jL(t.get(n),e);return OT(e)}function jL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const l=t.charAt(s);switch(l){case"\0":n+="";break;case Zx:n+="";break;default:n+=l}}return n}function OT(t){return t+Zx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Jx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zd(this.root,e,this.comparator,!1)}getReverseIterator(){return new zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zd(this.root,e,this.comparator,!0)}}class zd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,r,s,l){this.key=e,this.value=n,this.color=r??yn.RED,this.left=s??yn.EMPTY,this.right=l??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,l){return new yn(e??this.key,n??this.value,r??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const l=r(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,n,r),null):l===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return yn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,r,s,l){return this}insert(e,n,r){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new MT(this.data.getIterator())}getIteratorFrom(e){return new MT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=r.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class MT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new nr([])}unionWith(e){let n=new Jt(vn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new nr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Nl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new eR("Invalid base64 string: "+l):l}}(e);return new wn(n)}static fromUint8Array(e){const n=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const UL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(t){if(at(!!t,39018),typeof t=="string"){let e=0;const n=UL.exec(t);if(at(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(t.seconds),nanos:Ot(t.nanos)}}function Ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ns(t){return typeof t=="string"?wn.fromBase64String(t):wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="server_timestamp",nR="__type__",rR="__previous_value__",iR="__local_write_time__";function Yv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[nR])===null||n===void 0?void 0:n.stringValue)===tR}function am(t){const e=t.mapValue.fields[rR];return Yv(e)?am(e):e}function Oc(t){const e=ts(t.mapValue.fields[iR].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n,r,s,l,c,d,m,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const Ch="(default)";class Nc{constructor(e,n){this.projectId=e,this.database=n||Ch}static empty(){return new Nc("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof Nc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="__type__",BL="__max__",Bd={mapValue:{}},sR="__vector__",Dh="value";function rs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yv(t)?4:qL(t)?9007199254740991:FL(t)?10:11:Ce(28295,{value:t})}function di(t,e){if(t===e)return!0;const n=rs(t);if(n!==rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oc(t).isEqual(Oc(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=ts(s.timestampValue),d=ts(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,l){return ns(s.bytesValue).isEqual(ns(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,l){return Ot(s.geoPointValue.latitude)===Ot(l.geoPointValue.latitude)&&Ot(s.geoPointValue.longitude)===Ot(l.geoPointValue.longitude)}(t,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Ot(s.integerValue)===Ot(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=Ot(s.doubleValue),d=Ot(l.doubleValue);return c===d?Rh(c)===Rh(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return Nl(t.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(NT(c)!==NT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!di(c[m],d[m])))return!1;return!0}(t,e);default:return Ce(52216,{left:t})}}function Mc(t,e){return(t.values||[]).find(n=>di(n,e))!==void 0}function Ml(t,e){if(t===e)return 0;const n=rs(t),r=rs(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Ot(l.integerValue||l.doubleValue),m=Ot(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(t,e);case 3:return PT(t.timestampValue,e.timestampValue);case 4:return PT(Oc(t),Oc(e));case 5:return jy(t.stringValue,e.stringValue);case 6:return function(l,c){const d=ns(l),m=ns(c);return d.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=ze(d[g],m[g]);if(y!==0)return y}return ze(d.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const d=ze(Ot(l.latitude),Ot(c.latitude));return d!==0?d:ze(Ot(l.longitude),Ot(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return kT(t.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,g,y;const _=l.fields||{},w=c.fields||{},A=(d=_[Dh])===null||d===void 0?void 0:d.arrayValue,x=(m=w[Dh])===null||m===void 0?void 0:m.arrayValue,D=ze(((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0,((y=x==null?void 0:x.values)===null||y===void 0?void 0:y.length)||0);return D!==0?D:kT(A,x)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===Bd.mapValue&&c===Bd.mapValue)return 0;if(l===Bd.mapValue)return 1;if(c===Bd.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const w=jy(m[_],y[_]);if(w!==0)return w;const A=Ml(d[m[_]],g[y[_]]);if(A!==0)return A}return ze(m.length,y.length)}(t.mapValue,e.mapValue);default:throw Ce(23264,{Pe:n})}}function PT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=ts(t),r=ts(e),s=ze(n.seconds,r.seconds);return s!==0?s:ze(n.nanos,r.nanos)}function kT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const l=Ml(n[s],r[s]);if(l)return l}return ze(n.length,r.length)}function Pl(t){return Uy(t)}function Uy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ts(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ns(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const l of n.values||[])s?s=!1:r+=",",r+=Uy(l);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",l=!0;for(const c of r)l?l=!1:s+=",",s+=`${c}:${Uy(n.fields[c])}`;return s+"}"}(t.mapValue):Ce(61005,{value:t})}function oh(t){switch(rs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=am(t);return e?16+oh(e):16;case 5:return 2*t.stringValue.length;case 6:return ns(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,l)=>s+oh(l),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return cs(r.fields,(l,c)=>{s+=l.length+oh(c)}),s}(t.mapValue);default:throw Ce(13486,{value:t})}}function VT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zy(t){return!!t&&"integerValue"in t}function Wv(t){return!!t&&"arrayValue"in t}function LT(t){return!!t&&"nullValue"in t}function jT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lh(t){return!!t&&"mapValue"in t}function FL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[aR])===null||n===void 0?void 0:n.stringValue)===sR}function Tc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return cs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Tc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===BL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tc(n)}setAll(e){let n=vn.emptyPath(),r={},s=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,r,s),r={},s=[],n=d.popLast()}c?r[d.lastSegment()]=Tc(c):s.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,s)}delete(e){const n=this.field(e.popLast());lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];lh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){cs(n,(s,l)=>e[s]=l);for(const s of r)delete e[s]}clone(){return new Bn(Tc(this.value))}}function oR(t){const e=[];return cs(t.fields,(n,r)=>{const s=new vn([n]);if(lh(r)){const l=oR(r.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,r,s,l,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Rn(e,0,Ne.min(),Ne.min(),Ne.min(),Bn.empty(),0)}static newFoundDocument(e,n,r,s){return new Rn(e,1,n,Ne.min(),r,s,0)}static newNoDocument(e,n){return new Rn(e,2,n,Ne.min(),Ne.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new Rn(e,3,n,Ne.min(),Ne.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.position=e,this.inclusive=n}}function UT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const l=e[s],c=t.position[s];if(l.field.isKeyField()?r=Ee.comparator(Ee.fromName(c.referenceValue),n.key):r=Ml(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function zT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!di(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function HL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{}class Ft extends lR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $L(e,n,r):n==="array-contains"?new KL(e,r):n==="in"?new QL(e,r):n==="not-in"?new XL(e,r):n==="array-contains-any"?new ZL(e,r):new Ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new YL(e,r):new WL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ml(n,this.value)):n!==null&&rs(this.value)===rs(n)&&this.matchesComparison(Ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vr extends lR{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Vr(e,n)}matches(e){return uR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function uR(t){return t.op==="and"}function cR(t){return GL(t)&&uR(t)}function GL(t){for(const e of t.filters)if(e instanceof Vr)return!1;return!0}function By(t){if(t instanceof Ft)return t.field.canonicalString()+t.op.toString()+Pl(t.value);if(cR(t))return t.filters.map(e=>By(e)).join(",");{const e=t.filters.map(n=>By(n)).join(",");return`${t.op}(${e})`}}function fR(t,e){return t instanceof Ft?function(r,s){return s instanceof Ft&&r.op===s.op&&r.field.isEqual(s.field)&&di(r.value,s.value)}(t,e):t instanceof Vr?function(r,s){return s instanceof Vr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((l,c,d)=>l&&fR(c,s.filters[d]),!0):!1}(t,e):void Ce(19439)}function dR(t){return t instanceof Ft?function(n){return`${n.field.canonicalString()} ${n.op} ${Pl(n.value)}`}(t):t instanceof Vr?function(n){return n.op.toString()+" {"+n.getFilters().map(dR).join(" ,")+"}"}(t):"Filter"}class $L extends Ft{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class YL extends Ft{constructor(e,n){super(e,"in",n),this.keys=hR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class WL extends Ft{constructor(e,n){super(e,"not-in",n),this.keys=hR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class KL extends Ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wv(n)&&Mc(n.arrayValue,this.value)}}class QL extends Ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mc(this.value.arrayValue,n)}}class XL extends Ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mc(this.value.arrayValue,n)}}class ZL extends Ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Mc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n=null,r=[],s=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function BT(t,e=null,n=[],r=[],s=null,l=null,c=null){return new JL(t,e,n,r,s,l,c)}function Kv(t){const e=Me(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>By(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),im(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Pl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Pl(r)).join(",")),e.Ie=n}return e.Ie}function Qv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zT(t.startAt,e.startAt)&&zT(t.endAt,e.endAt)}function Fy(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n=null,r=[],s=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function e4(t,e,n,r,s,l,c,d){return new Xl(t,e,n,r,s,l,c,d)}function sm(t){return new Xl(t)}function FT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mR(t){return t.collectionGroup!==null}function Sc(t){const e=Me(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Jt(vn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Pc(l,r))}),n.has(vn.keyField().canonicalString())||e.Ee.push(new Pc(vn.keyField(),r))}return e.Ee}function oi(t){const e=Me(t);return e.de||(e.de=t4(e,Sc(t))),e.de}function t4(t,e){if(t.limitType==="F")return BT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new Pc(s.field,l)});const n=t.endAt?new Ih(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ih(t.startAt.position,t.startAt.inclusive):null;return BT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qy(t,e){const n=t.filters.concat([e]);return new Xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hy(t,e,n){return new Xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function om(t,e){return Qv(oi(t),oi(e))&&t.limitType===e.limitType}function gR(t){return`${Kv(oi(t))}|lt:${t.limitType}`}function gl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>dR(s)).join(", ")}]`),im(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Pl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Pl(s)).join(",")),`Target(${r})`}(oi(t))}; limitType=${t.limitType})`}function lm(t,e){return e.isFoundDocument()&&function(r,s){const l=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ee.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(t,e)&&function(r,s){for(const l of Sc(r))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const l of r.filters)if(!l.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(c,d,m){const g=UT(c,d,m);return c.inclusive?g<=0:g<0}(r.startAt,Sc(r),s)||r.endAt&&!function(c,d,m){const g=UT(c,d,m);return c.inclusive?g>=0:g>0}(r.endAt,Sc(r),s))}(t,e)}function n4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pR(t){return(e,n)=>{let r=!1;for(const s of Sc(t)){const l=r4(s,e,n);if(l!==0)return l;r=r||s.field.isKeyField()}return 0}}function r4(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?Ml(m,g):Ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,l]of r)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,(n,r)=>{for(const[s,l]of r)e(s,l)})}isEmpty(){return Jx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=new St(Ee.comparator);function na(){return i4}const yR=new St(Ee.comparator);function pc(...t){let e=yR;for(const n of t)e=e.insert(n.key,n);return e}function vR(t){let e=yR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zs(){return Ac()}function _R(){return Ac()}function Ac(){return new co(t=>t.toString(),(t,e)=>t.isEqual(e))}const a4=new St(Ee.comparator),s4=new Jt(Ee.comparator);function We(...t){let e=s4;for(const n of t)e=e.add(n);return e}const o4=new Jt(ze);function l4(){return o4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function wR(t){return{integerValue:""+t}}function u4(t,e){return VL(e)?wR(e):Xv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(){this._=void 0}}function c4(t,e,n){return t instanceof kc?function(s,l){const c={fields:{[nR]:{stringValue:tR},[iR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Yv(l)&&(l=am(l)),l&&(c.fields[rR]=l),{mapValue:c}}(n,e):t instanceof kl?ER(t,e):t instanceof Vc?TR(t,e):function(s,l){const c=bR(s,l),d=qT(c)+qT(s.Re);return zy(c)&&zy(s.Re)?wR(d):Xv(s.serializer,d)}(t,e)}function f4(t,e,n){return t instanceof kl?ER(t,e):t instanceof Vc?TR(t,e):n}function bR(t,e){return t instanceof Oh?function(r){return zy(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class kc extends um{}class kl extends um{constructor(e){super(),this.elements=e}}function ER(t,e){const n=SR(e);for(const r of t.elements)n.some(s=>di(s,r))||n.push(r);return{arrayValue:{values:n}}}class Vc extends um{constructor(e){super(),this.elements=e}}function TR(t,e){let n=SR(e);for(const r of t.elements)n=n.filter(s=>!di(s,r));return{arrayValue:{values:n}}}class Oh extends um{constructor(e,n){super(),this.serializer=e,this.Re=n}}function qT(t){return Ot(t.integerValue||t.doubleValue)}function SR(t){return Wv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n){this.field=e,this.transform=n}}function d4(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof kl&&s instanceof kl||r instanceof Vc&&s instanceof Vc?Nl(r.elements,s.elements,di):r instanceof Oh&&s instanceof Oh?di(r.Re,s.Re):r instanceof kc&&s instanceof kc}(t.transform,e.transform)}class h4{constructor(e,n){this.version=e,this.transformResults=n}}class wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cm{}function xR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zv(t.key,wr.none()):new nf(t.key,t.data,wr.none());{const n=t.data,r=Bn.empty();let s=new Jt(vn.comparator);for(let l of e.fields)if(!s.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),s=s.add(l)}return new fs(t.key,r,new nr(s.toArray()),wr.none())}}function m4(t,e,n){t instanceof nf?function(s,l,c){const d=s.value.clone(),m=GT(s.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof fs?function(s,l,c){if(!uh(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=GT(s.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(RR(s)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function xc(t,e,n,r){return t instanceof nf?function(l,c,d,m){if(!uh(l.precondition,c))return d;const g=l.value.clone(),y=$T(l.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(t,e,n,r):t instanceof fs?function(l,c,d,m){if(!uh(l.precondition,c))return d;const g=$T(l.fieldTransforms,m,c),y=c.data;return y.setAll(RR(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(l,c,d){return uh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function g4(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),l=bR(r.transform,s||null);l!=null&&(n===null&&(n=Bn.empty()),n.set(r.field,l))}return n||null}function HT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Nl(r,s,(l,c)=>d4(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nf extends cm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class fs extends cm{constructor(e,n,r,s,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function RR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function GT(t,e,n){const r=new Map;at(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const l=t[s],c=l.transform,d=e.data.field(l.field);r.set(l.field,f4(c,d,n[s]))}return r}function $T(t,e,n){const r=new Map;for(const s of t){const l=s.transform,c=n.data.field(s.field);r.set(s.field,c4(l,c,e))}return r}class Zv extends cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class p4 extends cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&m4(l,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_R();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(s.key)?null:d;const m=xR(c,d);m!==null&&r.set(s.key,m),c.isValidDocument()||c.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),We())}isEqual(e){return this.batchId===e.batchId&&Nl(this.mutations,e.mutations,(n,r)=>HT(n,r))&&Nl(this.baseMutations,e.baseMutations,(n,r)=>HT(n,r))}}class Jv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){at(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return a4}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,r[c].version);return new Jv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v4=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,Ze;function w4(t){switch(t){case se.OK:return Ce(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function CR(t){if(t===void 0)return ta("GRPC error has no .code"),se.UNKNOWN;switch(t){case Bt.OK:return se.OK;case Bt.CANCELLED:return se.CANCELLED;case Bt.UNKNOWN:return se.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return se.INTERNAL;case Bt.UNAVAILABLE:return se.UNAVAILABLE;case Bt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Bt.NOT_FOUND:return se.NOT_FOUND;case Bt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Bt.ABORTED:return se.ABORTED;case Bt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Bt.DATA_LOSS:return se.DATA_LOSS;default:return Ce(39323,{code:t})}}(Ze=Bt||(Bt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=new Xa([4294967295,4294967295],0);function YT(t){const e=Qx().encode(t),n=new Fx;return n.update(e),new Uint8Array(n.digest())}function WT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Xa([n,r],0),new Xa([s,l],0)]}class e_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yc(`Invalid padding: ${n}`);if(r<0)throw new yc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Xa.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Xa.fromNumber(r)));return s.compare(b4)===1&&(s=new Xa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=YT(e),[r,s]=WT(n);for(let l=0;l<this.hashCount;l++){const c=this.we(r,s,l);if(!this.be(c))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new e_(l,s,n);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const n=YT(e),[r,s]=WT(n);for(let l=0;l<this.hashCount;l++){const c=this.we(r,s,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n,r,s,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,rf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fm(Ne.min(),s,new St(ze),na(),We())}}class rf{constructor(e,n,r,s,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rf(r,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class DR{constructor(e,n){this.targetId=e,this.Ce=n}}class IR{constructor(e,n,r=wn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class KT{constructor(){this.Fe=0,this.Me=QT(),this.xe=wn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=We(),n=We(),r=We();return this.Me.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ce(38017,{changeType:l})}}),new rf(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=QT()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,at(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class E4{constructor(e){this.ze=e,this.je=new Map,this.He=na(),this.Je=Fd(),this.Ye=Fd(),this.Ze=new St(ze)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const l=s.target;if(Fy(l))if(r===0){const c=new Ee(l.path);this.tt(n,c,Rn.newNoDocument(c,Ne.min()))}else at(r===1,20013,{expectedCount:r});else{const c=this.ut(n);if(c!==r){const d=this.ct(e),m=d?this.lt(d,e,c):1;if(m!==0){this.st(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:l=0}=n;let c,d;try{c=ns(r).toUint8Array()}catch(m){if(m instanceof eR)return Ol("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new e_(c,s,l)}catch(m){return Ol(m instanceof yc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(n,l,null),s++)}),s}It(e){const n=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&Fy(d.target)){const m=new Ee(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,Rn.newNoDocument(m,e))}l.Le&&(n.set(c,l.qe()),l.Qe())}});let r=We();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const s=new fm(e,n,this.Ze,this.He,r);return this.He=na(),this.Je=Fd(),this.Ye=Fd(),this.Ze=new St(ze),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new KT,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Jt(ze),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Jt(ze),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new KT),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Fd(){return new St(Ee.comparator)}function QT(){return new St(Ee.comparator)}const T4={asc:"ASCENDING",desc:"DESCENDING"},S4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A4={and:"AND",or:"OR"};class x4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gy(t,e){return t.useProto3Json||im(e)?e:{value:e}}function Nh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function R4(t,e){return Nh(t,e.toTimestamp())}function li(t){return at(!!t,49232),Ne.fromTimestamp(function(n){const r=ts(n);return new Zt(r.seconds,r.nanos)}(t))}function t_(t,e){return $y(t,e).canonicalString()}function $y(t,e){const n=function(s){return new pt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function NR(t){const e=pt.fromString(t);return at(LR(e),10190,{key:e.toString()}),e}function Yy(t,e){return t_(t.databaseId,e.path)}function ey(t,e){const n=NR(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(PR(n))}function MR(t,e){return t_(t.databaseId,e)}function C4(t){const e=NR(t);return e.length===4?pt.emptyPath():PR(e)}function Wy(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PR(t){return at(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function XT(t,e,n){return{name:Yy(t,e),fields:n.value.mapValue.fields}}function D4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ce(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(g,y){return g.useProto3Json?(at(y===void 0||typeof y=="string",58123),wn.fromBase64String(y||"")):(at(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),wn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const y=g.code===void 0?se.UNKNOWN:CR(g.code);return new ge(y,g.message||"")}(c);n=new IR(r,s,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ey(t,r.document.name),l=li(r.document.updateTime),c=r.document.createTime?li(r.document.createTime):Ne.min(),d=new Bn({mapValue:{fields:r.document.fields}}),m=Rn.newFoundDocument(s,l,c,d),g=r.targetIds||[],y=r.removedTargetIds||[];n=new ch(g,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ey(t,r.document),l=r.readTime?li(r.readTime):Ne.min(),c=Rn.newNoDocument(s,l),d=r.removedTargetIds||[];n=new ch([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ey(t,r.document),l=r.removedTargetIds||[];n=new ch([],l,s,null)}else{if(!("filter"in e))return Ce(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:l}=r,c=new _4(s,l),d=r.targetId;n=new DR(d,c)}}return n}function I4(t,e){let n;if(e instanceof nf)n={update:XT(t,e.key,e.value)};else if(e instanceof Zv)n={delete:Yy(t,e.key)};else if(e instanceof fs)n={update:XT(t,e.key,e.data),updateMask:U4(e.fieldMask)};else{if(!(e instanceof p4))return Ce(16599,{ft:e.type});n={verify:Yy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(l,c){const d=c.transform;if(d instanceof kc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof kl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Vc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Oh)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Ce(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:R4(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ce(27497)}(t,e.precondition)),n}function O4(t,e){return t&&t.length>0?(at(e!==void 0,14353),t.map(n=>function(s,l){let c=s.updateTime?li(s.updateTime):li(l);return c.isEqual(Ne.min())&&(c=li(l)),new h4(c,s.transformResults||[])}(n,e))):[]}function N4(t,e){return{documents:[MR(t,e.path)]}}function M4(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=MR(t,s);const l=function(g){if(g.length!==0)return VR(Vr.create(g,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(y=>function(w){return{field:pl(w.field),direction:V4(w.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Gy(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:s}}function P4(t){let e=C4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){at(r===1,65062);const y=n.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(_){const w=kR(_);return w instanceof Vr&&cR(w)?w.getFilters():[w]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(w=>function(x){return new Pc(yl(x.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(w))}(n.orderBy));let d=null;n.limit&&(d=function(_){let w;return w=typeof _=="object"?_.value:_,im(w)?null:w}(n.limit));let m=null;n.startAt&&(m=function(_){const w=!!_.before,A=_.values||[];return new Ih(A,w)}(n.startAt));let g=null;return n.endAt&&(g=function(_){const w=!_.before,A=_.values||[];return new Ih(A,w)}(n.endAt)),e4(e,s,c,l,d,"F",m,g)}function k4(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yl(n.unaryFilter.field);return Ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=yl(n.unaryFilter.field);return Ft.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=yl(n.unaryFilter.field);return Ft.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=yl(n.unaryFilter.field);return Ft.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ft.create(yl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vr.create(n.compositeFilter.filters.map(r=>kR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}}(n.compositeFilter.op))}(t):Ce(30097,{filter:t})}function V4(t){return T4[t]}function L4(t){return S4[t]}function j4(t){return A4[t]}function pl(t){return{fieldPath:t.canonicalString()}}function yl(t){return vn.fromServerFormat(t.fieldPath)}function VR(t){return t instanceof Ft?function(n){if(n.op==="=="){if(jT(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NAN"}};if(LT(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jT(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NOT_NAN"}};if(LT(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pl(n.field),op:L4(n.op),value:n.value}}}(t):t instanceof Vr?function(n){const r=n.getFilters().map(s=>VR(s));return r.length===1?r[0]:{compositeFilter:{op:j4(n.op),filters:r}}}(t):Ce(54877,{filter:t})}function U4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n,r,s,l=Ne.min(),c=Ne.min(),d=wn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e){this.wt=e}}function B4(t){const e=P4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(){this.yn=new q4}addToCollectionParentIndex(e,n){return this.yn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(es.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(es.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class q4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Jt(pt.comparator),l=!s.has(r);return this.index[n]=s.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Jt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jR=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(jR,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Vl(0)}static ir(){return new Vl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="LruGarbageCollector",H4=1048576;function eS([t,e],[n,r]){const s=ze(t,n);return s===0?ze(e,r):s}class G4{constructor(e){this.cr=e,this.buffer=new Jt(eS),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();eS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){me(JT,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ql(n)?me(JT,"Ignoring IndexedDB error during garbage collection: ",n):await Kl(n)}await this.Ir(3e5)})}}class Y4{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(rm.le);const r=new G4(n);return this.Er.forEachTarget(e,s=>r.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>r.Pr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(ZT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZT):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,s,l,c,d,m,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,c=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,d=Date.now(),this.removeTargets(e,r,n))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(g=Date.now(),ml()<=Ye.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:_})))}}function W4(t,e){return new Y4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.changes=new co(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&xc(r.mutation,s,nr.empty(),Zt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,n,r=We()){const s=Zs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(l=>{let c=pc();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=Zs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,We()))}populateOverlays(e,n,r){const s=[];return r.forEach(l=>{n.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,r,s){let l=na();const c=Ac(),d=function(){return Ac()}();return n.forEach((m,g)=>{const y=r.get(g.key);s.has(g.key)&&(y===void 0||y.mutation instanceof fs)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),xc(y.mutation,g,y.mutation.getFieldMask(),Zt.now())):c.set(g.key,nr.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,y)=>c.set(g,y)),n.forEach((g,y)=>{var _;return d.set(g,new Q4(y,(_=c.get(g))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,n){const r=Ac();let s=new St((c,d)=>c-d),l=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let y=r.get(m)||nr.empty();y=d.applyToLocalView(g,y),r.set(m,y);const _=(s.get(d.batchId)||We()).add(m);s=s.insert(d.batchId,_)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,_=_R();y.forEach(w=>{if(!l.has(w)){const A=xR(n.get(w),r.get(w));A!==null&&_.set(w,A),l=l.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,_))}return oe.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-l.size):oe.resolve(Zs());let d=Ic,m=l;return c.next(g=>oe.forEach(g,(y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?oe.resolve():this.remoteDocumentCache.getEntry(e,y).next(w=>{m=m.insert(y,w)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,We())).next(y=>({batchId:d,changes:vR(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(r=>{let s=pc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const l=n.collectionGroup;let c=pc();return this.indexManager.getCollectionParents(e,l).next(d=>oe.forEach(d,m=>{const g=function(_,w){return new Xl(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,r,s).next(y=>{y.forEach((_,w)=>{c=c.insert(_,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,s))).next(c=>{l.forEach((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,Rn.newInvalidDocument(y)))});let d=pc();return c.forEach((m,g)=>{const y=l.get(m);y!==void 0&&xc(y.mutation,g,nr.empty(),Zt.now()),lm(n,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:li(s.createTime)}}(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(s){return{name:s.name,query:B4(s.bundledQuery),readTime:li(s.readTime)}}(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.overlays=new St(Ee.comparator),this.Or=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zs();return oe.forEach(n,s=>this.getOverlay(e,s).next(l=>{l!==null&&r.set(s,l)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,l)=>{this.St(e,n,l)}),oe.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Or.get(r);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const s=Zs(),l=n.length+1,c=new Ee(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>r&&s.set(m.getKey(),m)}return oe.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let l=new St((g,y)=>g-y);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let y=l.get(g.largestBatchId);y===null&&(y=Zs(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Zs(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,y)=>d.set(g,y)),!(d.size()>=s)););return oe.resolve(d)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.Or.get(s.largestBatchId).delete(r.key);this.Or.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new v4(n,r));let l=this.Or.get(n);l===void 0&&(l=We(),this.Or.set(n,l)),this.Or.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.Nr=new Jt(on.Br),this.Lr=new Jt(on.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new on(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new on(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new Ee(new pt([])),r=new on(n,e),s=new on(n,e+1),l=[];return this.Lr.forEachInRange([r,s],c=>{this.Qr(c),l.push(c.key)}),l}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new Ee(new pt([])),r=new on(n,e),s=new on(n,e+1);let l=We();return this.Lr.forEachInRange([r,s],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new on(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Ee.comparator(e.key,n.key)||ze(e.Gr,n.Gr)}static kr(e,n){return ze(e.Gr,n.Gr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Jt(on.Br)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new y4(l,n,r,s);this.mutationQueue.push(c);for(const d of s)this.zr=this.zr.add(new on(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,n){return oe.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Hr(r),l=s<0?0:s;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?$v:this.Jn-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),s=new on(n,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([r,s],c=>{const d=this.jr(c.Gr);l.push(d)}),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(ze);return n.forEach(s=>{const l=new on(s,0),c=new on(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,c],d=>{r=r.add(d.Gr)})}),oe.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let l=r;Ee.isDocumentKey(l)||(l=l.child(""));const c=new on(new Ee(l),0);let d=new Jt(ze);return this.zr.forEachWhile(m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===s&&(d=d.add(m.Gr)),!0)},c),oe.resolve(this.Jr(d))}Jr(e){const n=[];return e.forEach(r=>{const s=this.jr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){at(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return oe.forEach(n.mutations,s=>{const l=new on(s.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new on(n,0),s=this.zr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.Zr=e,this.docs=function(){return new St(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),l=s?s.size:0,c=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let r=na();return n.forEach(s=>{const l=this.docs.get(s);r=r.insert(s,l?l.document.mutableCopy():Rn.newInvalidDocument(s))}),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let l=na();const c=n.path,d=new Ee(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||NL(OL(y),r)<=0||(s.has(y.key)||lm(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,n,r,s){Ce(9500)}Xr(e,n){return oe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rj(this)}getSize(e){return oe.resolve(this.size)}}class rj extends K4{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.vr.addEntry(e,s)):this.vr.removeEntry(r)}),oe.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.persistence=e,this.ei=new co(n=>Kv(n),Qv),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ti=0,this.ni=new n_,this.targetCount=0,this.ri=Vl.rr()}forEachTarget(e,n){return this.ei.forEach((r,s)=>n(s)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),oe.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Vl(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.ar(n),oe.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let s=0;const l=[];return this.ei.forEach((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.ei.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),oe.waitFor(l).next(()=>s)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const s=this.persistence.referenceDelegate,l=[];return s&&n.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),oe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n){this.ii={},this.overlays={},this.si=new rm(0),this.oi=!1,this.oi=!0,this._i=new ej,this.referenceDelegate=e(this),this.ai=new ij(this),this.indexManager=new F4,this.remoteDocumentCache=function(s){return new nj(s)}(r=>this.referenceDelegate.ui(r)),this.serializer=new z4(n),this.ci=new Z4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new J4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new tj(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const s=new aj(this.si.next());return this.referenceDelegate.li(),r(s).next(l=>this.referenceDelegate.hi(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Pi(e,n){return oe.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class aj extends PL{constructor(e){super(),this.currentSequenceNumber=e}}class r_{constructor(e){this.persistence=e,this.Ti=new n_,this.Ii=null}static Ei(e){return new r_(e)}get di(){if(this.Ii)return this.Ii;throw Ce(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(l=>this.di.add(l.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.di,r=>{const s=Ee.fromPath(r);return this.Ai(e,s).next(l=>{l||n.removeEntry(s,Ne.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return oe.or([()=>oe.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Mh{constructor(e,n){this.persistence=e,this.Ri=new co(r=>LL(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=W4(this,n)}static Ei(e,n){return new Mh(e,n)}li(){}hi(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return oe.forEach(this.Ri,(r,s)=>this.gr(e,r,s).next(l=>l?oe.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.Xr(e,c=>this.gr(e,c,n).next(d=>{d||(r++,l.removeEntry(c,Ne.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),oe.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=oh(e.data.value)),n}gr(e,n,r){return oe.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.Ri.get(n);return oe.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=s}static Ps(e,n){let r=We(),s=We();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new i_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return tP()?8:kL(Dn())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,s){const l={result:null};return this.Rs(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Vs(e,n,s,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new sj;return this.fs(e,n,c).next(d=>{if(l.result=d,this.Is)return this.gs(e,n,c,d.size)})}).next(()=>l.result)}gs(e,n,r,s){return r.documentReadCount<this.Es?(ml()<=Ye.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",gl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),oe.resolve()):(ml()<=Ye.DEBUG&&me("QueryEngine","Query:",gl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(ml()<=Ye.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",gl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(n))):oe.resolve())}Rs(e,n){if(FT(n))return oe.resolve(null);let r=oi(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Hy(n,null,"F"),r=oi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=We(...l);return this.As.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(m=>{const g=this.ps(n,d);return this.ys(n,g,c,m.readTime)?this.Rs(e,Hy(n,null,"F")):this.ws(e,g,n,m)}))})))}Vs(e,n,r,s){return FT(n)||s.isEqual(Ne.min())?oe.resolve(null):this.As.getDocuments(e,r).next(l=>{const c=this.ps(n,l);return this.ys(n,c,r,s)?oe.resolve(null):(ml()<=Ye.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),gl(n)),this.ws(e,c,n,IL(s,Ic)).next(d=>d))})}ps(e,n){let r=new Jt(pR(e));return n.forEach((s,l)=>{lm(e,l)&&(r=r.add(l))}),r}ys(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}fs(e,n,r){return ml()<=Ye.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",gl(n)),this.As.getDocumentsMatchingQuery(e,n,es.min(),r)}ws(e,n,r,s){return this.As.getDocumentsMatchingQuery(e,r,s).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="LocalStore",lj=3e8;class uj{constructor(e,n,r,s){this.persistence=e,this.bs=n,this.serializer=s,this.Ss=new St(ze),this.Ds=new co(l=>Kv(l),Qv),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new X4(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function cj(t,e,n,r){return new uj(t,e,n,r)}async function zR(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(l=>(s=l,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],d=[];let m=We();for(const g of s){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(r,m).next(g=>({Ms:g,removedBatchIds:c,addedBatchIds:d}))})})}function fj(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),l=n.Cs.newChangeBuffer({trackRemovals:!0});return function(d,m,g,y){const _=g.batch,w=_.keys();let A=oe.resolve();return w.forEach(x=>{A=A.next(()=>y.getEntry(m,x)).next(D=>{const I=g.docVersions.get(x);at(I!==null,48541),D.version.compareTo(I)<0&&(_.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),y.addEntry(D)))})}),A.next(()=>d.mutationQueue.removeMutationBatch(m,_))}(n,r,e,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=We();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function BR(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function dj(t,e){const n=Me(t),r=e.snapshotVersion;let s=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Cs.newChangeBuffer({trackRemovals:!0});s=n.Ss;const d=[];e.targetChanges.forEach((y,_)=>{const w=s.get(_);if(!w)return;d.push(n.ai.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.ai.addMatchingKeys(l,y.addedDocuments,_)));let A=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(wn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,r)),s=s.insert(_,A),function(D,I,P){return D.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=lj?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(w,A,y)&&d.push(n.ai.updateTargetData(l,A))});let m=na(),g=We();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),d.push(hj(l,c,e.documentUpdates).next(y=>{m=y.xs,g=y.Os})),!r.isEqual(Ne.min())){const y=n.ai.getLastRemoteSnapshotVersion(l).next(_=>n.ai.setTargetsMetadata(l,l.currentSequenceNumber,r));d.push(y)}return oe.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(n.Ss=s,l))}function hj(t,e,n){let r=We(),s=We();return n.forEach(l=>r=r.add(l)),e.getEntries(t,r).next(l=>{let c=na();return n.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(d)),m.isNoDocument()&&m.version.isEqual(Ne.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):me(a_,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{xs:c,Os:s}})}function mj(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=$v),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gj(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.ai.getTargetData(r,e).next(l=>l?(s=l,oe.resolve(s)):n.ai.allocateTargetId(r).next(c=>(s=new Ya(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ss.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function Ky(t,e,n){const r=Me(t),s=r.Ss.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!Ql(c))throw c;me(a_,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(s.target)}function tS(t,e,n){const r=Me(t);let s=Ne.min(),l=We();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,y){const _=Me(m),w=_.Ds.get(y);return w!==void 0?oe.resolve(_.Ss.get(w)):_.ai.getTargetData(g,y)}(r,c,oi(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>r.bs.getDocumentsMatchingQuery(c,e,n?s:Ne.min(),n?l:We())).next(d=>(pj(r,n4(e),d),{documents:d,Ns:l})))}function pj(t,e,n){let r=t.vs.get(e)||Ne.min();n.forEach((s,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),t.vs.set(e,r)}class nS{constructor(){this.activeTargetIds=l4()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yj{constructor(){this.So=new nS,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new nS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="ConnectivityMonitor";class iS{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){me(rS,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){me(rS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qd=null;function Qy(){return qd===null?qd=function(){return 268435456+Math.round(2147483648*Math.random())}():qd++,"0x"+qd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="RestConnection",_j={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wj{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${s}`,this.qo=this.databaseId.database===Ch?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Qo(e,n,r,s,l){const c=Qy(),d=this.$o(e,n.toUriEncodedString());me(ty,`Sending RPC '${e}' ${c}:`,d,r);const m={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(m,s,l);const{host:g}=new URL(d),y=Jh(g);return this.Ko(e,d,m,r,y).then(_=>(me(ty,`Received RPC '${e}' ${c}: `,_),_),_=>{throw Ol(ty,`RPC '${e}' ${c} failed with error: `,_,"url: ",d,"request:",r),_})}Wo(e,n,r,s,l,c){return this.Qo(e,n,r,s,l)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,l)=>e[l]=s),r&&r.headers.forEach((s,l)=>e[l]=s)}$o(e,n){const r=_j[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class Ej extends wj{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,s,l){const c=Qy();return new Promise((d,m)=>{const g=new qx;g.setWithCredentials(!0),g.listenOnce(Hx.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case sh.NO_ERROR:const _=g.getResponseJson();me(Sn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),d(_);break;case sh.TIMEOUT:me(Sn,`RPC '${e}' ${c} timed out`),m(new ge(se.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const w=g.getStatus();if(me(Sn,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const x=A==null?void 0:A.error;if(x&&x.status&&x.message){const D=function(P){const q=P.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(q)>=0?q:se.UNKNOWN}(x.status);m(new ge(D,x.message))}else m(new ge(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ge(se.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{s_:e,streamId:c,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{me(Sn,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(s);me(Sn,`RPC '${e}' ${c} sending request:`,s),g.send(n,"POST",y,r,15)})}a_(e,n,r){const s=Qy(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Yx(),d=$x(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Uo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=l.join("");me(Sn,`Creating RPC '${e}' stream ${s}: ${y}`,m);const _=c.createWebChannel(y,m);let w=!1,A=!1;const x=new bj({Go:I=>{A?me(Sn,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(w||(me(Sn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),w=!0),me(Sn,`RPC '${e}' stream ${s} sending:`,I),_.send(I))},zo:()=>_.close()}),D=(I,P,q)=>{I.listen(P,B=>{try{q(B)}catch(K){setTimeout(()=>{throw K},0)}})};return D(_,gc.EventType.OPEN,()=>{A||(me(Sn,`RPC '${e}' stream ${s} transport opened.`),x.t_())}),D(_,gc.EventType.CLOSE,()=>{A||(A=!0,me(Sn,`RPC '${e}' stream ${s} transport closed`),x.r_())}),D(_,gc.EventType.ERROR,I=>{A||(A=!0,Ol(Sn,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),x.r_(new ge(se.UNAVAILABLE,"The operation could not be completed")))}),D(_,gc.EventType.MESSAGE,I=>{var P;if(!A){const q=I.data[0];at(!!q,16349);const B=q,K=(B==null?void 0:B.error)||((P=B[0])===null||P===void 0?void 0:P.error);if(K){me(Sn,`RPC '${e}' stream ${s} received error:`,K);const J=K.status;let le=function(N){const L=Bt[N];if(L!==void 0)return CR(L)}(J),M=K.message;le===void 0&&(le=se.INTERNAL,M="Unknown error status: "+J+" with message "+K.message),A=!0,x.r_(new ge(le,M)),_.close()}else me(Sn,`RPC '${e}' stream ${s} received:`,q),x.i_(q)}}),D(d,Gx.STAT_EVENT,I=>{I.stat===Ly.PROXY?me(Sn,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===Ly.NOPROXY&&me(Sn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.n_()},0),x}}function ny(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t){return new x4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n,r=1e3,s=1.5,l=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=s,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),s=Math.max(0,n-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="PersistentStream";class qR{constructor(e,n,r,s,l,c,d,m){this.bi=e,this.R_=r,this.V_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new FR(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(ta(n.toString()),ta("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.m_===n&&this.B_(r,s)},r=>{e(()=>{const s=new ge(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(s)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{r(()=>this.L_(s))}),this.stream.onMessage(s=>{r(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return me(aS,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(me(aS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tj extends qR{constructor(e,n,r,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,c),this.serializer=l}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=D4(this.serializer,e),r=function(l){if(!("targetChange"in l))return Ne.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?li(c.readTime):Ne.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=Wy(this.serializer),n.addTarget=function(l,c){let d;const m=c.target;if(d=Fy(m)?{documents:N4(l,m)}:{query:M4(l,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=OR(l,c.resumeToken);const g=Gy(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ne.min())>0){d.readTime=Nh(l,c.snapshotVersion.toTimestamp());const g=Gy(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const r=k4(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=Wy(this.serializer),n.removeTarget=e,this.F_(n)}}class Sj extends qR{constructor(e,n,r,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,c),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=O4(e.writeResults,e.commitTime),r=li(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=Wy(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>I4(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{}class xj extends Aj{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Qo(e,$y(n,r),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(se.UNKNOWN,l.toString())})}Wo(e,n,r,s,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,$y(n,r),s,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(se.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Rj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ta(n),this.ea=!1):me("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="RemoteStore";class Cj{constructor(e,n,r,s,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(c=>{r.enqueueAndForget(async()=>{fo(this)&&(me(ao,"Restarting streams for network reachability change."),await async function(m){const g=Me(m);g.aa.add(4),await af(g),g.la.set("Unknown"),g.aa.delete(4),await hm(g)}(this))})}),this.la=new Rj(r,s)}}async function hm(t){if(fo(t))for(const e of t.ua)await e(!0)}async function af(t){for(const e of t.ua)await e(!1)}function HR(t,e){const n=Me(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),u_(n)?l_(n):Zl(n).b_()&&o_(n,e))}function s_(t,e){const n=Me(t),r=Zl(n);n._a.delete(e),r.b_()&&GR(n,e),n._a.size===0&&(r.b_()?r.v_():fo(n)&&n.la.set("Unknown"))}function o_(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zl(t).U_(e)}function GR(t,e){t.ha.Ke(e),Zl(t).K_(e)}function l_(t){t.ha=new E4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Zl(t).start(),t.la.ta()}function u_(t){return fo(t)&&!Zl(t).w_()&&t._a.size>0}function fo(t){return Me(t).aa.size===0}function $R(t){t.ha=void 0}async function Dj(t){t.la.set("Online")}async function Ij(t){t._a.forEach((e,n)=>{o_(t,e)})}async function Oj(t,e){$R(t),u_(t)?(t.la.ia(e),l_(t)):t.la.set("Unknown")}async function Nj(t,e,n){if(t.la.set("Online"),e instanceof IR&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const d of l.targetIds)s._a.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s._a.delete(d),s.ha.removeTarget(d))}(t,e)}catch(r){me(ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ph(t,r)}else if(e instanceof ch?t.ha.Xe(e):e instanceof DR?t.ha.ot(e):t.ha.nt(e),!n.isEqual(Ne.min()))try{const r=await BR(t.localStore);n.compareTo(r)>=0&&await function(l,c){const d=l.ha.It(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l._a.get(g);y&&l._a.set(g,y.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const y=l._a.get(m);if(!y)return;l._a.set(m,y.withResumeToken(wn.EMPTY_BYTE_STRING,y.snapshotVersion)),GR(l,m);const _=new Ya(y.target,m,g,y.sequenceNumber);o_(l,_)}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){me(ao,"Failed to raise snapshot:",r),await Ph(t,r)}}async function Ph(t,e,n){if(!Ql(e))throw e;t.aa.add(1),await af(t),t.la.set("Offline"),n||(n=()=>BR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me(ao,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await hm(t)})}function YR(t,e){return e().catch(n=>Ph(t,n,e))}async function mm(t){const e=Me(t),n=is(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:$v;for(;Mj(e);)try{const s=await mj(e.localStore,r);if(s===null){e.oa.length===0&&n.v_();break}r=s.batchId,Pj(e,s)}catch(s){await Ph(e,s)}WR(e)&&KR(e)}function Mj(t){return fo(t)&&t.oa.length<10}function Pj(t,e){t.oa.push(e);const n=is(t);n.b_()&&n.W_&&n.G_(e.mutations)}function WR(t){return fo(t)&&!is(t).w_()&&t.oa.length>0}function KR(t){is(t).start()}async function kj(t){is(t).H_()}async function Vj(t){const e=is(t);for(const n of t.oa)e.G_(n.mutations)}async function Lj(t,e,n){const r=t.oa.shift(),s=Jv.from(r,e,n);await YR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await mm(t)}async function jj(t,e){e&&is(t).W_&&await async function(r,s){if(function(c){return w4(c)&&c!==se.ABORTED}(s.code)){const l=r.oa.shift();is(r).D_(),await YR(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s)),await mm(r)}}(t,e),WR(t)&&KR(t)}async function sS(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),me(ao,"RemoteStore received new credentials");const r=fo(n);n.aa.add(3),await af(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await hm(n)}async function Uj(t,e){const n=Me(t);e?(n.aa.delete(2),await hm(n)):e||(n.aa.add(2),await af(n),n.la.set("Unknown"))}function Zl(t){return t.Pa||(t.Pa=function(n,r,s){const l=Me(n);return l.Y_(),new Tj(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(t.datastore,t.asyncQueue,{jo:Dj.bind(null,t),Jo:Ij.bind(null,t),Zo:Oj.bind(null,t),Q_:Nj.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),u_(t)?l_(t):t.la.set("Unknown")):(await t.Pa.stop(),$R(t))})),t.Pa}function is(t){return t.Ta||(t.Ta=function(n,r,s){const l=Me(n);return l.Y_(),new Sj(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:kj.bind(null,t),Zo:jj.bind(null,t),z_:Vj.bind(null,t),j_:Lj.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await mm(t)):(await t.Ta.stop(),t.oa.length>0&&(me(ao,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n,r,s,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=l,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,l){const c=Date.now()+r,d=new c_(e,n,c,s,l);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function f_(t,e){if(ta("AsyncQueue",`${e}: ${t}`),Ql(t))return new ge(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{static emptySet(e){return new Tl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=pc(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=r.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.Ia=new St(Ee.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Ce(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ll{constructor(e,n,r,s,l,c,d,m,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,s,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new Ll(e,n,Tl.emptySet(n),c,r,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&om(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Bj{constructor(){this.queries=lS(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const s=Me(n),l=s.queries;s.queries=lS(),l.forEach((c,d)=>{for(const m of d.Ra)m.onError(r)})})(this,new ge(se.ABORTED,"Firestore shutting down"))}}function lS(){return new co(t=>gR(t),om)}async function d_(t,e){const n=Me(t);let r=3;const s=e.query;let l=n.queries.get(s);l?!l.Va()&&e.ma()&&(r=2):(l=new zj,r=e.ma()?0:1);try{switch(r){case 0:l.Aa=await n.onListen(s,!0);break;case 1:l.Aa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const d=f_(c,`Initialization of query '${gl(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,l),l.Ra.push(e),e.ga(n.onlineState),l.Aa&&e.pa(l.Aa)&&m_(n)}async function h_(t,e){const n=Me(t),r=e.query;let s=3;const l=n.queries.get(r);if(l){const c=l.Ra.indexOf(e);c>=0&&(l.Ra.splice(c,1),l.Ra.length===0?s=e.ma()?0:1:!l.Va()&&e.ma()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Fj(t,e){const n=Me(t);let r=!1;for(const s of e){const l=s.query,c=n.queries.get(l);if(c){for(const d of c.Ra)d.pa(s)&&(r=!0);c.Aa=s}}r&&m_(n)}function qj(t,e,n){const r=Me(t),s=r.queries.get(e);if(s)for(const l of s.Ra)l.onError(n);r.queries.delete(e)}function m_(t){t.fa.forEach(e=>{e.next()})}var Xy,uS;(uS=Xy||(Xy={})).ya="default",uS.Cache="cache";class g_{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ll(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Xy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.key=e}}class XR{constructor(e){this.key=e}}class Hj{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=We(),this.mutatedKeys=We(),this.Ua=pR(e),this.Ka=new Tl(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new oS,s=n?n.Ka:this.Ka;let l=n?n.mutatedKeys:this.mutatedKeys,c=s,d=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,_)=>{const w=s.get(y),A=lm(this.query,_)?_:null,x=!!w&&this.mutatedKeys.has(w.key),D=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let I=!1;w&&A?w.data.isEqual(A.data)?x!==D&&(r.track({type:3,doc:A}),I=!0):this.ja(w,A)||(r.track({type:2,doc:A}),I=!0,(m&&this.Ua(A,m)>0||g&&this.Ua(A,g)<0)&&(d=!0)):!w&&A?(r.track({type:0,doc:A}),I=!0):w&&!A&&(r.track({type:1,doc:w}),I=!0,(m||g)&&(d=!0)),I&&(A?(c=c.add(A),l=D?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{Ka:c,za:r,ys:d,mutatedKeys:l}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const l=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((y,_)=>function(A,x){const D=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Vt:I})}};return D(A)-D(x)}(y.type,_.type)||this.Ua(y.doc,_.doc)),this.Ha(r),s=s!=null&&s;const d=n&&!s?this.Ja():[],m=this.$a.size===0&&this.current&&!s?1:0,g=m!==this.Qa;return this.Qa=m,c.length!==0||g?{snapshot:new Ll(this.query,e.Ka,l,c,e.mutatedKeys,m===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new oS,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=We(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new XR(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new QR(r))}),n}Xa(e){this.qa=e.Ns,this.$a=We();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Ll.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const p_="SyncEngine";class Gj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $j{constructor(e){this.key=e,this.tu=!1}}class Yj{constructor(e,n,r,s,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new co(d=>gR(d),om),this.iu=new Map,this.su=new Set,this.ou=new St(Ee.comparator),this._u=new Map,this.au=new n_,this.uu={},this.cu=new Map,this.lu=Vl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Wj(t,e,n=!0){const r=rC(t);let s;const l=r.ru.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.eu()):s=await ZR(r,e,n,!0),s}async function Kj(t,e){const n=rC(t);await ZR(n,e,!0,!1)}async function ZR(t,e,n,r){const s=await gj(t.localStore,oi(e)),l=s.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return r&&(d=await Qj(t,e,l,c==="current",s.resumeToken)),t.isPrimaryClient&&n&&HR(t.remoteStore,s),d}async function Qj(t,e,n,r,s){t.Pu=(_,w,A)=>async function(D,I,P,q){let B=I.view.Ga(P);B.ys&&(B=await tS(D.localStore,I.query,!1).then(({documents:M})=>I.view.Ga(M,B)));const K=q&&q.targetChanges.get(I.targetId),J=q&&q.targetMismatches.get(I.targetId)!=null,le=I.view.applyChanges(B,D.isPrimaryClient,K,J);return fS(D,I.targetId,le.Ya),le.snapshot}(t,_,w,A);const l=await tS(t.localStore,e,!0),c=new Hj(e,l.Ns),d=c.Ga(l.documents),m=rf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),g=c.applyChanges(d,t.isPrimaryClient,m);fS(t,n,g.Ya);const y=new Gj(e,n,c);return t.ru.set(e,y),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),g.snapshot}async function Xj(t,e,n){const r=Me(t),s=r.ru.get(e),l=r.iu.get(s.targetId);if(l.length>1)return r.iu.set(s.targetId,l.filter(c=>!om(c,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ky(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&s_(r.remoteStore,s.targetId),Zy(r,s.targetId)}).catch(Kl)):(Zy(r,s.targetId),await Ky(r.localStore,s.targetId,!0))}async function Zj(t,e){const n=Me(t),r=n.ru.get(e),s=n.iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),s_(n.remoteStore,r.targetId))}async function Jj(t,e,n){const r=sU(t);try{const s=await function(c,d){const m=Me(c),g=Zt.now(),y=d.reduce((A,x)=>A.add(x.key),We());let _,w;return m.persistence.runTransaction("Locally write mutations","readwrite",A=>{let x=na(),D=We();return m.Cs.getEntries(A,y).next(I=>{x=I,x.forEach((P,q)=>{q.isValidDocument()||(D=D.add(P))})}).next(()=>m.localDocuments.getOverlayedDocuments(A,x)).next(I=>{_=I;const P=[];for(const q of d){const B=g4(q,_.get(q.key).overlayedDocument);B!=null&&P.push(new fs(q.key,B,oR(B.value.mapValue),wr.exists(!0)))}return m.mutationQueue.addMutationBatch(A,g,P,d)}).next(I=>{w=I;const P=I.applyToLocalDocumentSet(_,D);return m.documentOverlayCache.saveOverlays(A,I.batchId,P)})}).then(()=>({batchId:w.batchId,changes:vR(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(c,d,m){let g=c.uu[c.currentUser.toKey()];g||(g=new St(ze)),g=g.insert(d,m),c.uu[c.currentUser.toKey()]=g}(r,s.batchId,n),await sf(r,s.changes),await mm(r.remoteStore)}catch(s){const l=f_(s,"Failed to persist write");n.reject(l)}}async function JR(t,e){const n=Me(t);try{const r=await dj(n.localStore,e);e.targetChanges.forEach((s,l)=>{const c=n._u.get(l);c&&(at(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.tu=!0:s.modifiedDocuments.size>0?at(c.tu,14607):s.removedDocuments.size>0&&(at(c.tu,42227),c.tu=!1))}),await sf(n,r,e)}catch(r){await Kl(r)}}function cS(t,e,n){const r=Me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ru.forEach((l,c)=>{const d=c.view.ga(e);d.snapshot&&s.push(d.snapshot)}),function(c,d){const m=Me(c);m.onlineState=d;let g=!1;m.queries.forEach((y,_)=>{for(const w of _.Ra)w.ga(d)&&(g=!0)}),g&&m_(m)}(r.eventManager,e),s.length&&r.nu.Q_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eU(t,e,n){const r=Me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r._u.get(e),l=s&&s.key;if(l){let c=new St(Ee.comparator);c=c.insert(l,Rn.newNoDocument(l,Ne.min()));const d=We().add(l),m=new fm(Ne.min(),new Map,new St(ze),c,d);await JR(r,m),r.ou=r.ou.remove(l),r._u.delete(e),y_(r)}else await Ky(r.localStore,e,!1).then(()=>Zy(r,e,n)).catch(Kl)}async function tU(t,e){const n=Me(t),r=e.batch.batchId;try{const s=await fj(n.localStore,e);tC(n,r,null),eC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sf(n,s)}catch(s){await Kl(s)}}async function nU(t,e,n){const r=Me(t);try{const s=await function(c,d){const m=Me(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next(_=>(at(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(g,_))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>m.localDocuments.getDocuments(g,y))})}(r.localStore,e);tC(r,e,n),eC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sf(r,s)}catch(s){await Kl(s)}}function eC(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function tC(t,e,n){const r=Me(t);let s=r.uu[r.currentUser.toKey()];if(s){const l=s.get(e);l&&(n?l.reject(n):l.resolve(),s=s.remove(e)),r.uu[r.currentUser.toKey()]=s}}function Zy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||nC(t,r)})}function nC(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(s_(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),y_(t))}function fS(t,e,n){for(const r of n)r instanceof QR?(t.au.addReference(r.key,e),rU(t,r)):r instanceof XR?(me(p_,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||nC(t,r.key)):Ce(19791,{Iu:r})}function rU(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(me(p_,"New document in limbo: "+n),t.su.add(r),y_(t))}function y_(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new Ee(pt.fromString(e)),r=t.lu.next();t._u.set(r,new $j(n)),t.ou=t.ou.insert(n,r),HR(t.remoteStore,new Ya(oi(sm(n.path)),r,"TargetPurposeLimboResolution",rm.le))}}async function sf(t,e,n){const r=Me(t),s=[],l=[],c=[];r.ru.isEmpty()||(r.ru.forEach((d,m)=>{c.push(r.Pu(m,e,n).then(g=>{var y;if((g||n)&&r.isPrimaryClient){const _=g?!g.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(g){s.push(g);const _=i_.Ps(m.targetId,g);l.push(_)}}))}),await Promise.all(c),r.nu.Q_(s),await async function(m,g){const y=Me(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>oe.forEach(g,w=>oe.forEach(w.ls,A=>y.persistence.referenceDelegate.addReference(_,w.targetId,A)).next(()=>oe.forEach(w.hs,A=>y.persistence.referenceDelegate.removeReference(_,w.targetId,A)))))}catch(_){if(!Ql(_))throw _;me(a_,"Failed to update sequence numbers: "+_)}for(const _ of g){const w=_.targetId;if(!_.fromCache){const A=y.Ss.get(w),x=A.snapshotVersion,D=A.withLastLimboFreeSnapshotVersion(x);y.Ss=y.Ss.insert(w,D)}}}(r.localStore,l))}async function iU(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){me(p_,"User change. New user:",e.toKey());const r=await zR(n.localStore,e);n.currentUser=e,function(l,c){l.cu.forEach(d=>{d.forEach(m=>{m.reject(new ge(se.CANCELLED,c))})}),l.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sf(n,r.Ms)}}function aU(t,e){const n=Me(t),r=n._u.get(e);if(r&&r.tu)return We().add(r.key);{let s=We();const l=n.iu.get(e);if(!l)return s;for(const c of l){const d=n.ru.get(c);s=s.unionWith(d.view.Wa)}return s}}function rC(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eU.bind(null,e),e.nu.Q_=Fj.bind(null,e.eventManager),e.nu.Tu=qj.bind(null,e.eventManager),e}function sU(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nU.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dm(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return cj(this.persistence,new oj,e.initialUser,this.serializer)}Ru(e){return new UR(r_.Ei,this.serializer)}Au(e){return new yj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class oU extends kh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){at(this.persistence.referenceDelegate instanceof Mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $4(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new UR(r=>Mh.Ei(r,n),this.serializer)}}class Jy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iU.bind(null,this.syncEngine),await Uj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Bj}()}createDatastore(e){const n=dm(e.databaseInfo.databaseId),r=function(l){return new Ej(l)}(e.databaseInfo);return function(l,c,d,m){return new xj(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,l,c,d){return new Cj(r,s,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>cS(this.syncEngine,n,0),function(){return iS.C()?new iS:new vj}())}createSyncEngine(e,n){return function(s,l,c,d,m,g,y){const _=new Yj(s,l,c,d,m,g);return y&&(_.hu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const l=Me(s);me(ao,"RemoteStore shutting down."),l.aa.add(5),await af(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Jy.provider={build:()=>new Jy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ta("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="FirestoreClient";class lU{constructor(e,n,r,s,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=An.UNAUTHENTICATED,this.clientId=Xx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{me(as,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(me(as,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=f_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ry(t,e){t.asyncQueue.verifyOperationInProgress(),me(as,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await zR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await uU(t);me(as,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>sS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>sS(e.remoteStore,s)),t._onlineComponents=e}async function uU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(as,"Using user provided OfflineComponentProvider");try{await ry(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===se.FAILED_PRECONDITION||s.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ol("Error using user provided cache. Falling back to memory cache: "+n),await ry(t,new kh)}}else me(as,"Using default OfflineComponentProvider"),await ry(t,new oU(void 0));return t._offlineComponents}async function iC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(as,"Using user provided OnlineComponentProvider"),await dS(t,t._uninitializedComponentsProvider._online)):(me(as,"Using default OnlineComponentProvider"),await dS(t,new Jy))),t._onlineComponents}function cU(t){return iC(t).then(e=>e.syncEngine)}async function Vh(t){const e=await iC(t),n=e.eventManager;return n.onListen=Wj.bind(null,e.syncEngine),n.onUnlisten=Xj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Kj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Zj.bind(null,e.syncEngine),n}function fU(t,e,n={}){const r=new Qi;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const y=new v_({next:w=>{y.yu(),c.enqueueAndForget(()=>h_(l,_));const A=w.docs.has(d);!A&&w.fromCache?g.reject(new ge(se.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&w.fromCache&&m&&m.source==="server"?g.reject(new ge(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),_=new g_(sm(d.path),y,{includeMetadataChanges:!0,Fa:!0});return d_(l,_)}(await Vh(t),t.asyncQueue,e,n,r)),r.promise}function dU(t,e,n={}){const r=new Qi;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const y=new v_({next:w=>{y.yu(),c.enqueueAndForget(()=>h_(l,_)),w.fromCache&&m.source==="server"?g.reject(new ge(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),_=new g_(d,y,{includeMetadataChanges:!0,Fa:!0});return d_(l,_)}(await Vh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t,e,n){if(!n)throw new ge(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hU(t,e,n,r){if(e===!0&&r===!0)throw new ge(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mS(t){if(!Ee.isDocumentKey(t))throw new ge(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gS(t){if(Ee.isDocumentKey(t))throw new ge(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function Fn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gm(t);throw new ge(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="firestore.googleapis.com",pS=!0;class yS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oC,this.ssl=pS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:pS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<H4)throw new ge(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bL;switch(r.type){case"firstParty":return new AL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hS.get(n);r&&(me("ComponentProvider","Removing Datastore"),hS.delete(n),r.terminate())}(this),Promise.resolve()}}function mU(t,e,n,r={}){var s;t=Fn(t,pm);const l=Jh(e),c=t._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),m=`${e}:${n}`;l&&ax(`https://${m}`),c.host!==oC&&c.host!==m&&Ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:r});if(!Ja(g,d)&&(t._setSettings(g),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=An.MOCK_USER;else{y=W2(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ge(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new An(w)}t._authCredentials=new EL(new Kx(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ds(this.firestore,e,this._query)}}class Cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}}class Za extends ds{constructor(e,n,r){super(e,n,sm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new Ee(e))}withConverter(e){return new Za(this.firestore,e,this._path)}}function ra(t,e,...n){if(t=In(t),sC("collection","path",e),t instanceof pm){const r=pt.fromString(e,...n);return gS(r),new Za(t,null,r)}{if(!(t instanceof Cn||t instanceof Za))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return gS(r),new Za(t.firestore,null,r)}}function rr(t,e,...n){if(t=In(t),arguments.length===1&&(e=Xx.newId()),sC("doc","path",e),t instanceof pm){const r=pt.fromString(e,...n);return mS(r),new Cn(t,null,new Ee(r))}{if(!(t instanceof Cn||t instanceof Za))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return mS(r),new Cn(t.firestore,t instanceof Za?t.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="AsyncQueue";class _S{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new FR(this,"async_queue_retry"),this.ju=()=>{const r=ny();r&&me(vS,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=ny();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=ny();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Qi;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Ql(e))throw e;me(vS,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,ta("INTERNAL UNHANDLED ERROR: ",wS(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const s=c_.createAndSchedule(this,e,n,r,l=>this.Xu(l));return this.Uu.push(s),s}Ju(){this.Ku&&Ce(47125,{ec:wS(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function wS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const l of r)if(l in s&&typeof s[l]=="function")return!0;return!1}(t,["next","error","complete"])}class ia extends pm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new _S,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _S(e),this._firestoreClient=void 0,await e}}}function gU(t,e){const n=typeof t=="object"?t:ux(),r=typeof t=="string"?t:Ch,s=Pv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const l=$2("firestore");l&&mU(s,...l)}return s}function ym(t){if(t._terminated)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pU(t),t._firestoreClient}function pU(t){var e,n,r;const s=t._freezeSettings(),l=function(d,m,g,y){return new zL(d,m,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,aC(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new lU(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jl(wn.fromBase64String(e))}catch(n){throw new ge(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jl(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=/^__.*__$/;class vU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new nf(e,this.data,n,this.fieldTransforms)}}class lC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{oc:t})}}class _m{constructor(e,n,r,s,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new _m(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s.lc(e),s}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Lh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(uC(this.oc)&&yU.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class _U{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dm(e)}dc(e,n,r,s=!1){return new _m({oc:e,methodName:n,Ec:r,path:vn.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wm(t){const e=t._freezeSettings(),n=dm(t._databaseId);return new _U(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cC(t,e,n,r,s,l={}){const c=t.dc(l.merge||l.mergeFields?2:0,e,n,s);T_("Data must be an object, but it was:",c,r);const d=fC(r,c);let m,g;if(l.merge)m=new nr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const w=ev(e,_,n);if(!c.contains(w))throw new ge(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);hC(y,w)||y.push(w)}m=new nr(y),g=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,g=c.fieldTransforms;return new vU(new Bn(d),m,g)}class bm extends of{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bm}}function wU(t,e,n){return new _m({oc:3,Ec:e.settings.Ec,methodName:t._methodName,cc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class b_ extends of{_toFieldTransform(e){return new AR(e.path,new kc)}isEqual(e){return e instanceof b_}}class E_ extends of{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=wU(this,e,!0),r=this.Ac.map(l=>Jl(l,n)),s=new kl(r);return new AR(e.path,s)}isEqual(e){return e instanceof E_&&Ja(this.Ac,e.Ac)}}function bU(t,e,n,r){const s=t.dc(1,e,n);T_("Data must be an object, but it was:",s,r);const l=[],c=Bn.empty();cs(r,(m,g)=>{const y=S_(e,m,n);g=In(g);const _=s.hc(y);if(g instanceof bm)l.push(y);else{const w=Jl(g,_);w!=null&&(l.push(y),c.set(y,w))}});const d=new nr(l);return new lC(c,d,s.fieldTransforms)}function EU(t,e,n,r,s,l){const c=t.dc(1,e,n),d=[ev(e,r,n)],m=[s];if(l.length%2!=0)throw new ge(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(ev(e,l[w])),m.push(l[w+1]);const g=[],y=Bn.empty();for(let w=d.length-1;w>=0;--w)if(!hC(g,d[w])){const A=d[w];let x=m[w];x=In(x);const D=c.hc(A);if(x instanceof bm)g.push(A);else{const I=Jl(x,D);I!=null&&(g.push(A),y.set(A,I))}}const _=new nr(g);return new lC(y,_,c.fieldTransforms)}function TU(t,e,n,r=!1){return Jl(n,t.dc(r?4:3,e))}function Jl(t,e){if(dC(t=In(t)))return T_("Unsupported field value:",e,t),fC(t,e);if(t instanceof of)return function(r,s){if(!uC(s.oc))throw s.Tc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,s){const l=[];let c=0;for(const d of r){let m=Jl(d,s.Pc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(t,e)}return function(r,s){if((r=In(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return u4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Zt.fromDate(r);return{timestampValue:Nh(s.serializer,l)}}if(r instanceof Zt){const l=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nh(s.serializer,l)}}if(r instanceof __)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jl)return{bytesValue:OR(s.serializer,r._byteString)};if(r instanceof Cn){const l=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw s.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:t_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof w_)return function(c,d){return{mapValue:{fields:{[aR]:{stringValue:sR},[Dh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Tc("VectorValues must only contain numeric values.");return Xv(d.serializer,g)})}}}}}}(r,s);throw s.Tc(`Unsupported field value: ${gm(r)}`)}(t,e)}function fC(t,e){const n={};return Jx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(t,(r,s)=>{const l=Jl(s,e.uc(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function dC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zt||t instanceof __||t instanceof jl||t instanceof Cn||t instanceof of||t instanceof w_)}function T_(t,e,n){if(!dC(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=gm(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function ev(t,e,n){if((e=In(e))instanceof vm)return e._internalPath;if(typeof e=="string")return S_(t,e);throw Lh("Field path arguments must be of type string or ",t,!1,void 0,n)}const SU=new RegExp("[~\\*/\\[\\]]");function S_(t,e,n){if(e.search(SU)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vm(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lh(t,e,n,r,s){const l=r&&!r.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${s}`),m+=")"),new ge(se.INVALID_ARGUMENT,d+t+m)}function hC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n,r,s,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Em("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AU extends mC{data(){return super.data()}}function Em(t,e){return typeof e=="string"?S_(t,e):e instanceof vm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A_{}class pC extends A_{}function jh(t,e,...n){let r=[];e instanceof A_&&r.push(e),r=r.concat(n),function(l){const c=l.filter(m=>m instanceof R_).length,d=l.filter(m=>m instanceof Tm).length;if(c>1||c>0&&d>0)throw new ge(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Tm extends pC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Tm(e,n,r)}_apply(e){const n=this._parse(e);return yC(e._query,n),new ds(e.firestore,e.converter,qy(e._query,n))}_parse(e){const n=wm(e.firestore);return function(l,c,d,m,g,y,_){let w;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ge(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){TS(_,y);const x=[];for(const D of _)x.push(ES(m,l,D));w={arrayValue:{values:x}}}else w=ES(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||TS(_,y),w=TU(d,c,_,y==="in"||y==="not-in");return Ft.create(g,y,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function x_(t,e,n){const r=e,s=Em("where",t);return Tm._create(s,r,n)}class R_ extends A_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new R_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,l){let c=s;const d=l.getFlattenedFilters();for(const m of d)yC(c,m),c=qy(c,m)}(e._query,n),new ds(e.firestore,e.converter,qy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class C_ extends pC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new C_(e,n)}_apply(e){const n=function(s,l,c){if(s.startAt!==null)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pc(l,c)}(e._query,this._field,this._direction);return new ds(e.firestore,e.converter,function(s,l){const c=s.explicitOrderBy.concat([l]);return new Xl(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function xU(t,e="asc"){const n=e,r=Em("orderBy",t);return C_._create(r,n)}function ES(t,e,n){if(typeof(n=In(n))=="string"){if(n==="")throw new ge(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mR(e)&&n.indexOf("/")!==-1)throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pt.fromString(n));if(!Ee.isDocumentKey(r))throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return VT(t,new Ee(r))}if(n instanceof Cn)return VT(t,n._key);throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gm(n)}.`)}function TS(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yC(t,e){const n=function(s,l){for(const c of s)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class RU{convertValue(e,n="none"){switch(rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cs(e,(s,l)=>{r[s]=this.convertValue(l,n)}),r}convertVectorValue(e){var n,r,s;const l=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Dh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(c=>Ot(c.doubleValue));return new w_(l)}convertGeoPoint(e){return new __(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=am(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Oc(e));default:return null}}convertTimestamp(e){const n=ts(e);return new Zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pt.fromString(e);at(LR(r),9688,{name:e});const s=new Nc(r.get(1),r.get(3)),l=new Ee(r.popFirst(5));return s.isEqual(n)||ta(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _C extends mC{constructor(e,n,r,s,l,c){super(e,n,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Em("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fh extends _C{data(e={}){return super.data(e)}}class wC{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new vc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fh(this._firestore,this._userDataWriter,r.key,r,new vc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const m=new fh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new vc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new fh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new vc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:CU(d.type),doc:m,oldIndex:g,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function CU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t){t=Fn(t,Cn);const e=Fn(t.firestore,ia);return fU(ym(e),t._key).then(n=>bC(e,t,n))}class D_ extends RU{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}function Uh(t){t=Fn(t,ds);const e=Fn(t.firestore,ia),n=ym(e),r=new D_(e);return gC(t._query),dU(n,t._query).then(s=>new wC(e,r,t,s))}function I_(t,e,n){t=Fn(t,Cn);const r=Fn(t.firestore,ia),s=vC(t.converter,e);return Am(r,[cC(wm(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,wr.none())])}function Sm(t,e,n,...r){t=Fn(t,Cn);const s=Fn(t.firestore,ia),l=wm(s);let c;return c=typeof(e=In(e))=="string"||e instanceof vm?EU(l,"updateDoc",t._key,e,n,r):bU(l,"updateDoc",t._key,e),Am(s,[c.toMutation(t._key,wr.exists(!0))])}function DU(t){return Am(Fn(t.firestore,ia),[new Zv(t._key,wr.none())])}function IU(t,e){const n=Fn(t.firestore,ia),r=rr(t),s=vC(t.converter,e);return Am(n,[cC(wm(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,wr.exists(!1))]).then(()=>r)}function Lc(t,...e){var n,r,s;t=In(t);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||bS(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(bS(e[c])){const _=e[c];e[c]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[c+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[c+2]=(s=_.complete)===null||s===void 0?void 0:s.bind(_)}let m,g,y;if(t instanceof Cn)g=Fn(t.firestore,ia),y=sm(t._key.path),m={next:_=>{e[c]&&e[c](bC(g,t,_))},error:e[c+1],complete:e[c+2]};else{const _=Fn(t,ds);g=Fn(_.firestore,ia),y=_._query;const w=new D_(g);m={next:A=>{e[c]&&e[c](new wC(g,w,_,A))},error:e[c+1],complete:e[c+2]},gC(t._query)}return function(w,A,x,D){const I=new v_(D),P=new g_(A,I,x);return w.asyncQueue.enqueueAndForget(async()=>d_(await Vh(w),P)),()=>{I.yu(),w.asyncQueue.enqueueAndForget(async()=>h_(await Vh(w),P))}}(ym(g),y,d,m)}function Am(t,e){return function(r,s){const l=new Qi;return r.asyncQueue.enqueueAndForget(async()=>Jj(await cU(r),s,l)),l.promise}(ym(t),e)}function bC(t,e,n){const r=n.docs.get(e._key),s=new D_(t);return new _C(t,s,e._key,r,new vc(n.hasPendingWrites,n.fromCache),e.converter)}function O_(){return new b_("serverTimestamp")}function EC(...t){return new E_("arrayUnion",t)}(function(e,n=!0){(function(s){Wl=s})($l),Dl(new no("firestore",(r,{instanceIdentifier:s,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new ia(new TL(r.getProvider("auth-internal")),new xL(c,r.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nc(g.options.projectId,y)}(c,s),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Qa(ST,AT,e),Qa(ST,AT,"esm2017")})();const OU={apiKey:"AIzaSyBMMYqMn5xChk4MjlrLR2EIY8uHrDz0UPM",authDomain:"poker-totalizing-system.firebaseapp.com",projectId:"poker-totalizing-system",appId:"1:250050305387:web:a447a95178b1fbbad7802e"},TC=lx(OU),Nt=yL(TC),Mt=gU(TC);function NU(){const t=Fl(),e=async n=>{try{const r=new $i;await xV(Nt,r),t(n==="player"?"/player":"/admin")}catch{alert("Google ログインに失敗しました")}};return T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 to-sky-100 p-4",children:T.jsx(WA,{className:"w-full max-w-md shadow-2xl",children:T.jsxs(KA,{className:"p-8 flex flex-col gap-6 items-center",children:[T.jsx("h1",{className:"text-3xl font-bold tracking-tight text-indigo-700",children:"Poker Totalizing System"}),T.jsxs(Ct,{size:"lg",className:"w-full gap-2",onClick:()=>e("player"),children:[T.jsx(y2,{className:"h-5 w-5"})," プレイヤーとしてログイン"]}),T.jsxs(Ct,{size:"lg",variant:"secondary",className:"w-full gap-2",onClick:()=>e("admin"),children:[T.jsx(M2,{className:"h-5 w-5"})," 管理者としてログイン"]})]})})})}function Le(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function MU(t,e){const n=S.createContext(e),r=l=>{const{children:c,...d}=l,m=S.useMemo(()=>d,Object.values(d));return T.jsx(n.Provider,{value:m,children:c})};r.displayName=t+"Provider";function s(l){const c=S.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[r,s]}function ho(t,e=[]){let n=[];function r(l,c){const d=S.createContext(c),m=n.length;n=[...n,c];const g=_=>{var P;const{scope:w,children:A,...x}=_,D=((P=w==null?void 0:w[t])==null?void 0:P[m])||d,I=S.useMemo(()=>x,Object.values(x));return T.jsx(D.Provider,{value:I,children:A})};g.displayName=l+"Provider";function y(_,w){var D;const A=((D=w==null?void 0:w[t])==null?void 0:D[m])||d,x=S.useContext(A);if(x)return x;if(c!==void 0)return c;throw new Error(`\`${_}\` must be used within \`${l}\``)}return[g,y]}const s=()=>{const l=n.map(c=>S.createContext(c));return function(d){const m=(d==null?void 0:d[t])||l;return S.useMemo(()=>({[`__scope${t}`]:{...d,[t]:m}}),[d,m])}};return s.scopeName=t,[r,PU(s,...e)]}function PU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const c=r.reduce((d,{useScope:m,scopeName:g})=>{const _=m(l)[`__scope${g}`];return{...d,..._}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}var ss=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},kU=vA[" useId ".trim().toString()]||(()=>{}),VU=0;function Sl(t){const[e,n]=S.useState(kU());return ss(()=>{n(r=>r??String(VU++))},[t]),e?`radix-${e}`:""}var LU=vA[" useInsertionEffect ".trim().toString()]||ss;function N_({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,l,c]=jU({defaultProp:e,onChange:n}),d=t!==void 0,m=d?t:s;{const y=S.useRef(t!==void 0);S.useEffect(()=>{const _=y.current;_!==d&&console.warn(`${r} is changing from ${_?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=d},[d,r])}const g=S.useCallback(y=>{var _;if(d){const w=UU(y)?y(t):y;w!==t&&((_=c.current)==null||_.call(c,w))}else l(y)},[d,t,l,c]);return[m,g]}function jU({defaultProp:t,onChange:e}){const[n,r]=S.useState(t),s=S.useRef(n),l=S.useRef(e);return LU(()=>{l.current=e},[e]),S.useEffect(()=>{var c;s.current!==n&&((c=l.current)==null||c.call(l,n),s.current=n)},[n,s]),[n,r,l]}function UU(t){return typeof t=="function"}var zU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ht=zU.reduce((t,e)=>{const n=Cl(`Primitive.${e}`),r=S.forwardRef((s,l)=>{const{asChild:c,...d}=s,m=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(m,{...d,ref:l})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function SC(t,e){t&&Dv.flushSync(()=>t.dispatchEvent(e))}function sa(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function BU(t,e=globalThis==null?void 0:globalThis.document){const n=sa(t);S.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var FU="DismissableLayer",tv="dismissableLayer.update",qU="dismissableLayer.pointerDownOutside",HU="dismissableLayer.focusOutside",SS,AC=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),M_=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...m}=t,g=S.useContext(AC),[y,_]=S.useState(null),w=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,A]=S.useState({}),x=qt(e,M=>_(M)),D=Array.from(g.layers),[I]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),P=D.indexOf(I),q=y?D.indexOf(y):-1,B=g.layersWithOutsidePointerEventsDisabled.size>0,K=q>=P,J=YU(M=>{const R=M.target,N=[...g.branches].some(L=>L.contains(R));!K||N||(s==null||s(M),c==null||c(M),M.defaultPrevented||d==null||d())},w),le=WU(M=>{const R=M.target;[...g.branches].some(L=>L.contains(R))||(l==null||l(M),c==null||c(M),M.defaultPrevented||d==null||d())},w);return BU(M=>{q===g.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&d&&(M.preventDefault(),d()))},w),S.useEffect(()=>{if(y)return n&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(SS=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(y)),g.layers.add(y),AS(),()=>{n&&g.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=SS)}},[y,w,n,g]),S.useEffect(()=>()=>{y&&(g.layers.delete(y),g.layersWithOutsidePointerEventsDisabled.delete(y),AS())},[y,g]),S.useEffect(()=>{const M=()=>A({});return document.addEventListener(tv,M),()=>document.removeEventListener(tv,M)},[]),T.jsx(Ht.div,{...m,ref:x,style:{pointerEvents:B?K?"auto":"none":void 0,...t.style},onFocusCapture:Le(t.onFocusCapture,le.onFocusCapture),onBlurCapture:Le(t.onBlurCapture,le.onBlurCapture),onPointerDownCapture:Le(t.onPointerDownCapture,J.onPointerDownCapture)})});M_.displayName=FU;var GU="DismissableLayerBranch",$U=S.forwardRef((t,e)=>{const n=S.useContext(AC),r=S.useRef(null),s=qt(e,r);return S.useEffect(()=>{const l=r.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),T.jsx(Ht.div,{...t,ref:s})});$U.displayName=GU;function YU(t,e=globalThis==null?void 0:globalThis.document){const n=sa(t),r=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const l=d=>{if(d.target&&!r.current){let m=function(){xC(qU,n,g,{discrete:!0})};const g={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=m,e.addEventListener("click",s.current,{once:!0})):m()}else e.removeEventListener("click",s.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function WU(t,e=globalThis==null?void 0:globalThis.document){const n=sa(t),r=S.useRef(!1);return S.useEffect(()=>{const s=l=>{l.target&&!r.current&&xC(HU,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function AS(){const t=new CustomEvent(tv);document.dispatchEvent(t)}function xC(t,e,n,{discrete:r}){const s=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?SC(s,l):s.dispatchEvent(l)}var iy="focusScope.autoFocusOnMount",ay="focusScope.autoFocusOnUnmount",xS={bubbles:!1,cancelable:!0},KU="FocusScope",P_=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:l,...c}=t,[d,m]=S.useState(null),g=sa(s),y=sa(l),_=S.useRef(null),w=qt(e,D=>m(D)),A=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let D=function(B){if(A.paused||!d)return;const K=B.target;d.contains(K)?_.current=K:qa(_.current,{select:!0})},I=function(B){if(A.paused||!d)return;const K=B.relatedTarget;K!==null&&(d.contains(K)||qa(_.current,{select:!0}))},P=function(B){if(document.activeElement===document.body)for(const J of B)J.removedNodes.length>0&&qa(d)};document.addEventListener("focusin",D),document.addEventListener("focusout",I);const q=new MutationObserver(P);return d&&q.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",D),document.removeEventListener("focusout",I),q.disconnect()}}},[r,d,A.paused]),S.useEffect(()=>{if(d){CS.add(A);const D=document.activeElement;if(!d.contains(D)){const P=new CustomEvent(iy,xS);d.addEventListener(iy,g),d.dispatchEvent(P),P.defaultPrevented||(QU(t6(RC(d)),{select:!0}),document.activeElement===D&&qa(d))}return()=>{d.removeEventListener(iy,g),setTimeout(()=>{const P=new CustomEvent(ay,xS);d.addEventListener(ay,y),d.dispatchEvent(P),P.defaultPrevented||qa(D??document.body,{select:!0}),d.removeEventListener(ay,y),CS.remove(A)},0)}}},[d,g,y,A]);const x=S.useCallback(D=>{if(!n&&!r||A.paused)return;const I=D.key==="Tab"&&!D.altKey&&!D.ctrlKey&&!D.metaKey,P=document.activeElement;if(I&&P){const q=D.currentTarget,[B,K]=XU(q);B&&K?!D.shiftKey&&P===K?(D.preventDefault(),n&&qa(B,{select:!0})):D.shiftKey&&P===B&&(D.preventDefault(),n&&qa(K,{select:!0})):P===q&&D.preventDefault()}},[n,r,A.paused]);return T.jsx(Ht.div,{tabIndex:-1,...c,ref:w,onKeyDown:x})});P_.displayName=KU;function QU(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(qa(r,{select:e}),document.activeElement!==n)return}function XU(t){const e=RC(t),n=RS(e,t),r=RS(e.reverse(),t);return[n,r]}function RC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function RS(t,e){for(const n of t)if(!ZU(n,{upTo:e}))return n}function ZU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function JU(t){return t instanceof HTMLInputElement&&"select"in t}function qa(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&JU(t)&&e&&t.select()}}var CS=e6();function e6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=DS(t,e),t.unshift(e)},remove(e){var n;t=DS(t,e),(n=t[0])==null||n.resume()}}}function DS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function t6(t){return t.filter(e=>e.tagName!=="A")}var n6="Portal",k_=S.forwardRef((t,e)=>{var d;const{container:n,...r}=t,[s,l]=S.useState(!1);ss(()=>l(!0),[]);const c=n||s&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?_M.createPortal(T.jsx(Ht.div,{...r,ref:e}),c):null});k_.displayName=n6;function r6(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var hs=t=>{const{present:e,children:n}=t,r=i6(e),s=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),l=qt(r.ref,a6(s));return typeof n=="function"||r.isPresent?S.cloneElement(s,{ref:l}):null};hs.displayName="Presence";function i6(t){const[e,n]=S.useState(),r=S.useRef(null),s=S.useRef(t),l=S.useRef("none"),c=t?"mounted":"unmounted",[d,m]=r6(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const g=Hd(r.current);l.current=d==="mounted"?g:"none"},[d]),ss(()=>{const g=r.current,y=s.current;if(y!==t){const w=l.current,A=Hd(g);t?m("MOUNT"):A==="none"||(g==null?void 0:g.display)==="none"?m("UNMOUNT"):m(y&&w!==A?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,m]),ss(()=>{if(e){let g;const y=e.ownerDocument.defaultView??window,_=A=>{const D=Hd(r.current).includes(A.animationName);if(A.target===e&&D&&(m("ANIMATION_END"),!s.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",g=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},w=A=>{A.target===e&&(l.current=Hd(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{y.clearTimeout(g),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:S.useCallback(g=>{r.current=g?getComputedStyle(g):null,n(g)},[])}}function Hd(t){return(t==null?void 0:t.animationName)||"none"}function a6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var sy=0;function CC(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??IS()),document.body.insertAdjacentElement("beforeend",t[1]??IS()),sy++,()=>{sy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sy--}},[])}function IS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var dh="right-scroll-bar-position",hh="width-before-scroll-bar",s6="with-scroll-bars-hidden",o6="--removed-body-scroll-bar-size";function oy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function l6(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var u6=typeof window<"u"?S.useLayoutEffect:S.useEffect,OS=new WeakMap;function c6(t,e){var n=l6(null,function(r){return t.forEach(function(s){return oy(s,r)})});return u6(function(){var r=OS.get(n);if(r){var s=new Set(r),l=new Set(t),c=n.current;s.forEach(function(d){l.has(d)||oy(d,null)}),l.forEach(function(d){s.has(d)||oy(d,c)})}OS.set(n,t)},[t]),n}function f6(t){return t}function d6(t,e){e===void 0&&(e=f6);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var c=e(l,r);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(r=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){r=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(l),c=n}var m=function(){var y=c;c=[],y.forEach(l)},g=function(){return Promise.resolve().then(m)};g(),n={push:function(y){c.push(y),g()},filter:function(y){return c=c.filter(y),n}}}};return s}function h6(t){t===void 0&&(t={});var e=d6(null);return e.options=ai({async:!0,ssr:!1},t),e}var DC=function(t){var e=t.sideCar,n=Zc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,ai({},n))};DC.isSideCarExport=!0;function m6(t,e){return t.useMedium(e),DC}var IC=h6(),ly=function(){},xm=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:ly,onWheelCapture:ly,onTouchMoveCapture:ly}),s=r[0],l=r[1],c=t.forwardProps,d=t.children,m=t.className,g=t.removeScrollBar,y=t.enabled,_=t.shards,w=t.sideCar,A=t.noIsolation,x=t.inert,D=t.allowPinchZoom,I=t.as,P=I===void 0?"div":I,q=t.gapMode,B=Zc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),K=w,J=c6([n,e]),le=ai(ai({},B),s);return S.createElement(S.Fragment,null,y&&S.createElement(K,{sideCar:IC,removeScrollBar:g,shards:_,noIsolation:A,inert:x,setCallbacks:l,allowPinchZoom:!!D,lockRef:n,gapMode:q}),c?S.cloneElement(S.Children.only(d),ai(ai({},le),{ref:J})):S.createElement(P,ai({},le,{className:m,ref:J}),d))});xm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xm.classNames={fullWidth:hh,zeroRight:dh};var g6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function p6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=g6();return e&&t.setAttribute("nonce",e),t}function y6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function v6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var _6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=p6())&&(y6(e,n),v6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},w6=function(){var t=_6();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},OC=function(){var t=w6(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},b6={left:0,top:0,right:0,gap:0},uy=function(t){return parseInt(t||"",10)||0},E6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[uy(n),uy(r),uy(s)]},T6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return b6;var e=E6(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},S6=OC(),Al="data-scroll-locked",A6=function(t,e,n,r){var s=t.left,l=t.top,c=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(s6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(Al,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dh,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(hh,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(dh," .").concat(dh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(hh," .").concat(hh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Al,`] {
    `).concat(o6,": ").concat(d,`px;
  }
`)},NS=function(){var t=parseInt(document.body.getAttribute(Al)||"0",10);return isFinite(t)?t:0},x6=function(){S.useEffect(function(){return document.body.setAttribute(Al,(NS()+1).toString()),function(){var t=NS()-1;t<=0?document.body.removeAttribute(Al):document.body.setAttribute(Al,t.toString())}},[])},R6=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;x6();var l=S.useMemo(function(){return T6(s)},[s]);return S.createElement(S6,{styles:A6(l,!e,s,n?"":"!important")})},nv=!1;if(typeof window<"u")try{var Gd=Object.defineProperty({},"passive",{get:function(){return nv=!0,!0}});window.addEventListener("test",Gd,Gd),window.removeEventListener("test",Gd,Gd)}catch{nv=!1}var cl=nv?{passive:!1}:!1,C6=function(t){return t.tagName==="TEXTAREA"},NC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!C6(t)&&n[e]==="visible")},D6=function(t){return NC(t,"overflowY")},I6=function(t){return NC(t,"overflowX")},MS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=MC(t,r);if(s){var l=PC(t,r),c=l[1],d=l[2];if(c>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},O6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},N6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},MC=function(t,e){return t==="v"?D6(e):I6(e)},PC=function(t,e){return t==="v"?O6(e):N6(e)},M6=function(t,e){return t==="h"&&e==="rtl"?-1:1},P6=function(t,e,n,r,s){var l=M6(t,window.getComputedStyle(e).direction),c=l*r,d=n.target,m=e.contains(d),g=!1,y=c>0,_=0,w=0;do{var A=PC(t,d),x=A[0],D=A[1],I=A[2],P=D-I-l*x;(x||P)&&MC(t,d)&&(_+=P,w+=x),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!m&&d!==document.body||m&&(e.contains(d)||e===d));return(y&&Math.abs(_)<1||!y&&Math.abs(w)<1)&&(g=!0),g},$d=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},PS=function(t){return[t.deltaX,t.deltaY]},kS=function(t){return t&&"current"in t?t.current:t},k6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},V6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},L6=0,fl=[];function j6(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),s=S.useState(L6++)[0],l=S.useState(OC)[0],c=S.useRef(t);S.useEffect(function(){c.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var D=_k([t.lockRef.current],(t.shards||[]).map(kS),!0).filter(Boolean);return D.forEach(function(I){return I.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),D.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var d=S.useCallback(function(D,I){if("touches"in D&&D.touches.length===2||D.type==="wheel"&&D.ctrlKey)return!c.current.allowPinchZoom;var P=$d(D),q=n.current,B="deltaX"in D?D.deltaX:q[0]-P[0],K="deltaY"in D?D.deltaY:q[1]-P[1],J,le=D.target,M=Math.abs(B)>Math.abs(K)?"h":"v";if("touches"in D&&M==="h"&&le.type==="range")return!1;var R=MS(M,le);if(!R)return!0;if(R?J=M:(J=M==="v"?"h":"v",R=MS(M,le)),!R)return!1;if(!r.current&&"changedTouches"in D&&(B||K)&&(r.current=J),!J)return!0;var N=r.current||J;return P6(N,I,D,N==="h"?B:K)},[]),m=S.useCallback(function(D){var I=D;if(!(!fl.length||fl[fl.length-1]!==l)){var P="deltaY"in I?PS(I):$d(I),q=e.current.filter(function(J){return J.name===I.type&&(J.target===I.target||I.target===J.shadowParent)&&k6(J.delta,P)})[0];if(q&&q.should){I.cancelable&&I.preventDefault();return}if(!q){var B=(c.current.shards||[]).map(kS).filter(Boolean).filter(function(J){return J.contains(I.target)}),K=B.length>0?d(I,B[0]):!c.current.noIsolation;K&&I.cancelable&&I.preventDefault()}}},[]),g=S.useCallback(function(D,I,P,q){var B={name:D,delta:I,target:P,should:q,shadowParent:U6(P)};e.current.push(B),setTimeout(function(){e.current=e.current.filter(function(K){return K!==B})},1)},[]),y=S.useCallback(function(D){n.current=$d(D),r.current=void 0},[]),_=S.useCallback(function(D){g(D.type,PS(D),D.target,d(D,t.lockRef.current))},[]),w=S.useCallback(function(D){g(D.type,$d(D),D.target,d(D,t.lockRef.current))},[]);S.useEffect(function(){return fl.push(l),t.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:w}),document.addEventListener("wheel",m,cl),document.addEventListener("touchmove",m,cl),document.addEventListener("touchstart",y,cl),function(){fl=fl.filter(function(D){return D!==l}),document.removeEventListener("wheel",m,cl),document.removeEventListener("touchmove",m,cl),document.removeEventListener("touchstart",y,cl)}},[]);var A=t.removeScrollBar,x=t.inert;return S.createElement(S.Fragment,null,x?S.createElement(l,{styles:V6(s)}):null,A?S.createElement(R6,{gapMode:t.gapMode}):null)}function U6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const z6=m6(IC,j6);var V_=S.forwardRef(function(t,e){return S.createElement(xm,ai({},t,{ref:e,sideCar:z6}))});V_.classNames=xm.classNames;var B6=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},dl=new WeakMap,Yd=new WeakMap,Wd={},cy=0,kC=function(t){return t&&(t.host||kC(t.parentNode))},F6=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=kC(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},q6=function(t,e,n,r){var s=F6(e,Array.isArray(t)?t:[t]);Wd[n]||(Wd[n]=new WeakMap);var l=Wd[n],c=[],d=new Set,m=new Set(s),g=function(_){!_||d.has(_)||(d.add(_),g(_.parentNode))};s.forEach(g);var y=function(_){!_||m.has(_)||Array.prototype.forEach.call(_.children,function(w){if(d.has(w))y(w);else try{var A=w.getAttribute(r),x=A!==null&&A!=="false",D=(dl.get(w)||0)+1,I=(l.get(w)||0)+1;dl.set(w,D),l.set(w,I),c.push(w),D===1&&x&&Yd.set(w,!0),I===1&&w.setAttribute(n,"true"),x||w.setAttribute(r,"true")}catch(P){console.error("aria-hidden: cannot operate on ",w,P)}})};return y(e),d.clear(),cy++,function(){c.forEach(function(_){var w=dl.get(_)-1,A=l.get(_)-1;dl.set(_,w),l.set(_,A),w||(Yd.has(_)||_.removeAttribute(r),Yd.delete(_)),A||_.removeAttribute(n)}),cy--,cy||(dl=new WeakMap,dl=new WeakMap,Yd=new WeakMap,Wd={})}},VC=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=B6(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),q6(r,s,n,"aria-hidden")):function(){return null}},Rm="Dialog",[LC,jC]=ho(Rm),[H6,Ur]=LC(Rm),UC=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:l,modal:c=!0}=t,d=S.useRef(null),m=S.useRef(null),[g,y]=N_({prop:r,defaultProp:s??!1,onChange:l,caller:Rm});return T.jsx(H6,{scope:e,triggerRef:d,contentRef:m,contentId:Sl(),titleId:Sl(),descriptionId:Sl(),open:g,onOpenChange:y,onOpenToggle:S.useCallback(()=>y(_=>!_),[y]),modal:c,children:n})};UC.displayName=Rm;var zC="DialogTrigger",BC=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(zC,n),l=qt(e,s.triggerRef);return T.jsx(Ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":U_(s.open),...r,ref:l,onClick:Le(t.onClick,s.onOpenToggle)})});BC.displayName=zC;var L_="DialogPortal",[G6,FC]=LC(L_,{forceMount:void 0}),qC=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,l=Ur(L_,e);return T.jsx(G6,{scope:e,forceMount:n,children:S.Children.map(r,c=>T.jsx(hs,{present:n||l.open,children:T.jsx(k_,{asChild:!0,container:s,children:c})}))})};qC.displayName=L_;var zh="DialogOverlay",HC=S.forwardRef((t,e)=>{const n=FC(zh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,l=Ur(zh,t.__scopeDialog);return l.modal?T.jsx(hs,{present:r||l.open,children:T.jsx(Y6,{...s,ref:e})}):null});HC.displayName=zh;var $6=Cl("DialogOverlay.RemoveScroll"),Y6=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(zh,n);return T.jsx(V_,{as:$6,allowPinchZoom:!0,shards:[s.contentRef],children:T.jsx(Ht.div,{"data-state":U_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),so="DialogContent",GC=S.forwardRef((t,e)=>{const n=FC(so,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,l=Ur(so,t.__scopeDialog);return T.jsx(hs,{present:r||l.open,children:l.modal?T.jsx(W6,{...s,ref:e}):T.jsx(K6,{...s,ref:e})})});GC.displayName=so;var W6=S.forwardRef((t,e)=>{const n=Ur(so,t.__scopeDialog),r=S.useRef(null),s=qt(e,n.contentRef,r);return S.useEffect(()=>{const l=r.current;if(l)return VC(l)},[]),T.jsx($C,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(t.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Le(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:Le(t.onFocusOutside,l=>l.preventDefault())})}),K6=S.forwardRef((t,e)=>{const n=Ur(so,t.__scopeDialog),r=S.useRef(!1),s=S.useRef(!1);return T.jsx($C,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,d;(c=t.onCloseAutoFocus)==null||c.call(t,l),l.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),l.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:l=>{var m,g;(m=t.onInteractOutside)==null||m.call(t,l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=l.target;((g=n.triggerRef.current)==null?void 0:g.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&s.current&&l.preventDefault()}})}),$C=S.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:l,...c}=t,d=Ur(so,n),m=S.useRef(null),g=qt(e,m);return CC(),T.jsxs(T.Fragment,{children:[T.jsx(P_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:l,children:T.jsx(M_,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":U_(d.open),...c,ref:g,onDismiss:()=>d.onOpenChange(!1)})}),T.jsxs(T.Fragment,{children:[T.jsx(X6,{titleId:d.titleId}),T.jsx(J6,{contentRef:m,descriptionId:d.descriptionId})]})]})}),j_="DialogTitle",YC=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(j_,n);return T.jsx(Ht.h2,{id:s.titleId,...r,ref:e})});YC.displayName=j_;var WC="DialogDescription",KC=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(WC,n);return T.jsx(Ht.p,{id:s.descriptionId,...r,ref:e})});KC.displayName=WC;var QC="DialogClose",XC=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(QC,n);return T.jsx(Ht.button,{type:"button",...r,ref:e,onClick:Le(t.onClick,()=>s.onOpenChange(!1))})});XC.displayName=QC;function U_(t){return t?"open":"closed"}var ZC="DialogTitleWarning",[Q6,JC]=MU(ZC,{contentName:so,titleName:j_,docsSlug:"dialog"}),X6=({titleId:t})=>{const e=JC(ZC),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Z6="DialogDescriptionWarning",J6=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${JC(Z6).contentName}}.`;return S.useEffect(()=>{var l;const s=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},e1=UC,t1=BC,n1=qC,r1=HC,i1=GC,a1=YC,e3=KC,z_=XC;function eu({...t}){return T.jsx(e1,{"data-slot":"dialog",...t})}function lf({...t}){return T.jsx(t1,{"data-slot":"dialog-trigger",...t})}function t3({...t}){return T.jsx(n1,{"data-slot":"dialog-portal",...t})}function n3({className:t,...e}){return T.jsx(r1,{"data-slot":"dialog-overlay",className:bn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function tu({className:t,children:e,...n}){return T.jsxs(t3,{"data-slot":"dialog-portal",children:[T.jsx(n3,{}),T.jsxs(i1,{"data-slot":"dialog-content",className:bn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,T.jsxs(z_,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[T.jsx(L2,{}),T.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function nu({className:t,...e}){return T.jsx("div",{"data-slot":"dialog-header",className:bn("flex flex-col gap-2 text-center sm:text-left",t),...e})}function ru({className:t,...e}){return T.jsx(a1,{"data-slot":"dialog-title",className:bn("text-lg leading-none font-semibold",t),...e})}function kr({className:t,type:e,...n}){return T.jsx("input",{type:e,"data-slot":"input",className:bn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}function r3(){const[t,e]=S.useState(""),[n,r]=S.useState(""),[s,l]=S.useState(!1),[c,d]=S.useState(!1),m=async()=>{if(t.length!==6||n.length!==6){alert("ID とプレイヤーPW は 6桁です");return}l(!0);try{const g=rr(Mt,"groups",t),y=await aa(g);if(!y.exists())throw new Error("グループが存在しません");if(y.data().playerPassword!==n)throw new Error("プレイヤーパスワードが違います");await Sm(g,{playerUids:EC(Nt.currentUser.uid)});const w=rr(Mt,"groups",t.trim(),"players",Nt.currentUser.uid);(await aa(w)).exists()||await I_(w,{displayName:Nt.currentUser.displayName??"Anonymous"}),alert("グループに参加しました！"),e(""),r(""),d(!1)}catch(g){const y=g instanceof Er||g instanceof Error?g.message:"不明なエラー";alert(y)}finally{l(!1)}};return T.jsxs(eu,{open:c,onOpenChange:d,children:[T.jsx(lf,{asChild:!0,children:T.jsx(Ct,{variant:"outline",children:"グループに参加"})}),T.jsxs(tu,{children:[T.jsx(nu,{children:T.jsx(ru,{children:"プレイヤー参加"})}),T.jsx(kr,{placeholder:"グループID (6桁)",value:t,onChange:g=>e(g.target.value),maxLength:6}),T.jsx(kr,{placeholder:"プレイヤーPW (6桁)",value:n,onChange:g=>r(g.target.value),type:"password",maxLength:6}),T.jsxs(Ct,{onClick:m,disabled:s,children:[s&&T.jsx(Kc,{className:"mr-2 h-4 w-4 animate-spin"}),"参加する"]})]})]})}function s1({id:t,name:e,role:n,to:r}){return T.jsx(Js,{to:r,className:"block rounded-lg border p-4 shadow hover:bg-slate-50",children:T.jsxs(WA,{className:"hover:shadow-lg transition-shadow",children:[T.jsxs(l2,{className:"flex flex-row items-center justify-between",children:[T.jsx("h3",{className:"font-semibold text-lg",children:e}),T.jsx(S2,{className:"h-4 w-4 text-slate-500"})]}),T.jsxs(KA,{children:[T.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",t]}),n&&T.jsx("span",{className:n==="owner"?"rounded-full bg-blue-600 px-3 py-1 text-xs font-medium text-white":"rounded-full bg-slate-300 px-3 py-1 text-xs font-medium text-slate-800",children:n==="owner"?"Owner":"Admin"})]})]})})}function oo({level:t=1,className:e,...n}){const r=`h${t}`,s="scroll-m-20 tracking-tight text-slate-800",l={1:"text-4xl font-extrabold lg:text-5xl",2:"text-2xl font-bold lg:text-3xl",3:"text-xl font-semibold lg:text-2xl",4:"text-lg font-medium lg:text-xl"};return T.jsx(r,{className:bn(s,l[t],e),...n})}function i3(){const[t,e]=S.useState([]),n=Fl();return S.useEffect(()=>{Nt.currentUser||n("/")},[]),S.useEffect(()=>{var c;const r=(c=Nt.currentUser)==null?void 0:c.uid;if(!r)return;const s=jh(ra(Mt,"groups"),x_("playerUids","array-contains",r));return Lc(s,d=>{const m=d.docs.map(g=>({id:g.id,name:g.data().name}));e(m)})},[]),T.jsxs("main",{className:"container mx-auto max-w-2xl py-10 space-y-8",children:[T.jsx(oo,{level:2,children:"プレイヤーダッシュボード"}),T.jsxs("section",{children:[T.jsx(oo,{level:3,className:"mb-3",children:"グループ一覧"}),t.length===0?T.jsx("p",{className:"text-muted-foreground",children:"まだ参加していません。"}):T.jsx("div",{className:"grid gap-4",children:t.map(r=>T.jsx(s1,{id:r.id,name:r.name,to:`/player/group/${r.id}`},r.id))})]}),T.jsx("div",{className:"flex gap-4 mt-10",children:T.jsx(r3,{})})]})}function a3(){var r;const[t,e]=S.useState(null),n=(r=Nt.currentUser)==null?void 0:r.uid;return S.useEffect(()=>{if(!n)return;const s=rr(Mt,"users",n);return(async()=>{var d;(await aa(s)).exists()||await I_(s,{displayName:((d=Nt.currentUser)==null?void 0:d.displayName)??"Anonymous",createdAt:O_()})})(),Lc(s,c=>{var d;e(((d=c.data())==null?void 0:d.displayName)??"Anonymous")})},[n]),{name:t}}function s3(){const[t,e]=S.useState(!1),{name:n}=a3(),[r,s]=S.useState(""),l=async()=>{r.trim()&&(await Sm(rr(Mt,"users",Nt.currentUser.uid),{displayName:r.trim()}),s(""),e(!1))};return T.jsxs(eu,{open:t,onOpenChange:e,children:[T.jsx(lf,{asChild:!0,children:T.jsx(Ct,{variant:"outline",children:"プロフィール変更"})}),T.jsxs(tu,{children:[T.jsx(nu,{children:T.jsx(ru,{children:"表示名を変更"})}),T.jsx(kr,{placeholder:n??"Anonymous",value:r,onChange:c=>s(c.target.value)}),T.jsx(Ct,{onClick:l,children:"保存"})]})]})}const o1=6048e5,o3=864e5,l1=6e4,u1=36e5,VS=Symbol.for("constructDateFrom");function oa(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&VS in t?t[VS](e):t instanceof Date?new t.constructor(e):new Date(e)}function qn(t,e){return oa(e||t,t)}let l3={};function Cm(){return l3}function jc(t,e){var d,m,g,y;const n=Cm(),r=(e==null?void 0:e.weekStartsOn)??((m=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,s=qn(t,e==null?void 0:e.in),l=s.getDay(),c=(l<r?7:0)+l-r;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function Bh(t,e){return jc(t,{...e,weekStartsOn:1})}function c1(t,e){const n=qn(t,e==null?void 0:e.in),r=n.getFullYear(),s=oa(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const l=Bh(s),c=oa(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const d=Bh(c);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function LS(t){const e=qn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function u3(t,...e){const n=oa.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function jS(t,e){const n=qn(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function c3(t,e,n){const[r,s]=u3(n==null?void 0:n.in,t,e),l=jS(r),c=jS(s),d=+l-LS(l),m=+c-LS(c);return Math.round((d-m)/o3)}function f3(t,e){const n=c1(t,e),r=oa(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Bh(r)}function d3(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function f1(t){return!(!d3(t)&&typeof t!="number"||isNaN(+qn(t)))}function h3(t,e){const n=qn(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const m3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},g3=(t,e,n)=>{let r;const s=m3[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function fy(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const p3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},y3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},v3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_3={date:fy({formats:p3,defaultWidth:"full"}),time:fy({formats:y3,defaultWidth:"full"}),dateTime:fy({formats:v3,defaultWidth:"full"})},w3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},b3=(t,e,n,r)=>w3[t];function dc(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,d=n!=null&&n.width?String(n.width):c;s=t.formattingValues[d]||t.formattingValues[c]}else{const c=t.defaultWidth,d=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[d]||t.values[c]}const l=t.argumentCallback?t.argumentCallback(e):e;return s[l]}}const E3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},T3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},S3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},A3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},x3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},R3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},C3=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},D3={ordinalNumber:C3,era:dc({values:E3,defaultWidth:"wide"}),quarter:dc({values:T3,defaultWidth:"wide",argumentCallback:t=>t-1}),month:dc({values:S3,defaultWidth:"wide"}),day:dc({values:A3,defaultWidth:"wide"}),dayPeriod:dc({values:x3,defaultWidth:"wide",formattingValues:R3,defaultFormattingWidth:"wide"})};function hc(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],l=e.match(s);if(!l)return null;const c=l[0],d=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],m=Array.isArray(d)?O3(d,_=>_.test(c)):I3(d,_=>_.test(c));let g;g=t.valueCallback?t.valueCallback(m):m,g=n.valueCallback?n.valueCallback(g):g;const y=e.slice(c.length);return{value:g,rest:y}}}function I3(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function O3(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function N3(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],l=e.match(t.parsePattern);if(!l)return null;let c=t.valueCallback?t.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(s.length);return{value:c,rest:d}}}const M3=/^(\d+)(th|st|nd|rd)?/i,P3=/\d+/i,k3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},V3={any:[/^b/i,/^(a|c)/i]},L3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},j3={any:[/1/i,/2/i,/3/i,/4/i]},U3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},z3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},B3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},F3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},q3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},H3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},G3={ordinalNumber:N3({matchPattern:M3,parsePattern:P3,valueCallback:t=>parseInt(t,10)}),era:hc({matchPatterns:k3,defaultMatchWidth:"wide",parsePatterns:V3,defaultParseWidth:"any"}),quarter:hc({matchPatterns:L3,defaultMatchWidth:"wide",parsePatterns:j3,defaultParseWidth:"any",valueCallback:t=>t+1}),month:hc({matchPatterns:U3,defaultMatchWidth:"wide",parsePatterns:z3,defaultParseWidth:"any"}),day:hc({matchPatterns:B3,defaultMatchWidth:"wide",parsePatterns:F3,defaultParseWidth:"any"}),dayPeriod:hc({matchPatterns:q3,defaultMatchWidth:"any",parsePatterns:H3,defaultParseWidth:"any"})},$3={code:"en-US",formatDistance:g3,formatLong:_3,formatRelative:b3,localize:D3,match:G3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Y3(t,e){const n=qn(t,e==null?void 0:e.in);return c3(n,h3(n))+1}function W3(t,e){const n=qn(t,e==null?void 0:e.in),r=+Bh(n)-+f3(n);return Math.round(r/o1)+1}function d1(t,e){var y,_,w,A;const n=qn(t,e==null?void 0:e.in),r=n.getFullYear(),s=Cm(),l=(e==null?void 0:e.firstWeekContainsDate)??((_=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??s.firstWeekContainsDate??((A=(w=s.locale)==null?void 0:w.options)==null?void 0:A.firstWeekContainsDate)??1,c=oa((e==null?void 0:e.in)||t,0);c.setFullYear(r+1,0,l),c.setHours(0,0,0,0);const d=jc(c,e),m=oa((e==null?void 0:e.in)||t,0);m.setFullYear(r,0,l),m.setHours(0,0,0,0);const g=jc(m,e);return+n>=+d?r+1:+n>=+g?r:r-1}function K3(t,e){var d,m,g,y;const n=Cm(),r=(e==null?void 0:e.firstWeekContainsDate)??((m=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,s=d1(t,e),l=oa((e==null?void 0:e.in)||t,0);return l.setFullYear(s,0,r),l.setHours(0,0,0,0),jc(l,e)}function Q3(t,e){const n=qn(t,e==null?void 0:e.in),r=+jc(n,e)-+K3(n,e);return Math.round(r/o1)+1}function $e(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Fa={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return $e(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):$e(n+1,2)},d(t,e){return $e(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return $e(t.getHours()%12||12,e.length)},H(t,e){return $e(t.getHours(),e.length)},m(t,e){return $e(t.getMinutes(),e.length)},s(t,e){return $e(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return $e(s,e.length)}},hl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},US={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Fa.y(t,e)},Y:function(t,e,n,r){const s=d1(t,r),l=s>0?s:1-s;if(e==="YY"){const c=l%100;return $e(c,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):$e(l,e.length)},R:function(t,e){const n=c1(t);return $e(n,e.length)},u:function(t,e){const n=t.getFullYear();return $e(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return $e(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return $e(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Fa.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return $e(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=Q3(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):$e(s,e.length)},I:function(t,e,n){const r=W3(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):$e(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Fa.d(t,e)},D:function(t,e,n){const r=Y3(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):$e(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),l=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return $e(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),l=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return $e(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return $e(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=hl.noon:r===0?s=hl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=hl.evening:r>=12?s=hl.afternoon:r>=4?s=hl.morning:s=hl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Fa.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Fa.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):$e(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):$e(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Fa.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Fa.s(t,e)},S:function(t,e){return Fa.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return BS(r);case"XXXX":case"XX":return Qs(r);case"XXXXX":case"XXX":default:return Qs(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return BS(r);case"xxxx":case"xx":return Qs(r);case"xxxxx":case"xxx":default:return Qs(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+zS(r,":");case"OOOO":default:return"GMT"+Qs(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+zS(r,":");case"zzzz":default:return"GMT"+Qs(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return $e(r,e.length)},T:function(t,e,n){return $e(+t,e.length)}};function zS(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),l=r%60;return l===0?n+String(s):n+String(s)+e+$e(l,2)}function BS(t,e){return t%60===0?(t>0?"-":"+")+$e(Math.abs(t)/60,2):Qs(t,e)}function Qs(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=$e(Math.trunc(r/60),2),l=$e(r%60,2);return n+s+e+l}const FS=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},h1=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},X3=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return FS(t,e);let l;switch(r){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",FS(r,e)).replace("{{time}}",h1(s,e))},Z3={p:h1,P:X3},J3=/^D+$/,e9=/^Y+$/,t9=["D","DD","YY","YYYY"];function n9(t){return J3.test(t)}function r9(t){return e9.test(t)}function i9(t,e,n){const r=a9(t,e,n);if(console.warn(r),t9.includes(t))throw new RangeError(r)}function a9(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const s9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,o9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,l9=/^'([^]*?)'?$/,u9=/''/g,c9=/[a-zA-Z]/;function f9(t,e,n){var y,_,w,A;const r=Cm(),s=r.locale??$3,l=r.firstWeekContainsDate??((_=(y=r.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??1,c=r.weekStartsOn??((A=(w=r.locale)==null?void 0:w.options)==null?void 0:A.weekStartsOn)??0,d=qn(t,n==null?void 0:n.in);if(!f1(d))throw new RangeError("Invalid time value");let m=e.match(o9).map(x=>{const D=x[0];if(D==="p"||D==="P"){const I=Z3[D];return I(x,s.formatLong)}return x}).join("").match(s9).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const D=x[0];if(D==="'")return{isToken:!1,value:d9(x)};if(US[D])return{isToken:!0,value:x};if(D.match(c9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(m=s.localize.preprocessor(d,m));const g={firstWeekContainsDate:l,weekStartsOn:c,locale:s};return m.map(x=>{if(!x.isToken)return x.value;const D=x.value;(r9(D)||n9(D))&&i9(D,e,String(t));const I=US[D[0]];return I(d,D,s.localize,g)}).join("")}function d9(t){const e=t.match(l9);return e?e[1].replace(u9,"'"):t}function qS(t,e){const n=qn(t,e==null?void 0:e.in);if(isNaN(+n))throw new RangeError("Invalid time value");const r=(e==null?void 0:e.format)??"extended",s=(e==null?void 0:e.representation)??"complete";let l="",c="";const d=r==="extended"?"-":"",m=r==="extended"?":":"";if(s!=="time"){const g=$e(n.getDate(),2),y=$e(n.getMonth()+1,2);l=`${$e(n.getFullYear(),4)}${d}${y}${d}${g}`}if(s!=="date"){const g=n.getTimezoneOffset();if(g!==0){const D=Math.abs(g),I=$e(Math.trunc(D/60),2),P=$e(D%60,2);c=`${g<0?"+":"-"}${I}:${P}`}else c="Z";const y=$e(n.getHours(),2),_=$e(n.getMinutes(),2),w=$e(n.getSeconds(),2),A=l===""?"":"T",x=[y,_,w].join(m);l=`${l}${A}${x}${c}`}return l}function h9(t,e){const n=()=>oa(e==null?void 0:e.in,NaN),s=y9(t);let l;if(s.date){const g=v9(s.date,2);l=_9(g.restDateString,g.year)}if(!l||isNaN(+l))return n();const c=+l;let d=0,m;if(s.time&&(d=w9(s.time),isNaN(d)))return n();if(s.timezone){if(m=b9(s.timezone),isNaN(m))return n()}else{const g=new Date(c+d),y=qn(0,e==null?void 0:e.in);return y.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),y.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),y}return qn(c+d+m,e==null?void 0:e.in)}const Kd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},m9=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,g9=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,p9=/^([+-])(\d{2})(?::?(\d{2}))?$/;function y9(t){const e={},n=t.split(Kd.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Kd.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Kd.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=Kd.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function v9(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,l=r[2]?parseInt(r[2]):null;return{year:l===null?s:l*100,restDateString:t.slice((r[1]||r[2]).length)}}function _9(t,e){if(e===null)return new Date(NaN);const n=t.match(m9);if(!n)return new Date(NaN);const r=!!n[4],s=mc(n[1]),l=mc(n[2])-1,c=mc(n[3]),d=mc(n[4]),m=mc(n[5])-1;if(r)return x9(e,d,m)?E9(e,d,m):new Date(NaN);{const g=new Date(0);return!S9(e,l,c)||!A9(e,s)?new Date(NaN):(g.setUTCFullYear(e,l,Math.max(s,c)),g)}}function mc(t){return t?parseInt(t):1}function w9(t){const e=t.match(g9);if(!e)return NaN;const n=dy(e[1]),r=dy(e[2]),s=dy(e[3]);return R9(n,r,s)?n*u1+r*l1+s*1e3:NaN}function dy(t){return t&&parseFloat(t.replace(",","."))||0}function b9(t){if(t==="Z")return 0;const e=t.match(p9);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return C9(r,s)?n*(r*u1+s*l1):NaN}function E9(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,l=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+l),r}const T9=[31,null,31,30,31,30,31,31,30,31,30,31];function m1(t){return t%400===0||t%4===0&&t%100!==0}function S9(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(T9[e]||(m1(t)?29:28))}function A9(t,e){return e>=1&&e<=(m1(t)?366:365)}function x9(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function R9(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function C9(t,e){return e>=0&&e<=59}function D9({gid:t}){const[e,n]=S.useState(!1),[r,s]=S.useState(""),[l,c]=S.useState(""),[d,m]=S.useState(""),[g,y]=S.useState(!1),_=async()=>{if(!f1(h9(r))){alert("日付を YYYY-MM-DD で入力してください");return}y(!0);try{const w=ra(Mt,"groups",t,"players",Nt.currentUser.uid,"reports");await IU(w,{date:r,uid:Nt.currentUser.uid,buyInBB:Number(l),endBB:Number(d),updatedAt:O_()}),alert("収支を報告しました"),s(""),c(""),m(""),n(!1)}finally{y(!1)}};return T.jsxs(eu,{open:e,onOpenChange:n,children:[T.jsx(lf,{asChild:!0,children:T.jsx(Ct,{variant:"outline",children:"収支報告"})}),T.jsxs(tu,{children:[T.jsx(nu,{children:T.jsx(ru,{children:"収支を報告"})}),T.jsx(kr,{type:"date",value:r,onChange:w=>s(w.target.value)}),T.jsx(kr,{placeholder:"バイイン (BB)",value:l,onChange:w=>c(w.target.value),type:"number"}),T.jsx(kr,{placeholder:"終了時スタック (BB)",value:d,onChange:w=>m(w.target.value),type:"number"}),T.jsxs(Ct,{onClick:_,disabled:g,children:[g&&T.jsx(Kc,{className:"mr-2 h-4 w-4 animate-spin"}),"保存"]})]})]})}function I9(){const{gid:t}=Yc(),e=Fl(),[n,r]=S.useState(null);return S.useEffect(()=>{t&&(async()=>{const s=await aa(rr(Mt,"groups",t));if(!s.exists()){alert("グループが見つかりません"),e("/player");return}r(s.data().name)})()},[t]),t?T.jsxs("main",{className:"container mx-auto max-w-md py-10 space-y-6",children:[T.jsxs(oo,{level:2,children:[n??"読み込み中..."," ",T.jsxs("span",{className:"text-sm",children:["(ID: ",t,")"]})]}),T.jsxs("div",{className:"flex flex-col gap-4",children:[T.jsx(s3,{}),T.jsx(D9,{gid:t}),T.jsx(Js,{to:`/player/group/${t}/reports`,className:"w-full",children:T.jsx(Ct,{variant:"outline",className:"w-full",children:"収支を確認する"})})]})]}):null}var hy,HS;function O9(){if(HS)return hy;HS=1;const t=(m,g,y,_)=>{if(y==="length"||y==="prototype"||y==="arguments"||y==="caller")return;const w=Object.getOwnPropertyDescriptor(m,y),A=Object.getOwnPropertyDescriptor(g,y);!e(w,A)&&_||Object.defineProperty(m,y,A)},e=function(m,g){return m===void 0||m.configurable||m.writable===g.writable&&m.enumerable===g.enumerable&&m.configurable===g.configurable&&(m.writable||m.value===g.value)},n=(m,g)=>{const y=Object.getPrototypeOf(g);y!==Object.getPrototypeOf(m)&&Object.setPrototypeOf(m,y)},r=(m,g)=>`/* Wrapped ${m}*/
${g}`,s=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),l=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),c=(m,g,y)=>{const _=y===""?"":`with ${y.trim()}() `,w=r.bind(null,_,g.toString());Object.defineProperty(w,"name",l),Object.defineProperty(m,"toString",{...s,value:w})};return hy=(m,g,{ignoreNonConfigurable:y=!1}={})=>{const{name:_}=m;for(const w of Reflect.ownKeys(g))t(m,g,w,y);return n(m,g),c(m,g,_),m},hy}var _c={exports:{}},my,GS;function N9(){return GS||(GS=1,my=()=>{const t={};return t.promise=new Promise((e,n)=>{t.resolve=e,t.reject=n}),t}),my}var Qd=_c.exports,$S;function M9(){return $S||($S=1,function(t,e){var n=Qd&&Qd.__awaiter||function(c,d,m,g){return new(m||(m=Promise))(function(y,_){function w(D){try{x(g.next(D))}catch(I){_(I)}}function A(D){try{x(g.throw(D))}catch(I){_(I)}}function x(D){D.done?y(D.value):new m(function(I){I(D.value)}).then(w,A)}x((g=g.apply(c,d||[])).next())})},r=Qd&&Qd.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(N9());function l(c,d="maxAge"){let m,g,y;const _=()=>n(this,void 0,void 0,function*(){if(m!==void 0)return;const x=D=>n(this,void 0,void 0,function*(){y=s.default();const I=D[1][d]-Date.now();if(I<=0){c.delete(D[0]),y.resolve();return}return m=D[0],g=setTimeout(()=>{c.delete(D[0]),y&&y.resolve()},I),typeof g.unref=="function"&&g.unref(),y.promise});try{for(const D of c)yield x(D)}catch{}m=void 0}),w=()=>{m=void 0,g!==void 0&&(clearTimeout(g),g=void 0),y!==void 0&&(y.reject(void 0),y=void 0)},A=c.set.bind(c);return c.set=(x,D)=>{c.has(x)&&c.delete(x);const I=A(x,D);return m&&m===x&&w(),_(),I},_(),c}e.default=l,t.exports=l,t.exports.default=l}(_c,_c.exports)),_c.exports}var gy,YS;function P9(){if(YS)return gy;YS=1;const t=O9(),e=M9(),n=new WeakMap,r=new WeakMap,s=(l,{cacheKey:c,cache:d=new Map,maxAge:m}={})=>{typeof m=="number"&&e(d);const g=function(...y){const _=c?c(y):y[0],w=d.get(_);if(w)return w.data;const A=l.apply(this,y);return d.set(_,{data:A,maxAge:m?Date.now()+m:Number.POSITIVE_INFINITY}),A};return t(g,l,{ignoreNonConfigurable:!0}),r.set(g,d),g};return s.decorator=(l={})=>(c,d,m)=>{const g=c[d];if(typeof g!="function")throw new TypeError("The decorated value must be a function");delete m.value,delete m.writable,m.get=function(){if(!n.has(this)){const y=s(g,l);return n.set(this,y),y}return n.get(this)}},s.clear=l=>{const c=r.get(l);if(!c)throw new TypeError("Can't clear a function that was not memoized!");if(typeof c.clear!="function")throw new TypeError("The cache Map can't be cleared!");c.clear()},gy=s,gy}var k9=P9();const g1=Kh(k9);function V9(t){return typeof t=="string"}function L9(t,e,n){return n.indexOf(t)===e}function j9(t){return t.toLowerCase()===t}function WS(t){return t.indexOf(",")===-1?t:t.split(",")}function rv(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return rv(n)}if(t.indexOf("@")!==-1){var r=t.split("@")[0],n=r===void 0?"":r;return rv(n)}if(t.indexOf("-")===-1||!j9(t))return t;var s=t.split("-"),l=s[0],c=s[1],d=c===void 0?"":c;return"".concat(l,"-").concat(d.toUpperCase())}function U9(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,r=n===void 0?!0:n,s=e.fallbackLocale,l=s===void 0?"en-US":s,c=[];if(typeof navigator<"u"){for(var d=navigator.languages||[],m=[],g=0,y=d;g<y.length;g++){var _=y[g];m=m.concat(WS(_))}var w=navigator.language,A=w&&WS(w);c=c.concat(m,A)}return r&&c.push(l),c.filter(V9).map(rv).filter(L9)}var z9=g1(U9,{cacheKey:JSON.stringify});function B9(t){return z9(t)[0]||null}var p1=g1(B9,{cacheKey:JSON.stringify});function ca(t,e,n){return function(s,l){l===void 0&&(l=n);var c=t(s)+l;return e(c)}}function uf(t){return function(n){return new Date(t(n).getTime()-1)}}function cf(t,e){return function(r){return[t(r),e(r)]}}function wt(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;var e=parseInt(t,10);if(typeof t=="string"&&!isNaN(e))return e;throw new Error("Failed to get year from date: ".concat(t,"."))}function ms(t){if(t instanceof Date)return t.getMonth();throw new Error("Failed to get month from date: ".concat(t,"."))}function Dm(t){if(t instanceof Date)return t.getDate();throw new Error("Failed to get year from date: ".concat(t,"."))}function iu(t){var e=wt(t),n=e+(-e+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var F9=ca(wt,iu,-100),y1=ca(wt,iu,100),B_=uf(y1),q9=ca(wt,B_,-100),v1=cf(iu,B_);function gs(t){var e=wt(t),n=e+(-e+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var _1=ca(wt,gs,-10),F_=ca(wt,gs,10),Im=uf(F_),w1=ca(wt,Im,-10),b1=cf(gs,Im);function au(t){var e=wt(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}var E1=ca(wt,au,-1),q_=ca(wt,au,1),Om=uf(q_),T1=ca(wt,Om,-1),H9=cf(au,Om);function H_(t,e){return function(r,s){s===void 0&&(s=e);var l=wt(r),c=ms(r)+s,d=new Date;return d.setFullYear(l,c,1),d.setHours(0,0,0,0),t(d)}}function mo(t){var e=wt(t),n=ms(t),r=new Date;return r.setFullYear(e,n,1),r.setHours(0,0,0,0),r}var S1=H_(mo,-1),G_=H_(mo,1),ff=uf(G_),A1=H_(ff,-1),G9=cf(mo,ff);function $9(t,e){return function(r,s){s===void 0&&(s=e);var l=wt(r),c=ms(r),d=Dm(r)+s,m=new Date;return m.setFullYear(l,c,d),m.setHours(0,0,0,0),t(m)}}function df(t){var e=wt(t),n=ms(t),r=Dm(t),s=new Date;return s.setFullYear(e,n,r),s.setHours(0,0,0,0),s}var Y9=$9(df,1),$_=uf(Y9),W9=cf(df,$_);function x1(t){return Dm(ff(t))}var _n={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},K9={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Y_=[0,1,2,3,4,5,6],py=new Map;function Q9(t){return function(n,r){var s=n||p1();py.has(s)||py.set(s,new Map);var l=py.get(s);return l.has(t)||l.set(t,new Intl.DateTimeFormat(s||void 0,t).format),l.get(t)(r)}}function X9(t){var e=new Date(t);return new Date(e.setHours(12))}function go(t){return function(e,n){return Q9(t)(e,X9(n))}}var Z9={day:"numeric"},J9={day:"numeric",month:"long",year:"numeric"},ez={month:"long"},tz={month:"long",year:"numeric"},nz={weekday:"short"},rz={weekday:"long"},iz={year:"numeric"},az=go(Z9),sz=go(J9),oz=go(ez),R1=go(tz),lz=go(nz),uz=go(rz),Nm=go(iz),cz=Y_[0],fz=Y_[5],KS=Y_[6];function Uc(t,e){e===void 0&&(e=_n.ISO_8601);var n=t.getDay();switch(e){case _n.ISO_8601:return(n+6)%7;case _n.ISLAMIC:return(n+1)%7;case _n.HEBREW:case _n.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function dz(t){var e=iu(t);return wt(e)}function hz(t){var e=gs(t);return wt(e)}function iv(t,e){e===void 0&&(e=_n.ISO_8601);var n=wt(t),r=ms(t),s=t.getDate()-Uc(t,e);return new Date(n,r,s)}function mz(t,e){e===void 0&&(e=_n.ISO_8601);var n=e===_n.GREGORY?_n.GREGORY:_n.ISO_8601,r=iv(t,e),s=wt(t)+1,l,c;do l=new Date(s,0,n===_n.ISO_8601?4:1),c=iv(l,e),s-=1;while(t<c);return Math.round((r.getTime()-c.getTime())/(864e5*7))+1}function to(t,e){switch(t){case"century":return iu(e);case"decade":return gs(e);case"year":return au(e);case"month":return mo(e);case"day":return df(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function gz(t,e){switch(t){case"century":return F9(e);case"decade":return _1(e);case"year":return E1(e);case"month":return S1(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function C1(t,e){switch(t){case"century":return y1(e);case"decade":return F_(e);case"year":return q_(e);case"month":return G_(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function pz(t,e){switch(t){case"decade":return _1(e,-100);case"year":return E1(e,-10);case"month":return S1(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function yz(t,e){switch(t){case"decade":return F_(e,100);case"year":return q_(e,10);case"month":return G_(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function D1(t,e){switch(t){case"century":return B_(e);case"decade":return Im(e);case"year":return Om(e);case"month":return ff(e);case"day":return $_(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function vz(t,e){switch(t){case"century":return q9(e);case"decade":return w1(e);case"year":return T1(e);case"month":return A1(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function _z(t,e){switch(t){case"decade":return w1(e,-100);case"year":return T1(e,-10);case"month":return A1(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function QS(t,e){switch(t){case"century":return v1(e);case"decade":return b1(e);case"year":return H9(e);case"month":return G9(e);case"day":return W9(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function wz(t,e,n){var r=[e,n].sort(function(s,l){return s.getTime()-l.getTime()});return[to(t,r[0]),D1(t,r[1])]}function I1(t,e,n){return n.map(function(r){return(e||Nm)(t,r)}).join(" – ")}function bz(t,e,n){return I1(t,e,v1(n))}function O1(t,e,n){return I1(t,e,b1(n))}function Ez(t){return t.getDay()===new Date().getDay()}function N1(t,e){e===void 0&&(e=_n.ISO_8601);var n=t.getDay();switch(e){case _n.ISLAMIC:case _n.HEBREW:return n===fz||n===KS;case _n.ISO_8601:case _n.GREGORY:return n===KS||n===cz;default:throw new Error("Unsupported calendar type.")}}var ri="react-calendar__navigation";function Tz(t){var e=t.activeStartDate,n=t.drillUp,r=t.formatMonthYear,s=r===void 0?R1:r,l=t.formatYear,c=l===void 0?Nm:l,d=t.locale,m=t.maxDate,g=t.minDate,y=t.navigationAriaLabel,_=y===void 0?"":y,w=t.navigationAriaLive,A=t.navigationLabel,x=t.next2AriaLabel,D=x===void 0?"":x,I=t.next2Label,P=I===void 0?"»":I,q=t.nextAriaLabel,B=q===void 0?"":q,K=t.nextLabel,J=K===void 0?"›":K,le=t.prev2AriaLabel,M=le===void 0?"":le,R=t.prev2Label,N=R===void 0?"«":R,L=t.prevAriaLabel,U=L===void 0?"":L,z=t.prevLabel,k=z===void 0?"‹":z,xe=t.setActiveStartDate,be=t.showDoubleView,G=t.view,ue=t.views,Z=ue.indexOf(G)>0,ce=G!=="century",V=gz(G,e),te=ce?pz(G,e):void 0,fe=C1(G,e),re=ce?yz(G,e):void 0,he=function(){if(V.getFullYear()<0)return!0;var rt=vz(G,e);return g&&g>=rt}(),Se=ce&&function(){if(te.getFullYear()<0)return!0;var rt=_z(G,e);return g&&g>=rt}(),_e=m&&m<fe,Te=ce&&m&&m<re;function ke(){xe(V,"prev")}function qe(){xe(te,"prev2")}function bt(){xe(fe,"next")}function Pt(){xe(re,"next2")}function kt(rt){var Hn=function(){switch(G){case"century":return bz(d,c,rt);case"decade":return O1(d,c,rt);case"year":return c(d,rt);case"month":return s(d,rt);default:throw new Error("Invalid view: ".concat(G,"."))}}();return A?A({date:rt,label:Hn,locale:d||p1()||void 0,view:G}):Hn}function ln(){var rt="".concat(ri,"__label");return T.jsxs("button",{"aria-label":_,"aria-live":w,className:rt,disabled:!Z,onClick:n,style:{flexGrow:1},type:"button",children:[T.jsx("span",{className:"".concat(rt,"__labelText ").concat(rt,"__labelText--from"),children:kt(e)}),be?T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"".concat(rt,"__divider"),children:" – "}),T.jsx("span",{className:"".concat(rt,"__labelText ").concat(rt,"__labelText--to"),children:kt(fe)})]}):null]})}return T.jsxs("div",{className:ri,children:[N!==null&&ce?T.jsx("button",{"aria-label":M,className:"".concat(ri,"__arrow ").concat(ri,"__prev2-button"),disabled:Se,onClick:qe,type:"button",children:N}):null,k!==null&&T.jsx("button",{"aria-label":U,className:"".concat(ri,"__arrow ").concat(ri,"__prev-button"),disabled:he,onClick:ke,type:"button",children:k}),ln(),J!==null&&T.jsx("button",{"aria-label":B,className:"".concat(ri,"__arrow ").concat(ri,"__next-button"),disabled:_e,onClick:bt,type:"button",children:J}),P!==null&&ce?T.jsx("button",{"aria-label":D,className:"".concat(ri,"__arrow ").concat(ri,"__next2-button"),disabled:Te,onClick:Pt,type:"button",children:P}):null]})}var vl=function(){return vl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},vl.apply(this,arguments)},Sz=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};function XS(t){return"".concat(t,"%")}function W_(t){var e=t.children,n=t.className,r=t.count,s=t.direction,l=t.offset,c=t.style,d=t.wrap,m=Sz(t,["children","className","count","direction","offset","style","wrap"]);return T.jsx("div",vl({className:n,style:vl({display:"flex",flexDirection:s,flexWrap:d?"wrap":"nowrap"},c)},m,{children:S.Children.map(e,function(g,y){var _=l&&y===0?XS(100*l/r):null;return S.cloneElement(g,vl(vl({},g.props),{style:{flexBasis:XS(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:_,marginInlineStart:_,marginInlineEnd:0}}))})}))}function Az(t,e,n){return e&&e>t?e:n&&n<t?n:t}function zc(t,e){return e[0]<=t&&e[1]>=t}function xz(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function M1(t,e){return zc(t[0],e)||zc(t[1],e)}function ZS(t,e,n){var r=M1(e,t),s=[];if(r){s.push(n);var l=zc(t[0],e),c=zc(t[1],e);l&&s.push("".concat(n,"Start")),c&&s.push("".concat(n,"End")),l&&c&&s.push("".concat(n,"BothEnds"))}return s}function Rz(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function Cz(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,r=t.hover,s="react-calendar__tile",l=[s];if(!n)return l;var c=new Date,d=function(){if(Array.isArray(n))return n;var A=t.dateType;if(!A)throw new Error("dateType is required when date is not an array of two dates");return QS(A,n)}();if(zc(c,d)&&l.push("".concat(s,"--now")),!e||!Rz(e))return l;var m=function(){if(Array.isArray(e))return e;var A=t.valueType;if(!A)throw new Error("valueType is required when value is not an array of two dates");return QS(A,e)}();xz(m,d)?l.push("".concat(s,"--active")):M1(m,d)&&l.push("".concat(s,"--hasActive"));var g=ZS(m,d,"".concat(s,"--range"));l.push.apply(l,g);var y=Array.isArray(e)?e:[e];if(r&&y.length===1){var _=r>m[0]?[m[0],r]:[r,m[0]],w=ZS(_,d,"".concat(s,"--hover"));l.push.apply(l,w)}return l}function Mm(t){for(var e=t.className,n=t.count,r=n===void 0?3:n,s=t.dateTransform,l=t.dateType,c=t.end,d=t.hover,m=t.offset,g=t.renderTile,y=t.start,_=t.step,w=_===void 0?1:_,A=t.value,x=t.valueType,D=[],I=y;I<=c;I+=w){var P=s(I);D.push(g({classes:Cz({date:P,dateType:l,hover:d,value:A,valueType:x}),date:P}))}return T.jsx(W_,{className:e,count:r,offset:m,wrap:!0,children:D})}function Pm(t){var e=t.activeStartDate,n=t.children,r=t.classes,s=t.date,l=t.formatAbbr,c=t.locale,d=t.maxDate,m=t.maxDateTransform,g=t.minDate,y=t.minDateTransform,_=t.onClick,w=t.onMouseOver,A=t.style,x=t.tileClassName,D=t.tileContent,I=t.tileDisabled,P=t.view,q=S.useMemo(function(){var K={activeStartDate:e,date:s,view:P};return typeof x=="function"?x(K):x},[e,s,x,P]),B=S.useMemo(function(){var K={activeStartDate:e,date:s,view:P};return typeof D=="function"?D(K):D},[e,s,D,P]);return T.jsxs("button",{className:ql(r,q),disabled:g&&y(g)>s||d&&m(d)<s||(I==null?void 0:I({activeStartDate:e,date:s,view:P})),onClick:_?function(K){return _(s,K)}:void 0,onFocus:w?function(){return w(s)}:void 0,onMouseOver:w?function(){return w(s)}:void 0,style:A,type:"button",children:[l?T.jsx("abbr",{"aria-label":l(c,s),children:n}):n,B]})}var av=function(){return av=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},av.apply(this,arguments)},Dz=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n},JS="react-calendar__century-view__decades__decade";function Iz(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentCentury,s=t.formatYear,l=s===void 0?Nm:s,c=Dz(t,["classes","currentCentury","formatYear"]),d=c.date,m=c.locale,g=[];return n&&g.push.apply(g,n),g.push(JS),iu(d).getFullYear()!==r&&g.push("".concat(JS,"--neighboringCentury")),T.jsx(Pm,av({},c,{classes:g,maxDateTransform:Im,minDateTransform:gs,view:"century",children:O1(m,l,d)}))}var sv=function(){return sv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},sv.apply(this,arguments)},eA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};function Oz(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringCentury,s=t.value,l=t.valueType,c=eA(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),d=dz(e),m=d+(r?119:99);return T.jsx(Mm,{className:"react-calendar__century-view__decades",dateTransform:gs,dateType:"decade",end:m,hover:n,renderTile:function(g){var y=g.date,_=eA(g,["date"]);return T.jsx(Iz,sv({},c,_,{activeStartDate:e,currentCentury:d,date:y}),y.getTime())},start:d,step:10,value:s,valueType:l})}var ov=function(){return ov=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},ov.apply(this,arguments)};function Nz(t){function e(){return T.jsx(Oz,ov({},t))}return T.jsx("div",{className:"react-calendar__century-view",children:e()})}var lv=function(){return lv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},lv.apply(this,arguments)},Mz=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n},tA="react-calendar__decade-view__years__year";function Pz(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentDecade,s=t.formatYear,l=s===void 0?Nm:s,c=Mz(t,["classes","currentDecade","formatYear"]),d=c.date,m=c.locale,g=[];return n&&g.push.apply(g,n),g.push(tA),gs(d).getFullYear()!==r&&g.push("".concat(tA,"--neighboringDecade")),T.jsx(Pm,lv({},c,{classes:g,maxDateTransform:Om,minDateTransform:au,view:"decade",children:l(m,d)}))}var uv=function(){return uv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},uv.apply(this,arguments)},nA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};function kz(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringDecade,s=t.value,l=t.valueType,c=nA(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),d=hz(e),m=d+(r?11:9);return T.jsx(Mm,{className:"react-calendar__decade-view__years",dateTransform:au,dateType:"year",end:m,hover:n,renderTile:function(g){var y=g.date,_=nA(g,["date"]);return T.jsx(Pz,uv({},c,_,{activeStartDate:e,currentDecade:d,date:y}),y.getTime())},start:d,value:s,valueType:l})}var cv=function(){return cv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},cv.apply(this,arguments)};function Vz(t){function e(){return T.jsx(kz,cv({},t))}return T.jsx("div",{className:"react-calendar__decade-view",children:e()})}var fv=function(){return fv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},fv.apply(this,arguments)},Lz=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n},rA=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,l;r<s;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return t.concat(l||Array.prototype.slice.call(e))},jz="react-calendar__year-view__months__month";function Uz(t){var e=t.classes,n=e===void 0?[]:e,r=t.formatMonth,s=r===void 0?oz:r,l=t.formatMonthYear,c=l===void 0?R1:l,d=Lz(t,["classes","formatMonth","formatMonthYear"]),m=d.date,g=d.locale;return T.jsx(Pm,fv({},d,{classes:rA(rA([],n,!0),[jz],!1),formatAbbr:c,maxDateTransform:ff,minDateTransform:mo,view:"year",children:s(g,m)}))}var dv=function(){return dv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},dv.apply(this,arguments)},iA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};function zz(t){var e=t.activeStartDate,n=t.hover,r=t.value,s=t.valueType,l=iA(t,["activeStartDate","hover","value","valueType"]),c=0,d=11,m=wt(e);return T.jsx(Mm,{className:"react-calendar__year-view__months",dateTransform:function(g){var y=new Date;return y.setFullYear(m,g,1),mo(y)},dateType:"month",end:d,hover:n,renderTile:function(g){var y=g.date,_=iA(g,["date"]);return T.jsx(Uz,dv({},l,_,{activeStartDate:e,date:y}),y.getTime())},start:c,value:r,valueType:s})}var hv=function(){return hv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},hv.apply(this,arguments)};function Bz(t){function e(){return T.jsx(zz,hv({},t))}return T.jsx("div",{className:"react-calendar__year-view",children:e()})}var mv=function(){return mv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},mv.apply(this,arguments)},Fz=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n},yy="react-calendar__month-view__days__day";function qz(t){var e=t.calendarType,n=t.classes,r=n===void 0?[]:n,s=t.currentMonthIndex,l=t.formatDay,c=l===void 0?az:l,d=t.formatLongDate,m=d===void 0?sz:d,g=Fz(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),y=g.date,_=g.locale,w=[];return r&&w.push.apply(w,r),w.push(yy),N1(y,e)&&w.push("".concat(yy,"--weekend")),y.getMonth()!==s&&w.push("".concat(yy,"--neighboringMonth")),T.jsx(Pm,mv({},g,{classes:w,formatAbbr:m,maxDateTransform:$_,minDateTransform:df,view:"month",children:c(_,y)}))}var gv=function(){return gv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},gv.apply(this,arguments)},aA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};function Hz(t){var e=t.activeStartDate,n=t.calendarType,r=t.hover,s=t.showFixedNumberOfWeeks,l=t.showNeighboringMonth,c=t.value,d=t.valueType,m=aA(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),g=wt(e),y=ms(e),_=s||l,w=Uc(e,n),A=_?0:w,x=(_?-w:0)+1,D=function(){if(s)return x+6*7-1;var I=x1(e);if(l){var P=new Date;P.setFullYear(g,y,I),P.setHours(0,0,0,0);var q=7-Uc(P,n)-1;return I+q}return I}();return T.jsx(Mm,{className:"react-calendar__month-view__days",count:7,dateTransform:function(I){var P=new Date;return P.setFullYear(g,y,I),df(P)},dateType:"day",hover:r,end:D,renderTile:function(I){var P=I.date,q=aA(I,["date"]);return T.jsx(qz,gv({},m,q,{activeStartDate:e,calendarType:n,currentMonthIndex:y,date:P}),P.getTime())},offset:A,start:x,value:c,valueType:d})}var P1="react-calendar__month-view__weekdays",vy="".concat(P1,"__weekday");function Gz(t){for(var e=t.calendarType,n=t.formatShortWeekday,r=n===void 0?lz:n,s=t.formatWeekday,l=s===void 0?uz:s,c=t.locale,d=t.onMouseLeave,m=new Date,g=mo(m),y=wt(g),_=ms(g),w=[],A=1;A<=7;A+=1){var x=new Date(y,_,A-Uc(g,e)),D=l(c,x);w.push(T.jsx("div",{className:ql(vy,Ez(x)&&"".concat(vy,"--current"),N1(x,e)&&"".concat(vy,"--weekend")),children:T.jsx("abbr",{"aria-label":D,title:D,children:r(c,x).replace(".","")})},A))}return T.jsx(W_,{className:P1,count:7,onFocus:d,onMouseOver:d,children:w})}var Fh=function(){return Fh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Fh.apply(this,arguments)},sA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n},oA="react-calendar__tile";function $z(t){var e=t.onClickWeekNumber,n=t.weekNumber,r=T.jsx("span",{children:n});if(e){var s=t.date,l=t.onClickWeekNumber,c=t.weekNumber,d=sA(t,["date","onClickWeekNumber","weekNumber"]);return T.jsx("button",Fh({},d,{className:oA,onClick:function(m){return l(c,s,m)},type:"button",children:r}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var d=sA(t,["date","onClickWeekNumber","weekNumber"]);return T.jsx("div",Fh({},d,{className:oA,children:r}))}}function Yz(t){var e=t.activeStartDate,n=t.calendarType,r=t.onClickWeekNumber,s=t.onMouseLeave,l=t.showFixedNumberOfWeeks,c=function(){if(l)return 6;var g=x1(e),y=Uc(e,n),_=g-(7-y);return 1+Math.ceil(_/7)}(),d=function(){for(var g=wt(e),y=ms(e),_=Dm(e),w=[],A=0;A<c;A+=1)w.push(iv(new Date(g,y,_+A*7),n));return w}(),m=d.map(function(g){return mz(g,n)});return T.jsx(W_,{className:"react-calendar__month-view__weekNumbers",count:c,direction:"column",onFocus:s,onMouseOver:s,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:m.map(function(g,y){var _=d[y];if(!_)throw new Error("date is not defined");return T.jsx($z,{date:_,onClickWeekNumber:r,weekNumber:g},g)})})}var pv=function(){return pv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},pv.apply(this,arguments)},Wz=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};function Kz(t){if(t)for(var e=0,n=Object.entries(K9);e<n.length;e++){var r=n[e],s=r[0],l=r[1];if(l.includes(t))return s}return _n.ISO_8601}function Qz(t){var e=t.activeStartDate,n=t.locale,r=t.onMouseLeave,s=t.showFixedNumberOfWeeks,l=t.calendarType,c=l===void 0?Kz(n):l,d=t.formatShortWeekday,m=t.formatWeekday,g=t.onClickWeekNumber,y=t.showWeekNumbers,_=Wz(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function w(){return T.jsx(Gz,{calendarType:c,formatShortWeekday:d,formatWeekday:m,locale:n,onMouseLeave:r})}function A(){return y?T.jsx(Yz,{activeStartDate:e,calendarType:c,onClickWeekNumber:g,onMouseLeave:r,showFixedNumberOfWeeks:s}):null}function x(){return T.jsx(Hz,pv({calendarType:c},_))}var D="react-calendar__month-view";return T.jsx("div",{className:ql(D,y?"".concat(D,"--weekNumbers"):""),children:T.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[A(),T.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[w(),x()]})]})})}var _l=function(){return _l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},_l.apply(this,arguments)},Xd="react-calendar",mh=["century","decade","year","month"],Xz=["decade","year","month","day"],K_=new Date;K_.setFullYear(1,0,1);K_.setHours(0,0,0,0);var Zz=new Date(864e13);function wc(t){return t instanceof Date?t:new Date(t)}function k1(t,e){return mh.slice(mh.indexOf(t),mh.indexOf(e)+1)}function Jz(t,e,n){var r=k1(e,n);return r.indexOf(t)!==-1}function Q_(t,e,n){return t&&Jz(t,e,n)?t:n}function V1(t){var e=mh.indexOf(t);return Xz[e]}function eB(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var r=wc(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function L1(t,e){var n=t.value,r=t.minDate,s=t.maxDate,l=t.maxDetail,c=eB(n,e);if(!c)return null;var d=V1(l),m=function(){switch(e){case 0:return to(d,c);case 1:return D1(d,c);default:throw new Error("Invalid index value: ".concat(e))}}();return Az(m,r,s)}var X_=function(t){return L1(t,0)},j1=function(t){return L1(t,1)},tB=function(t){return[X_,j1].map(function(e){return e(t)})};function U1(t){var e=t.maxDate,n=t.maxDetail,r=t.minDate,s=t.minDetail,l=t.value,c=t.view,d=Q_(c,s,n),m=X_({value:l,minDate:r,maxDate:e,maxDetail:n})||new Date;return to(d,m)}function nB(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,r=t.defaultValue,s=t.defaultView,l=t.maxDate,c=t.maxDetail,d=t.minDate,m=t.minDetail,g=t.value,y=t.view,_=Q_(y,m,c),w=e||n;return w?to(_,w):U1({maxDate:l,maxDetail:c,minDate:d,minDetail:m,value:g||r,view:y||s})}function _y(t){return t&&(!Array.isArray(t)||t.length===1)}function Zd(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var rB=S.forwardRef(function(e,n){var r=e.activeStartDate,s=e.allowPartialRange,l=e.calendarType,c=e.className,d=e.defaultActiveStartDate,m=e.defaultValue,g=e.defaultView,y=e.formatDay,_=e.formatLongDate,w=e.formatMonth,A=e.formatMonthYear,x=e.formatShortWeekday,D=e.formatWeekday,I=e.formatYear,P=e.goToRangeStartOnSelect,q=P===void 0?!0:P,B=e.inputRef,K=e.locale,J=e.maxDate,le=J===void 0?Zz:J,M=e.maxDetail,R=M===void 0?"month":M,N=e.minDate,L=N===void 0?K_:N,U=e.minDetail,z=U===void 0?"century":U,k=e.navigationAriaLabel,xe=e.navigationAriaLive,be=e.navigationLabel,G=e.next2AriaLabel,ue=e.next2Label,Z=e.nextAriaLabel,ce=e.nextLabel,V=e.onActiveStartDateChange,te=e.onChange,fe=e.onClickDay,re=e.onClickDecade,he=e.onClickMonth,Se=e.onClickWeekNumber,_e=e.onClickYear,Te=e.onDrillDown,ke=e.onDrillUp,qe=e.onViewChange,bt=e.prev2AriaLabel,Pt=e.prev2Label,kt=e.prevAriaLabel,ln=e.prevLabel,rt=e.returnValue,Hn=rt===void 0?"start":rt,Gt=e.selectRange,$t=e.showDoubleView,da=e.showFixedNumberOfWeeks,Gn=e.showNavigation,ha=Gn===void 0?!0:Gn,yi=e.showNeighboringCentury,lu=e.showNeighboringDecade,vi=e.showNeighboringMonth,ps=vi===void 0?!0:vi,vo=e.showWeekNumbers,yt=e.tileClassName,tt=e.tileContent,On=e.tileDisabled,Vt=e.value,ys=e.view,_o=S.useState(d),_i=_o[0],ar=_o[1],zr=S.useState(null),$n=zr[0],wi=zr[1],Br=S.useState(Array.isArray(m)?m.map(function(Ie){return Ie!==null?wc(Ie):null}):m!=null?wc(m):null),bi=Br[0],vs=Br[1],ma=S.useState(g),Tr=ma[0],sr=ma[1],Lt=r||_i||nB({activeStartDate:r,defaultActiveStartDate:d,defaultValue:m,defaultView:g,maxDate:le,maxDetail:R,minDate:L,minDetail:z,value:Vt,view:ys}),gt=function(){var Ie=function(){return Gt&&_y(bi)?bi:Vt!==void 0?Vt:bi}();return Ie?Array.isArray(Ie)?Ie.map(function(Be){return Be!==null?wc(Be):null}):Ie!==null?wc(Ie):null:null}(),Fr=V1(R),Je=Q_(ys||Tr,z,R),un=k1(z,R),qr=Gt?$n:null,ga=un.indexOf(Je)<un.length-1,dt=un.indexOf(Je)>0,At=S.useCallback(function(Ie){var Be=function(){switch(Hn){case"start":return X_;case"end":return j1;case"range":return tB;default:throw new Error("Invalid returnValue.")}}();return Be({maxDate:le,maxDetail:R,minDate:L,value:Ie})},[le,R,L,Hn]),vt=S.useCallback(function(Ie,Be){ar(Ie);var Pe={action:Be,activeStartDate:Ie,value:gt,view:Je};V&&!Zd(Lt,Ie)&&V(Pe)},[Lt,V,gt,Je]),cn=S.useCallback(function(Ie,Be){var Pe=function(){switch(Je){case"century":return re;case"decade":return _e;case"year":return he;case"month":return fe;default:throw new Error("Invalid view: ".concat(Je,"."))}}();Pe&&Pe(Ie,Be)},[fe,re,he,_e,Je]),Ei=S.useCallback(function(Ie,Be){if(ga){cn(Ie,Be);var Pe=un[un.indexOf(Je)+1];if(!Pe)throw new Error("Attempted to drill down from the lowest view.");ar(Ie),sr(Pe);var fn={action:"drillDown",activeStartDate:Ie,value:gt,view:Pe};V&&!Zd(Lt,Ie)&&V(fn),qe&&Je!==Pe&&qe(fn),Te&&Te(fn)}},[Lt,ga,V,cn,Te,qe,gt,Je,un]),_s=S.useCallback(function(){if(dt){var Ie=un[un.indexOf(Je)-1];if(!Ie)throw new Error("Attempted to drill up from the highest view.");var Be=to(Ie,Lt);ar(Be),sr(Ie);var Pe={action:"drillUp",activeStartDate:Be,value:gt,view:Ie};V&&!Zd(Lt,Be)&&V(Pe),qe&&Je!==Ie&&qe(Pe),ke&&ke(Pe)}},[Lt,dt,V,ke,qe,gt,Je,un]),or=S.useCallback(function(Ie,Be){var Pe=gt;cn(Ie,Be);var fn=Gt&&!_y(Pe),en;if(Gt)if(fn)en=to(Fr,Ie);else{if(!Pe)throw new Error("previousValue is required");if(Array.isArray(Pe))throw new Error("previousValue must not be an array");en=wz(Fr,Pe,Ie)}else en=At(Ie);var Nn=!Gt||fn||q?U1({maxDate:le,maxDetail:R,minDate:L,minDetail:z,value:en,view:Je}):null;Be.persist(),ar(Nn),vs(en);var Rr={action:"onChange",activeStartDate:Nn,value:en,view:Je};if(V&&!Zd(Lt,Nn)&&V(Rr),te)if(Gt){var bo=_y(en);if(!bo)te(en||null,Be);else if(s){if(Array.isArray(en))throw new Error("value must not be an array");te([en||null,null],Be)}}else te(en||null,Be)},[Lt,s,At,q,le,R,L,z,V,te,cn,Gt,gt,Fr,Je]);function wo(Ie){wi(Ie)}function Sr(){wi(null)}S.useImperativeHandle(n,function(){return{activeStartDate:Lt,drillDown:Ei,drillUp:_s,onChange:or,setActiveStartDate:vt,value:gt,view:Je}},[Lt,Ei,_s,or,vt,gt,Je]);function Ar(Ie){var Be=Ie?C1(Je,Lt):to(Je,Lt),Pe=ga?Ei:or,fn={activeStartDate:Be,hover:qr,locale:K,maxDate:le,minDate:L,onClick:Pe,onMouseOver:Gt?wo:void 0,tileClassName:yt,tileContent:tt,tileDisabled:On,value:gt,valueType:Fr};switch(Je){case"century":return T.jsx(Nz,_l({formatYear:I,showNeighboringCentury:yi},fn));case"decade":return T.jsx(Vz,_l({formatYear:I,showNeighboringDecade:lu},fn));case"year":return T.jsx(Bz,_l({formatMonth:w,formatMonthYear:A},fn));case"month":return T.jsx(Qz,_l({calendarType:l,formatDay:y,formatLongDate:_,formatShortWeekday:x,formatWeekday:D,onClickWeekNumber:Se,onMouseLeave:Gt?Sr:void 0,showFixedNumberOfWeeks:typeof da<"u"?da:$t,showNeighboringMonth:ps,showWeekNumbers:vo},fn));default:throw new Error("Invalid view: ".concat(Je,"."))}}function xr(){return ha?T.jsx(Tz,{activeStartDate:Lt,drillUp:_s,formatMonthYear:A,formatYear:I,locale:K,maxDate:le,minDate:L,navigationAriaLabel:k,navigationAriaLive:xe,navigationLabel:be,next2AriaLabel:G,next2Label:ue,nextAriaLabel:Z,nextLabel:ce,prev2AriaLabel:bt,prev2Label:Pt,prevAriaLabel:kt,prevLabel:ln,setActiveStartDate:vt,showDoubleView:$t,view:Je,views:un}):null}var lr=Array.isArray(gt)?gt:[gt];return T.jsxs("div",{className:ql(Xd,Gt&&lr.length===1&&"".concat(Xd,"--selectRange"),$t&&"".concat(Xd,"--doubleView"),c),ref:B,children:[xr(),T.jsxs("div",{className:"".concat(Xd,"__viewContainer"),onBlur:Gt?Sr:void 0,onMouseLeave:Gt?Sr:void 0,children:[Ar(),$t?Ar(!0):null]})]})});function z1(t){const e=t+"CollectionProvider",[n,r]=ho(e),[s,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=D=>{const{scope:I,children:P}=D,q=xn.useRef(null),B=xn.useRef(new Map).current;return T.jsx(s,{scope:I,itemMap:B,collectionRef:q,children:P})};c.displayName=e;const d=t+"CollectionSlot",m=Cl(d),g=xn.forwardRef((D,I)=>{const{scope:P,children:q}=D,B=l(d,P),K=qt(I,B.collectionRef);return T.jsx(m,{ref:K,children:q})});g.displayName=d;const y=t+"CollectionItemSlot",_="data-radix-collection-item",w=Cl(y),A=xn.forwardRef((D,I)=>{const{scope:P,children:q,...B}=D,K=xn.useRef(null),J=qt(I,K),le=l(y,P);return xn.useEffect(()=>(le.itemMap.set(K,{ref:K,...B}),()=>void le.itemMap.delete(K))),T.jsx(w,{[_]:"",ref:J,children:q})});A.displayName=y;function x(D){const I=l(t+"CollectionConsumer",D);return xn.useCallback(()=>{const q=I.collectionRef.current;if(!q)return[];const B=Array.from(q.querySelectorAll(`[${_}]`));return Array.from(I.itemMap.values()).sort((le,M)=>B.indexOf(le.ref.current)-B.indexOf(M.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:c,Slot:g,ItemSlot:A},x,r]}var iB=S.createContext(void 0);function B1(t){const e=S.useContext(iB);return t||e||"ltr"}const aB=["top","right","bottom","left"],os=Math.min,tr=Math.max,qh=Math.round,Jd=Math.floor,ui=t=>({x:t,y:t}),sB={left:"right",right:"left",bottom:"top",top:"bottom"},oB={start:"end",end:"start"};function yv(t,e,n){return tr(t,os(e,n))}function la(t,e){return typeof t=="function"?t(e):t}function ua(t){return t.split("-")[0]}function su(t){return t.split("-")[1]}function Z_(t){return t==="x"?"y":"x"}function J_(t){return t==="y"?"height":"width"}function Xi(t){return["top","bottom"].includes(ua(t))?"y":"x"}function ew(t){return Z_(Xi(t))}function lB(t,e,n){n===void 0&&(n=!1);const r=su(t),s=ew(t),l=J_(s);let c=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Hh(c)),[c,Hh(c)]}function uB(t){const e=Hh(t);return[vv(t),e,vv(e)]}function vv(t){return t.replace(/start|end/g,e=>oB[e])}function cB(t,e,n){const r=["left","right"],s=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?l:c;default:return[]}}function fB(t,e,n,r){const s=su(t);let l=cB(ua(t),n==="start",r);return s&&(l=l.map(c=>c+"-"+s),e&&(l=l.concat(l.map(vv)))),l}function Hh(t){return t.replace(/left|right|bottom|top/g,e=>sB[e])}function dB(t){return{top:0,right:0,bottom:0,left:0,...t}}function F1(t){return typeof t!="number"?dB(t):{top:t,right:t,bottom:t,left:t}}function Gh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function lA(t,e,n){let{reference:r,floating:s}=t;const l=Xi(e),c=ew(e),d=J_(c),m=ua(e),g=l==="y",y=r.x+r.width/2-s.width/2,_=r.y+r.height/2-s.height/2,w=r[d]/2-s[d]/2;let A;switch(m){case"top":A={x:y,y:r.y-s.height};break;case"bottom":A={x:y,y:r.y+r.height};break;case"right":A={x:r.x+r.width,y:_};break;case"left":A={x:r.x-s.width,y:_};break;default:A={x:r.x,y:r.y}}switch(su(e)){case"start":A[c]-=w*(n&&g?-1:1);break;case"end":A[c]+=w*(n&&g?-1:1);break}return A}const hB=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:l=[],platform:c}=n,d=l.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(e));let g=await c.getElementRects({reference:t,floating:e,strategy:s}),{x:y,y:_}=lA(g,r,m),w=r,A={},x=0;for(let D=0;D<d.length;D++){const{name:I,fn:P}=d[D],{x:q,y:B,data:K,reset:J}=await P({x:y,y:_,initialPlacement:r,placement:w,strategy:s,middlewareData:A,rects:g,platform:c,elements:{reference:t,floating:e}});y=q??y,_=B??_,A={...A,[I]:{...A[I],...K}},J&&x<=50&&(x++,typeof J=="object"&&(J.placement&&(w=J.placement),J.rects&&(g=J.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:s}):J.rects),{x:y,y:_}=lA(g,w,m)),D=-1)}return{x:y,y:_,placement:w,strategy:s,middlewareData:A}};async function Bc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:l,rects:c,elements:d,strategy:m}=t,{boundary:g="clippingAncestors",rootBoundary:y="viewport",elementContext:_="floating",altBoundary:w=!1,padding:A=0}=la(e,t),x=F1(A),I=d[w?_==="floating"?"reference":"floating":_],P=Gh(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(I)))==null||n?I:I.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:g,rootBoundary:y,strategy:m})),q=_==="floating"?{x:r,y:s,width:c.floating.width,height:c.floating.height}:c.reference,B=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),K=await(l.isElement==null?void 0:l.isElement(B))?await(l.getScale==null?void 0:l.getScale(B))||{x:1,y:1}:{x:1,y:1},J=Gh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:q,offsetParent:B,strategy:m}):q);return{top:(P.top-J.top+x.top)/K.y,bottom:(J.bottom-P.bottom+x.bottom)/K.y,left:(P.left-J.left+x.left)/K.x,right:(J.right-P.right+x.right)/K.x}}const mB=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:l,platform:c,elements:d,middlewareData:m}=e,{element:g,padding:y=0}=la(t,e)||{};if(g==null)return{};const _=F1(y),w={x:n,y:r},A=ew(s),x=J_(A),D=await c.getDimensions(g),I=A==="y",P=I?"top":"left",q=I?"bottom":"right",B=I?"clientHeight":"clientWidth",K=l.reference[x]+l.reference[A]-w[A]-l.floating[x],J=w[A]-l.reference[A],le=await(c.getOffsetParent==null?void 0:c.getOffsetParent(g));let M=le?le[B]:0;(!M||!await(c.isElement==null?void 0:c.isElement(le)))&&(M=d.floating[B]||l.floating[x]);const R=K/2-J/2,N=M/2-D[x]/2-1,L=os(_[P],N),U=os(_[q],N),z=L,k=M-D[x]-U,xe=M/2-D[x]/2+R,be=yv(z,xe,k),G=!m.arrow&&su(s)!=null&&xe!==be&&l.reference[x]/2-(xe<z?L:U)-D[x]/2<0,ue=G?xe<z?xe-z:xe-k:0;return{[A]:w[A]+ue,data:{[A]:be,centerOffset:xe-be-ue,...G&&{alignmentOffset:ue}},reset:G}}}),gB=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:l,rects:c,initialPlacement:d,platform:m,elements:g}=e,{mainAxis:y=!0,crossAxis:_=!0,fallbackPlacements:w,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:D=!0,...I}=la(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const P=ua(s),q=Xi(d),B=ua(d)===d,K=await(m.isRTL==null?void 0:m.isRTL(g.floating)),J=w||(B||!D?[Hh(d)]:uB(d)),le=x!=="none";!w&&le&&J.push(...fB(d,D,x,K));const M=[d,...J],R=await Bc(e,I),N=[];let L=((r=l.flip)==null?void 0:r.overflows)||[];if(y&&N.push(R[P]),_){const be=lB(s,c,K);N.push(R[be[0]],R[be[1]])}if(L=[...L,{placement:s,overflows:N}],!N.every(be=>be<=0)){var U,z;const be=(((U=l.flip)==null?void 0:U.index)||0)+1,G=M[be];if(G){var k;const Z=_==="alignment"?q!==Xi(G):!1,ce=((k=L[0])==null?void 0:k.overflows[0])>0;if(!Z||ce)return{data:{index:be,overflows:L},reset:{placement:G}}}let ue=(z=L.filter(Z=>Z.overflows[0]<=0).sort((Z,ce)=>Z.overflows[1]-ce.overflows[1])[0])==null?void 0:z.placement;if(!ue)switch(A){case"bestFit":{var xe;const Z=(xe=L.filter(ce=>{if(le){const V=Xi(ce.placement);return V===q||V==="y"}return!0}).map(ce=>[ce.placement,ce.overflows.filter(V=>V>0).reduce((V,te)=>V+te,0)]).sort((ce,V)=>ce[1]-V[1])[0])==null?void 0:xe[0];Z&&(ue=Z);break}case"initialPlacement":ue=d;break}if(s!==ue)return{reset:{placement:ue}}}return{}}}};function uA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function cA(t){return aB.some(e=>t[e]>=0)}const pB=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=la(t,e);switch(r){case"referenceHidden":{const l=await Bc(e,{...s,elementContext:"reference"}),c=uA(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:cA(c)}}}case"escaped":{const l=await Bc(e,{...s,altBoundary:!0}),c=uA(l,n.floating);return{data:{escapedOffsets:c,escaped:cA(c)}}}default:return{}}}}};async function yB(t,e){const{placement:n,platform:r,elements:s}=t,l=await(r.isRTL==null?void 0:r.isRTL(s.floating)),c=ua(n),d=su(n),m=Xi(n)==="y",g=["left","top"].includes(c)?-1:1,y=l&&m?-1:1,_=la(e,t);let{mainAxis:w,crossAxis:A,alignmentAxis:x}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return d&&typeof x=="number"&&(A=d==="end"?x*-1:x),m?{x:A*y,y:w*g}:{x:w*g,y:A*y}}const vB=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:l,placement:c,middlewareData:d}=e,m=await yB(e,t);return c===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:s+m.x,y:l+m.y,data:{...m,placement:c}}}}},_B=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:I=>{let{x:P,y:q}=I;return{x:P,y:q}}},...m}=la(t,e),g={x:n,y:r},y=await Bc(e,m),_=Xi(ua(s)),w=Z_(_);let A=g[w],x=g[_];if(l){const I=w==="y"?"top":"left",P=w==="y"?"bottom":"right",q=A+y[I],B=A-y[P];A=yv(q,A,B)}if(c){const I=_==="y"?"top":"left",P=_==="y"?"bottom":"right",q=x+y[I],B=x-y[P];x=yv(q,x,B)}const D=d.fn({...e,[w]:A,[_]:x});return{...D,data:{x:D.x-n,y:D.y-r,enabled:{[w]:l,[_]:c}}}}}},wB=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:l,middlewareData:c}=e,{offset:d=0,mainAxis:m=!0,crossAxis:g=!0}=la(t,e),y={x:n,y:r},_=Xi(s),w=Z_(_);let A=y[w],x=y[_];const D=la(d,e),I=typeof D=="number"?{mainAxis:D,crossAxis:0}:{mainAxis:0,crossAxis:0,...D};if(m){const B=w==="y"?"height":"width",K=l.reference[w]-l.floating[B]+I.mainAxis,J=l.reference[w]+l.reference[B]-I.mainAxis;A<K?A=K:A>J&&(A=J)}if(g){var P,q;const B=w==="y"?"width":"height",K=["top","left"].includes(ua(s)),J=l.reference[_]-l.floating[B]+(K&&((P=c.offset)==null?void 0:P[_])||0)+(K?0:I.crossAxis),le=l.reference[_]+l.reference[B]+(K?0:((q=c.offset)==null?void 0:q[_])||0)-(K?I.crossAxis:0);x<J?x=J:x>le&&(x=le)}return{[w]:A,[_]:x}}}},bB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:l,platform:c,elements:d}=e,{apply:m=()=>{},...g}=la(t,e),y=await Bc(e,g),_=ua(s),w=su(s),A=Xi(s)==="y",{width:x,height:D}=l.floating;let I,P;_==="top"||_==="bottom"?(I=_,P=w===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(P=_,I=w==="end"?"top":"bottom");const q=D-y.top-y.bottom,B=x-y.left-y.right,K=os(D-y[I],q),J=os(x-y[P],B),le=!e.middlewareData.shift;let M=K,R=J;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=B),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=q),le&&!w){const L=tr(y.left,0),U=tr(y.right,0),z=tr(y.top,0),k=tr(y.bottom,0);A?R=x-2*(L!==0||U!==0?L+U:tr(y.left,y.right)):M=D-2*(z!==0||k!==0?z+k:tr(y.top,y.bottom))}await m({...e,availableWidth:R,availableHeight:M});const N=await c.getDimensions(d.floating);return x!==N.width||D!==N.height?{reset:{rects:!0}}:{}}}};function km(){return typeof window<"u"}function ou(t){return q1(t)?(t.nodeName||"").toLowerCase():"#document"}function ir(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function pi(t){var e;return(e=(q1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function q1(t){return km()?t instanceof Node||t instanceof ir(t).Node:!1}function Lr(t){return km()?t instanceof Element||t instanceof ir(t).Element:!1}function hi(t){return km()?t instanceof HTMLElement||t instanceof ir(t).HTMLElement:!1}function fA(t){return!km()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ir(t).ShadowRoot}function hf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=jr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function EB(t){return["table","td","th"].includes(ou(t))}function Vm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function tw(t){const e=nw(),n=Lr(t)?jr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function TB(t){let e=ls(t);for(;hi(e)&&!Ul(e);){if(tw(e))return e;if(Vm(e))return null;e=ls(e)}return null}function nw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ul(t){return["html","body","#document"].includes(ou(t))}function jr(t){return ir(t).getComputedStyle(t)}function Lm(t){return Lr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ls(t){if(ou(t)==="html")return t;const e=t.assignedSlot||t.parentNode||fA(t)&&t.host||pi(t);return fA(e)?e.host:e}function H1(t){const e=ls(t);return Ul(e)?t.ownerDocument?t.ownerDocument.body:t.body:hi(e)&&hf(e)?e:H1(e)}function Fc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=H1(t),l=s===((r=t.ownerDocument)==null?void 0:r.body),c=ir(s);if(l){const d=_v(c);return e.concat(c,c.visualViewport||[],hf(s)?s:[],d&&n?Fc(d):[])}return e.concat(s,Fc(s,[],n))}function _v(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function G1(t){const e=jr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=hi(t),l=s?t.offsetWidth:n,c=s?t.offsetHeight:r,d=qh(n)!==l||qh(r)!==c;return d&&(n=l,r=c),{width:n,height:r,$:d}}function rw(t){return Lr(t)?t:t.contextElement}function xl(t){const e=rw(t);if(!hi(e))return ui(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:l}=G1(e);let c=(l?qh(n.width):n.width)/r,d=(l?qh(n.height):n.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const SB=ui(0);function $1(t){const e=ir(t);return!nw()||!e.visualViewport?SB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function AB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ir(t)?!1:e}function lo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),l=rw(t);let c=ui(1);e&&(r?Lr(r)&&(c=xl(r)):c=xl(t));const d=AB(l,n,r)?$1(l):ui(0);let m=(s.left+d.x)/c.x,g=(s.top+d.y)/c.y,y=s.width/c.x,_=s.height/c.y;if(l){const w=ir(l),A=r&&Lr(r)?ir(r):r;let x=w,D=_v(x);for(;D&&r&&A!==x;){const I=xl(D),P=D.getBoundingClientRect(),q=jr(D),B=P.left+(D.clientLeft+parseFloat(q.paddingLeft))*I.x,K=P.top+(D.clientTop+parseFloat(q.paddingTop))*I.y;m*=I.x,g*=I.y,y*=I.x,_*=I.y,m+=B,g+=K,x=ir(D),D=_v(x)}}return Gh({width:y,height:_,x:m,y:g})}function iw(t,e){const n=Lm(t).scrollLeft;return e?e.left+n:lo(pi(t)).left+n}function Y1(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:iw(t,r)),l=r.top+e.scrollTop;return{x:s,y:l}}function xB(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const l=s==="fixed",c=pi(r),d=e?Vm(e.floating):!1;if(r===c||d&&l)return n;let m={scrollLeft:0,scrollTop:0},g=ui(1);const y=ui(0),_=hi(r);if((_||!_&&!l)&&((ou(r)!=="body"||hf(c))&&(m=Lm(r)),hi(r))){const A=lo(r);g=xl(r),y.x=A.x+r.clientLeft,y.y=A.y+r.clientTop}const w=c&&!_&&!l?Y1(c,m,!0):ui(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-m.scrollLeft*g.x+y.x+w.x,y:n.y*g.y-m.scrollTop*g.y+y.y+w.y}}function RB(t){return Array.from(t.getClientRects())}function CB(t){const e=pi(t),n=Lm(t),r=t.ownerDocument.body,s=tr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),l=tr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+iw(t);const d=-n.scrollTop;return jr(r).direction==="rtl"&&(c+=tr(e.clientWidth,r.clientWidth)-s),{width:s,height:l,x:c,y:d}}function DB(t,e){const n=ir(t),r=pi(t),s=n.visualViewport;let l=r.clientWidth,c=r.clientHeight,d=0,m=0;if(s){l=s.width,c=s.height;const g=nw();(!g||g&&e==="fixed")&&(d=s.offsetLeft,m=s.offsetTop)}return{width:l,height:c,x:d,y:m}}function IB(t,e){const n=lo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,l=hi(t)?xl(t):ui(1),c=t.clientWidth*l.x,d=t.clientHeight*l.y,m=s*l.x,g=r*l.y;return{width:c,height:d,x:m,y:g}}function dA(t,e,n){let r;if(e==="viewport")r=DB(t,n);else if(e==="document")r=CB(pi(t));else if(Lr(e))r=IB(e,n);else{const s=$1(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Gh(r)}function W1(t,e){const n=ls(t);return n===e||!Lr(n)||Ul(n)?!1:jr(n).position==="fixed"||W1(n,e)}function OB(t,e){const n=e.get(t);if(n)return n;let r=Fc(t,[],!1).filter(d=>Lr(d)&&ou(d)!=="body"),s=null;const l=jr(t).position==="fixed";let c=l?ls(t):t;for(;Lr(c)&&!Ul(c);){const d=jr(c),m=tw(c);!m&&d.position==="fixed"&&(s=null),(l?!m&&!s:!m&&d.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||hf(c)&&!m&&W1(t,c))?r=r.filter(y=>y!==c):s=d,c=ls(c)}return e.set(t,r),r}function NB(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const c=[...n==="clippingAncestors"?Vm(e)?[]:OB(e,this._c):[].concat(n),r],d=c[0],m=c.reduce((g,y)=>{const _=dA(e,y,s);return g.top=tr(_.top,g.top),g.right=os(_.right,g.right),g.bottom=os(_.bottom,g.bottom),g.left=tr(_.left,g.left),g},dA(e,d,s));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function MB(t){const{width:e,height:n}=G1(t);return{width:e,height:n}}function PB(t,e,n){const r=hi(e),s=pi(e),l=n==="fixed",c=lo(t,!0,l,e);let d={scrollLeft:0,scrollTop:0};const m=ui(0);function g(){m.x=iw(s)}if(r||!r&&!l)if((ou(e)!=="body"||hf(s))&&(d=Lm(e)),r){const A=lo(e,!0,l,e);m.x=A.x+e.clientLeft,m.y=A.y+e.clientTop}else s&&g();l&&!r&&s&&g();const y=s&&!r&&!l?Y1(s,d):ui(0),_=c.left+d.scrollLeft-m.x-y.x,w=c.top+d.scrollTop-m.y-y.y;return{x:_,y:w,width:c.width,height:c.height}}function wy(t){return jr(t).position==="static"}function hA(t,e){if(!hi(t)||jr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return pi(t)===n&&(n=n.ownerDocument.body),n}function K1(t,e){const n=ir(t);if(Vm(t))return n;if(!hi(t)){let s=ls(t);for(;s&&!Ul(s);){if(Lr(s)&&!wy(s))return s;s=ls(s)}return n}let r=hA(t,e);for(;r&&EB(r)&&wy(r);)r=hA(r,e);return r&&Ul(r)&&wy(r)&&!tw(r)?n:r||TB(t)||n}const kB=async function(t){const e=this.getOffsetParent||K1,n=this.getDimensions,r=await n(t.floating);return{reference:PB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function VB(t){return jr(t).direction==="rtl"}const LB={convertOffsetParentRelativeRectToViewportRelativeRect:xB,getDocumentElement:pi,getClippingRect:NB,getOffsetParent:K1,getElementRects:kB,getClientRects:RB,getDimensions:MB,getScale:xl,isElement:Lr,isRTL:VB};function Q1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function jB(t,e){let n=null,r;const s=pi(t);function l(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function c(d,m){d===void 0&&(d=!1),m===void 0&&(m=1),l();const g=t.getBoundingClientRect(),{left:y,top:_,width:w,height:A}=g;if(d||e(),!w||!A)return;const x=Jd(_),D=Jd(s.clientWidth-(y+w)),I=Jd(s.clientHeight-(_+A)),P=Jd(y),B={rootMargin:-x+"px "+-D+"px "+-I+"px "+-P+"px",threshold:tr(0,os(1,m))||1};let K=!0;function J(le){const M=le[0].intersectionRatio;if(M!==m){if(!K)return c();M?c(!1,M):r=setTimeout(()=>{c(!1,1e-7)},1e3)}M===1&&!Q1(g,t.getBoundingClientRect())&&c(),K=!1}try{n=new IntersectionObserver(J,{...B,root:s.ownerDocument})}catch{n=new IntersectionObserver(J,B)}n.observe(t)}return c(!0),l}function UB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:m=!1}=r,g=rw(t),y=s||l?[...g?Fc(g):[],...Fc(e)]:[];y.forEach(P=>{s&&P.addEventListener("scroll",n,{passive:!0}),l&&P.addEventListener("resize",n)});const _=g&&d?jB(g,n):null;let w=-1,A=null;c&&(A=new ResizeObserver(P=>{let[q]=P;q&&q.target===g&&A&&(A.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var B;(B=A)==null||B.observe(e)})),n()}),g&&!m&&A.observe(g),A.observe(e));let x,D=m?lo(t):null;m&&I();function I(){const P=lo(t);D&&!Q1(D,P)&&n(),D=P,x=requestAnimationFrame(I)}return n(),()=>{var P;y.forEach(q=>{s&&q.removeEventListener("scroll",n),l&&q.removeEventListener("resize",n)}),_==null||_(),(P=A)==null||P.disconnect(),A=null,m&&cancelAnimationFrame(x)}}const zB=vB,BB=_B,FB=gB,qB=bB,HB=pB,mA=mB,GB=wB,$B=(t,e,n)=>{const r=new Map,s={platform:LB,...n},l={...s.platform,_c:r};return hB(t,e,{...s,platform:l})};var gh=typeof document<"u"?S.useLayoutEffect:S.useEffect;function $h(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!$h(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const l=s[r];if(!(l==="_owner"&&t.$$typeof)&&!$h(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function X1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function gA(t,e){const n=X1(t);return Math.round(e*n)/n}function by(t){const e=S.useRef(t);return gh(()=>{e.current=t}),e}function YB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:m,open:g}=t,[y,_]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[w,A]=S.useState(r);$h(w,r)||A(r);const[x,D]=S.useState(null),[I,P]=S.useState(null),q=S.useCallback(Z=>{Z!==le.current&&(le.current=Z,D(Z))},[]),B=S.useCallback(Z=>{Z!==M.current&&(M.current=Z,P(Z))},[]),K=l||x,J=c||I,le=S.useRef(null),M=S.useRef(null),R=S.useRef(y),N=m!=null,L=by(m),U=by(s),z=by(g),k=S.useCallback(()=>{if(!le.current||!M.current)return;const Z={placement:e,strategy:n,middleware:w};U.current&&(Z.platform=U.current),$B(le.current,M.current,Z).then(ce=>{const V={...ce,isPositioned:z.current!==!1};xe.current&&!$h(R.current,V)&&(R.current=V,Dv.flushSync(()=>{_(V)}))})},[w,e,n,U,z]);gh(()=>{g===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,_(Z=>({...Z,isPositioned:!1})))},[g]);const xe=S.useRef(!1);gh(()=>(xe.current=!0,()=>{xe.current=!1}),[]),gh(()=>{if(K&&(le.current=K),J&&(M.current=J),K&&J){if(L.current)return L.current(K,J,k);k()}},[K,J,k,L,N]);const be=S.useMemo(()=>({reference:le,floating:M,setReference:q,setFloating:B}),[q,B]),G=S.useMemo(()=>({reference:K,floating:J}),[K,J]),ue=S.useMemo(()=>{const Z={position:n,left:0,top:0};if(!G.floating)return Z;const ce=gA(G.floating,y.x),V=gA(G.floating,y.y);return d?{...Z,transform:"translate("+ce+"px, "+V+"px)",...X1(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ce,top:V}},[n,d,G.floating,y.x,y.y]);return S.useMemo(()=>({...y,update:k,refs:be,elements:G,floatingStyles:ue}),[y,k,be,G,ue])}const WB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?mA({element:r.current,padding:s}).fn(n):{}:r?mA({element:r,padding:s}).fn(n):{}}}},KB=(t,e)=>({...zB(t),options:[t,e]}),QB=(t,e)=>({...BB(t),options:[t,e]}),XB=(t,e)=>({...GB(t),options:[t,e]}),ZB=(t,e)=>({...FB(t),options:[t,e]}),JB=(t,e)=>({...qB(t),options:[t,e]}),e5=(t,e)=>({...HB(t),options:[t,e]}),t5=(t,e)=>({...WB(t),options:[t,e]});var n5="Arrow",Z1=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...l}=t;return T.jsx(Ht.svg,{...l,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:T.jsx("polygon",{points:"0,0 30,0 15,10"})})});Z1.displayName=n5;var r5=Z1;function i5(t){const[e,n]=S.useState(void 0);return ss(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const l=s[0];let c,d;if("borderBoxSize"in l){const m=l.borderBoxSize,g=Array.isArray(m)?m[0]:m;c=g.inlineSize,d=g.blockSize}else c=t.offsetWidth,d=t.offsetHeight;n({width:c,height:d})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var aw="Popper",[J1,eD]=ho(aw),[a5,tD]=J1(aw),nD=t=>{const{__scopePopper:e,children:n}=t,[r,s]=S.useState(null);return T.jsx(a5,{scope:e,anchor:r,onAnchorChange:s,children:n})};nD.displayName=aw;var rD="PopperAnchor",iD=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,l=tD(rD,n),c=S.useRef(null),d=qt(e,c);return S.useEffect(()=>{l.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:T.jsx(Ht.div,{...s,ref:d})});iD.displayName=rD;var sw="PopperContent",[s5,o5]=J1(sw),aD=S.forwardRef((t,e)=>{var Te,ke,qe,bt,Pt,kt;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:m=!0,collisionBoundary:g=[],collisionPadding:y=0,sticky:_="partial",hideWhenDetached:w=!1,updatePositionStrategy:A="optimized",onPlaced:x,...D}=t,I=tD(sw,n),[P,q]=S.useState(null),B=qt(e,ln=>q(ln)),[K,J]=S.useState(null),le=i5(K),M=(le==null?void 0:le.width)??0,R=(le==null?void 0:le.height)??0,N=r+(l!=="center"?"-"+l:""),L=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},U=Array.isArray(g)?g:[g],z=U.length>0,k={padding:L,boundary:U.filter(u5),altBoundary:z},{refs:xe,floatingStyles:be,placement:G,isPositioned:ue,middlewareData:Z}=YB({strategy:"fixed",placement:N,whileElementsMounted:(...ln)=>UB(...ln,{animationFrame:A==="always"}),elements:{reference:I.anchor},middleware:[KB({mainAxis:s+R,alignmentAxis:c}),m&&QB({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?XB():void 0,...k}),m&&ZB({...k}),JB({...k,apply:({elements:ln,rects:rt,availableWidth:Hn,availableHeight:Gt})=>{const{width:$t,height:da}=rt.reference,Gn=ln.floating.style;Gn.setProperty("--radix-popper-available-width",`${Hn}px`),Gn.setProperty("--radix-popper-available-height",`${Gt}px`),Gn.setProperty("--radix-popper-anchor-width",`${$t}px`),Gn.setProperty("--radix-popper-anchor-height",`${da}px`)}}),K&&t5({element:K,padding:d}),c5({arrowWidth:M,arrowHeight:R}),w&&e5({strategy:"referenceHidden",...k})]}),[ce,V]=lD(G),te=sa(x);ss(()=>{ue&&(te==null||te())},[ue,te]);const fe=(Te=Z.arrow)==null?void 0:Te.x,re=(ke=Z.arrow)==null?void 0:ke.y,he=((qe=Z.arrow)==null?void 0:qe.centerOffset)!==0,[Se,_e]=S.useState();return ss(()=>{P&&_e(window.getComputedStyle(P).zIndex)},[P]),T.jsx("div",{ref:xe.setFloating,"data-radix-popper-content-wrapper":"",style:{...be,transform:ue?be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(bt=Z.transformOrigin)==null?void 0:bt.x,(Pt=Z.transformOrigin)==null?void 0:Pt.y].join(" "),...((kt=Z.hide)==null?void 0:kt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:T.jsx(s5,{scope:n,placedSide:ce,onArrowChange:J,arrowX:fe,arrowY:re,shouldHideArrow:he,children:T.jsx(Ht.div,{"data-side":ce,"data-align":V,...D,ref:B,style:{...D.style,animation:ue?void 0:"none"}})})})});aD.displayName=sw;var sD="PopperArrow",l5={top:"bottom",right:"left",bottom:"top",left:"right"},oD=S.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,l=o5(sD,r),c=l5[l.placedSide];return T.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:T.jsx(r5,{...s,ref:n,style:{...s.style,display:"block"}})})});oD.displayName=sD;function u5(t){return t!==null}var c5=t=>({name:"transformOrigin",options:t,fn(e){var I,P,q;const{placement:n,rects:r,middlewareData:s}=e,c=((I=s.arrow)==null?void 0:I.centerOffset)!==0,d=c?0:t.arrowWidth,m=c?0:t.arrowHeight,[g,y]=lD(n),_={start:"0%",center:"50%",end:"100%"}[y],w=(((P=s.arrow)==null?void 0:P.x)??0)+d/2,A=(((q=s.arrow)==null?void 0:q.y)??0)+m/2;let x="",D="";return g==="bottom"?(x=c?_:`${w}px`,D=`${-m}px`):g==="top"?(x=c?_:`${w}px`,D=`${r.floating.height+m}px`):g==="right"?(x=`${-m}px`,D=c?_:`${A}px`):g==="left"&&(x=`${r.floating.width+m}px`,D=c?_:`${A}px`),{data:{x,y:D}}}});function lD(t){const[e,n="center"]=t.split("-");return[e,n]}var f5=nD,d5=iD,h5=aD,m5=oD,Ey="rovingFocusGroup.onEntryFocus",g5={bubbles:!1,cancelable:!0},mf="RovingFocusGroup",[wv,uD,p5]=z1(mf),[y5,cD]=ho(mf,[p5]),[v5,_5]=y5(mf),fD=S.forwardRef((t,e)=>T.jsx(wv.Provider,{scope:t.__scopeRovingFocusGroup,children:T.jsx(wv.Slot,{scope:t.__scopeRovingFocusGroup,children:T.jsx(w5,{...t,ref:e})})}));fD.displayName=mf;var w5=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:m,onEntryFocus:g,preventScrollOnEntryFocus:y=!1,..._}=t,w=S.useRef(null),A=qt(e,w),x=B1(l),[D,I]=N_({prop:c,defaultProp:d??null,onChange:m,caller:mf}),[P,q]=S.useState(!1),B=sa(g),K=uD(n),J=S.useRef(!1),[le,M]=S.useState(0);return S.useEffect(()=>{const R=w.current;if(R)return R.addEventListener(Ey,B),()=>R.removeEventListener(Ey,B)},[B]),T.jsx(v5,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:D,onItemFocus:S.useCallback(R=>I(R),[I]),onItemShiftTab:S.useCallback(()=>q(!0),[]),onFocusableItemAdd:S.useCallback(()=>M(R=>R+1),[]),onFocusableItemRemove:S.useCallback(()=>M(R=>R-1),[]),children:T.jsx(Ht.div,{tabIndex:P||le===0?-1:0,"data-orientation":r,..._,ref:A,style:{outline:"none",...t.style},onMouseDown:Le(t.onMouseDown,()=>{J.current=!0}),onFocus:Le(t.onFocus,R=>{const N=!J.current;if(R.target===R.currentTarget&&N&&!P){const L=new CustomEvent(Ey,g5);if(R.currentTarget.dispatchEvent(L),!L.defaultPrevented){const U=K().filter(G=>G.focusable),z=U.find(G=>G.active),k=U.find(G=>G.id===D),be=[z,k,...U].filter(Boolean).map(G=>G.ref.current);mD(be,y)}}J.current=!1}),onBlur:Le(t.onBlur,()=>q(!1))})})}),dD="RovingFocusGroupItem",hD=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:l,children:c,...d}=t,m=Sl(),g=l||m,y=_5(dD,n),_=y.currentTabStopId===g,w=uD(n),{onFocusableItemAdd:A,onFocusableItemRemove:x,currentTabStopId:D}=y;return S.useEffect(()=>{if(r)return A(),()=>x()},[r,A,x]),T.jsx(wv.ItemSlot,{scope:n,id:g,focusable:r,active:s,children:T.jsx(Ht.span,{tabIndex:_?0:-1,"data-orientation":y.orientation,...d,ref:e,onMouseDown:Le(t.onMouseDown,I=>{r?y.onItemFocus(g):I.preventDefault()}),onFocus:Le(t.onFocus,()=>y.onItemFocus(g)),onKeyDown:Le(t.onKeyDown,I=>{if(I.key==="Tab"&&I.shiftKey){y.onItemShiftTab();return}if(I.target!==I.currentTarget)return;const P=T5(I,y.orientation,y.dir);if(P!==void 0){if(I.metaKey||I.ctrlKey||I.altKey||I.shiftKey)return;I.preventDefault();let B=w().filter(K=>K.focusable).map(K=>K.ref.current);if(P==="last")B.reverse();else if(P==="prev"||P==="next"){P==="prev"&&B.reverse();const K=B.indexOf(I.currentTarget);B=y.loop?S5(B,K+1):B.slice(K+1)}setTimeout(()=>mD(B))}}),children:typeof c=="function"?c({isCurrentTabStop:_,hasTabStop:D!=null}):c})})});hD.displayName=dD;var b5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function E5(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function T5(t,e,n){const r=E5(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return b5[r]}function mD(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function S5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var A5=fD,x5=hD,bv=["Enter"," "],R5=["ArrowDown","PageUp","Home"],gD=["ArrowUp","PageDown","End"],C5=[...R5,...gD],D5={ltr:[...bv,"ArrowRight"],rtl:[...bv,"ArrowLeft"]},I5={ltr:["ArrowLeft"],rtl:["ArrowRight"]},gf="Menu",[qc,O5,N5]=z1(gf),[po,pD]=ho(gf,[N5,eD,cD]),jm=eD(),yD=cD(),[M5,yo]=po(gf),[P5,pf]=po(gf),vD=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:l,modal:c=!0}=t,d=jm(e),[m,g]=S.useState(null),y=S.useRef(!1),_=sa(l),w=B1(s);return S.useEffect(()=>{const A=()=>{y.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>y.current=!1;return document.addEventListener("keydown",A,{capture:!0}),()=>{document.removeEventListener("keydown",A,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),T.jsx(f5,{...d,children:T.jsx(M5,{scope:e,open:n,onOpenChange:_,content:m,onContentChange:g,children:T.jsx(P5,{scope:e,onClose:S.useCallback(()=>_(!1),[_]),isUsingKeyboardRef:y,dir:w,modal:c,children:r})})})};vD.displayName=gf;var k5="MenuAnchor",ow=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=jm(n);return T.jsx(d5,{...s,...r,ref:e})});ow.displayName=k5;var lw="MenuPortal",[V5,_D]=po(lw,{forceMount:void 0}),wD=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,l=yo(lw,e);return T.jsx(V5,{scope:e,forceMount:n,children:T.jsx(hs,{present:n||l.open,children:T.jsx(k_,{asChild:!0,container:s,children:r})})})};wD.displayName=lw;var br="MenuContent",[L5,uw]=po(br),bD=S.forwardRef((t,e)=>{const n=_D(br,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,l=yo(br,t.__scopeMenu),c=pf(br,t.__scopeMenu);return T.jsx(qc.Provider,{scope:t.__scopeMenu,children:T.jsx(hs,{present:r||l.open,children:T.jsx(qc.Slot,{scope:t.__scopeMenu,children:c.modal?T.jsx(j5,{...s,ref:e}):T.jsx(U5,{...s,ref:e})})})})}),j5=S.forwardRef((t,e)=>{const n=yo(br,t.__scopeMenu),r=S.useRef(null),s=qt(e,r);return S.useEffect(()=>{const l=r.current;if(l)return VC(l)},[]),T.jsx(cw,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Le(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),U5=S.forwardRef((t,e)=>{const n=yo(br,t.__scopeMenu);return T.jsx(cw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),z5=Cl("MenuContent.ScrollLock"),cw=S.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:m,onEscapeKeyDown:g,onPointerDownOutside:y,onFocusOutside:_,onInteractOutside:w,onDismiss:A,disableOutsideScroll:x,...D}=t,I=yo(br,n),P=pf(br,n),q=jm(n),B=yD(n),K=O5(n),[J,le]=S.useState(null),M=S.useRef(null),R=qt(e,M,I.onContentChange),N=S.useRef(0),L=S.useRef(""),U=S.useRef(0),z=S.useRef(null),k=S.useRef("right"),xe=S.useRef(0),be=x?V_:S.Fragment,G=x?{as:z5,allowPinchZoom:!0}:void 0,ue=ce=>{var Te,ke;const V=L.current+ce,te=K().filter(qe=>!qe.disabled),fe=document.activeElement,re=(Te=te.find(qe=>qe.ref.current===fe))==null?void 0:Te.textValue,he=te.map(qe=>qe.textValue),Se=Z5(he,V,re),_e=(ke=te.find(qe=>qe.textValue===Se))==null?void 0:ke.ref.current;(function qe(bt){L.current=bt,window.clearTimeout(N.current),bt!==""&&(N.current=window.setTimeout(()=>qe(""),1e3))})(V),_e&&setTimeout(()=>_e.focus())};S.useEffect(()=>()=>window.clearTimeout(N.current),[]),CC();const Z=S.useCallback(ce=>{var te,fe;return k.current===((te=z.current)==null?void 0:te.side)&&eF(ce,(fe=z.current)==null?void 0:fe.area)},[]);return T.jsx(L5,{scope:n,searchRef:L,onItemEnter:S.useCallback(ce=>{Z(ce)&&ce.preventDefault()},[Z]),onItemLeave:S.useCallback(ce=>{var V;Z(ce)||((V=M.current)==null||V.focus(),le(null))},[Z]),onTriggerLeave:S.useCallback(ce=>{Z(ce)&&ce.preventDefault()},[Z]),pointerGraceTimerRef:U,onPointerGraceIntentChange:S.useCallback(ce=>{z.current=ce},[]),children:T.jsx(be,{...G,children:T.jsx(P_,{asChild:!0,trapped:s,onMountAutoFocus:Le(l,ce=>{var V;ce.preventDefault(),(V=M.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:T.jsx(M_,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:g,onPointerDownOutside:y,onFocusOutside:_,onInteractOutside:w,onDismiss:A,children:T.jsx(A5,{asChild:!0,...B,dir:P.dir,orientation:"vertical",loop:r,currentTabStopId:J,onCurrentTabStopIdChange:le,onEntryFocus:Le(m,ce=>{P.isUsingKeyboardRef.current||ce.preventDefault()}),preventScrollOnEntryFocus:!0,children:T.jsx(h5,{role:"menu","aria-orientation":"vertical","data-state":LD(I.open),"data-radix-menu-content":"",dir:P.dir,...q,...D,ref:R,style:{outline:"none",...D.style},onKeyDown:Le(D.onKeyDown,ce=>{const te=ce.target.closest("[data-radix-menu-content]")===ce.currentTarget,fe=ce.ctrlKey||ce.altKey||ce.metaKey,re=ce.key.length===1;te&&(ce.key==="Tab"&&ce.preventDefault(),!fe&&re&&ue(ce.key));const he=M.current;if(ce.target!==he||!C5.includes(ce.key))return;ce.preventDefault();const _e=K().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);gD.includes(ce.key)&&_e.reverse(),Q5(_e)}),onBlur:Le(t.onBlur,ce=>{ce.currentTarget.contains(ce.target)||(window.clearTimeout(N.current),L.current="")}),onPointerMove:Le(t.onPointerMove,Hc(ce=>{const V=ce.target,te=xe.current!==ce.clientX;if(ce.currentTarget.contains(V)&&te){const fe=ce.clientX>xe.current?"right":"left";k.current=fe,xe.current=ce.clientX}}))})})})})})})});bD.displayName=br;var B5="MenuGroup",fw=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return T.jsx(Ht.div,{role:"group",...r,ref:e})});fw.displayName=B5;var F5="MenuLabel",ED=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return T.jsx(Ht.div,{...r,ref:e})});ED.displayName=F5;var Yh="MenuItem",pA="menu.itemSelect",Um=S.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,l=S.useRef(null),c=pf(Yh,t.__scopeMenu),d=uw(Yh,t.__scopeMenu),m=qt(e,l),g=S.useRef(!1),y=()=>{const _=l.current;if(!n&&_){const w=new CustomEvent(pA,{bubbles:!0,cancelable:!0});_.addEventListener(pA,A=>r==null?void 0:r(A),{once:!0}),SC(_,w),w.defaultPrevented?g.current=!1:c.onClose()}};return T.jsx(TD,{...s,ref:m,disabled:n,onClick:Le(t.onClick,y),onPointerDown:_=>{var w;(w=t.onPointerDown)==null||w.call(t,_),g.current=!0},onPointerUp:Le(t.onPointerUp,_=>{var w;g.current||(w=_.currentTarget)==null||w.click()}),onKeyDown:Le(t.onKeyDown,_=>{const w=d.searchRef.current!=="";n||w&&_.key===" "||bv.includes(_.key)&&(_.currentTarget.click(),_.preventDefault())})})});Um.displayName=Yh;var TD=S.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...l}=t,c=uw(Yh,n),d=yD(n),m=S.useRef(null),g=qt(e,m),[y,_]=S.useState(!1),[w,A]=S.useState("");return S.useEffect(()=>{const x=m.current;x&&A((x.textContent??"").trim())},[l.children]),T.jsx(qc.ItemSlot,{scope:n,disabled:r,textValue:s??w,children:T.jsx(x5,{asChild:!0,...d,focusable:!r,children:T.jsx(Ht.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...l,ref:g,onPointerMove:Le(t.onPointerMove,Hc(x=>{r?c.onItemLeave(x):(c.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Le(t.onPointerLeave,Hc(x=>c.onItemLeave(x))),onFocus:Le(t.onFocus,()=>_(!0)),onBlur:Le(t.onBlur,()=>_(!1))})})})}),q5="MenuCheckboxItem",SD=S.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return T.jsx(DD,{scope:t.__scopeMenu,checked:n,children:T.jsx(Um,{role:"menuitemcheckbox","aria-checked":Wh(n)?"mixed":n,...s,ref:e,"data-state":hw(n),onSelect:Le(s.onSelect,()=>r==null?void 0:r(Wh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});SD.displayName=q5;var AD="MenuRadioGroup",[H5,G5]=po(AD,{value:void 0,onValueChange:()=>{}}),xD=S.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,l=sa(r);return T.jsx(H5,{scope:t.__scopeMenu,value:n,onValueChange:l,children:T.jsx(fw,{...s,ref:e})})});xD.displayName=AD;var RD="MenuRadioItem",CD=S.forwardRef((t,e)=>{const{value:n,...r}=t,s=G5(RD,t.__scopeMenu),l=n===s.value;return T.jsx(DD,{scope:t.__scopeMenu,checked:l,children:T.jsx(Um,{role:"menuitemradio","aria-checked":l,...r,ref:e,"data-state":hw(l),onSelect:Le(r.onSelect,()=>{var c;return(c=s.onValueChange)==null?void 0:c.call(s,n)},{checkForDefaultPrevented:!1})})})});CD.displayName=RD;var dw="MenuItemIndicator",[DD,$5]=po(dw,{checked:!1}),ID=S.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,l=$5(dw,n);return T.jsx(hs,{present:r||Wh(l.checked)||l.checked===!0,children:T.jsx(Ht.span,{...s,ref:e,"data-state":hw(l.checked)})})});ID.displayName=dw;var Y5="MenuSeparator",OD=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return T.jsx(Ht.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});OD.displayName=Y5;var W5="MenuArrow",ND=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=jm(n);return T.jsx(m5,{...s,...r,ref:e})});ND.displayName=W5;var K5="MenuSub",[Eq,MD]=po(K5),bc="MenuSubTrigger",PD=S.forwardRef((t,e)=>{const n=yo(bc,t.__scopeMenu),r=pf(bc,t.__scopeMenu),s=MD(bc,t.__scopeMenu),l=uw(bc,t.__scopeMenu),c=S.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:m}=l,g={__scopeMenu:t.__scopeMenu},y=S.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return S.useEffect(()=>y,[y]),S.useEffect(()=>{const _=d.current;return()=>{window.clearTimeout(_),m(null)}},[d,m]),T.jsx(ow,{asChild:!0,...g,children:T.jsx(TD,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":LD(n.open),...t,ref:Iv(e,s.onTriggerChange),onClick:_=>{var w;(w=t.onClick)==null||w.call(t,_),!(t.disabled||_.defaultPrevented)&&(_.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Le(t.onPointerMove,Hc(_=>{l.onItemEnter(_),!_.defaultPrevented&&!t.disabled&&!n.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),y()},100))})),onPointerLeave:Le(t.onPointerLeave,Hc(_=>{var A,x;y();const w=(A=n.content)==null?void 0:A.getBoundingClientRect();if(w){const D=(x=n.content)==null?void 0:x.dataset.side,I=D==="right",P=I?-5:5,q=w[I?"left":"right"],B=w[I?"right":"left"];l.onPointerGraceIntentChange({area:[{x:_.clientX+P,y:_.clientY},{x:q,y:w.top},{x:B,y:w.top},{x:B,y:w.bottom},{x:q,y:w.bottom}],side:D}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(_),_.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Le(t.onKeyDown,_=>{var A;const w=l.searchRef.current!=="";t.disabled||w&&_.key===" "||D5[r.dir].includes(_.key)&&(n.onOpenChange(!0),(A=n.content)==null||A.focus(),_.preventDefault())})})})});PD.displayName=bc;var kD="MenuSubContent",VD=S.forwardRef((t,e)=>{const n=_D(br,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,l=yo(br,t.__scopeMenu),c=pf(br,t.__scopeMenu),d=MD(kD,t.__scopeMenu),m=S.useRef(null),g=qt(e,m);return T.jsx(qc.Provider,{scope:t.__scopeMenu,children:T.jsx(hs,{present:r||l.open,children:T.jsx(qc.Slot,{scope:t.__scopeMenu,children:T.jsx(cw,{id:d.contentId,"aria-labelledby":d.triggerId,...s,ref:g,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var _;c.isUsingKeyboardRef.current&&((_=m.current)==null||_.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:Le(t.onFocusOutside,y=>{y.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Le(t.onEscapeKeyDown,y=>{c.onClose(),y.preventDefault()}),onKeyDown:Le(t.onKeyDown,y=>{var A;const _=y.currentTarget.contains(y.target),w=I5[c.dir].includes(y.key);_&&w&&(l.onOpenChange(!1),(A=d.trigger)==null||A.focus(),y.preventDefault())})})})})})});VD.displayName=kD;function LD(t){return t?"open":"closed"}function Wh(t){return t==="indeterminate"}function hw(t){return Wh(t)?"indeterminate":t?"checked":"unchecked"}function Q5(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function X5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Z5(t,e,n){const s=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let c=X5(t,Math.max(l,0));s.length===1&&(c=c.filter(g=>g!==n));const m=c.find(g=>g.toLowerCase().startsWith(s.toLowerCase()));return m!==n?m:void 0}function J5(t,e){const{x:n,y:r}=t;let s=!1;for(let l=0,c=e.length-1;l<e.length;c=l++){const d=e[l],m=e[c],g=d.x,y=d.y,_=m.x,w=m.y;y>r!=w>r&&n<(_-g)*(r-y)/(w-y)+g&&(s=!s)}return s}function eF(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return J5(n,e)}function Hc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var tF=vD,nF=ow,rF=wD,iF=bD,aF=fw,sF=ED,oF=Um,lF=SD,uF=xD,cF=CD,fF=ID,dF=OD,hF=ND,mF=PD,gF=VD,zm="DropdownMenu",[pF,Tq]=ho(zm,[pD]),Vn=pD(),[yF,jD]=pF(zm),UD=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:l,onOpenChange:c,modal:d=!0}=t,m=Vn(e),g=S.useRef(null),[y,_]=N_({prop:s,defaultProp:l??!1,onChange:c,caller:zm});return T.jsx(yF,{scope:e,triggerId:Sl(),triggerRef:g,contentId:Sl(),open:y,onOpenChange:_,onOpenToggle:S.useCallback(()=>_(w=>!w),[_]),modal:d,children:T.jsx(tF,{...m,open:y,onOpenChange:_,dir:r,modal:d,children:n})})};UD.displayName=zm;var zD="DropdownMenuTrigger",BD=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,l=jD(zD,n),c=Vn(n);return T.jsx(nF,{asChild:!0,...c,children:T.jsx(Ht.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Iv(e,l.triggerRef),onPointerDown:Le(t.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:Le(t.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});BD.displayName=zD;var vF="DropdownMenuPortal",FD=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Vn(e);return T.jsx(rF,{...r,...n})};FD.displayName=vF;var qD="DropdownMenuContent",HD=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=jD(qD,n),l=Vn(n),c=S.useRef(!1);return T.jsx(iF,{id:s.contentId,"aria-labelledby":s.triggerId,...l,...r,ref:e,onCloseAutoFocus:Le(t.onCloseAutoFocus,d=>{var m;c.current||(m=s.triggerRef.current)==null||m.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:Le(t.onInteractOutside,d=>{const m=d.detail.originalEvent,g=m.button===0&&m.ctrlKey===!0,y=m.button===2||g;(!s.modal||y)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});HD.displayName=qD;var _F="DropdownMenuGroup",wF=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Vn(n);return T.jsx(aF,{...s,...r,ref:e})});wF.displayName=_F;var bF="DropdownMenuLabel",EF=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Vn(n);return T.jsx(sF,{...s,...r,ref:e})});EF.displayName=bF;var TF="DropdownMenuItem",GD=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Vn(n);return T.jsx(oF,{...s,...r,ref:e})});GD.displayName=TF;var SF="DropdownMenuCheckboxItem",AF=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Vn(n);return T.jsx(lF,{...s,...r,ref:e})});AF.displayName=SF;var xF="DropdownMenuRadioGroup",RF=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Vn(n);return T.jsx(uF,{...s,...r,ref:e})});RF.displayName=xF;var CF="DropdownMenuRadioItem",DF=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Vn(n);return T.jsx(cF,{...s,...r,ref:e})});DF.displayName=CF;var IF="DropdownMenuItemIndicator",OF=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Vn(n);return T.jsx(fF,{...s,...r,ref:e})});OF.displayName=IF;var NF="DropdownMenuSeparator",MF=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Vn(n);return T.jsx(dF,{...s,...r,ref:e})});MF.displayName=NF;var PF="DropdownMenuArrow",kF=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Vn(n);return T.jsx(hF,{...s,...r,ref:e})});kF.displayName=PF;var VF="DropdownMenuSubTrigger",LF=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Vn(n);return T.jsx(mF,{...s,...r,ref:e})});LF.displayName=VF;var jF="DropdownMenuSubContent",UF=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Vn(n);return T.jsx(gF,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});UF.displayName=jF;var zF=UD,BF=BD,FF=FD,$D=HD,YD=GD;const qF=zF,HF=BF,WD=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>T.jsx(FF,{children:T.jsx($D,{ref:r,sideOffset:e,className:bn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white p-1 text-sm","shadow-md animate-in fade-in-0 zoom-in-95",t),...n})}));WD.displayName=$D.displayName;const Ev=S.forwardRef(({className:t,...e},n)=>T.jsx(YD,{ref:n,className:bn("flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 outline-none","focus:bg-slate-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...e}));Ev.displayName=YD.displayName;var KD="AlertDialog",[GF,Sq]=ho(KD,[jC]),fa=jC(),QD=t=>{const{__scopeAlertDialog:e,...n}=t,r=fa(e);return T.jsx(e1,{...r,...n,modal:!0})};QD.displayName=KD;var $F="AlertDialogTrigger",XD=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=fa(n);return T.jsx(t1,{...s,...r,ref:e})});XD.displayName=$F;var YF="AlertDialogPortal",ZD=t=>{const{__scopeAlertDialog:e,...n}=t,r=fa(e);return T.jsx(n1,{...r,...n})};ZD.displayName=YF;var WF="AlertDialogOverlay",JD=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=fa(n);return T.jsx(r1,{...s,...r,ref:e})});JD.displayName=WF;var Rl="AlertDialogContent",[KF,QF]=GF(Rl),XF=EM("AlertDialogContent"),eI=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,l=fa(n),c=S.useRef(null),d=qt(e,c),m=S.useRef(null);return T.jsx(Q6,{contentName:Rl,titleName:tI,docsSlug:"alert-dialog",children:T.jsx(KF,{scope:n,cancelRef:m,children:T.jsxs(i1,{role:"alertdialog",...l,...s,ref:d,onOpenAutoFocus:Le(s.onOpenAutoFocus,g=>{var y;g.preventDefault(),(y=m.current)==null||y.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[T.jsx(XF,{children:r}),T.jsx(tq,{contentRef:c})]})})})});eI.displayName=Rl;var tI="AlertDialogTitle",ZF=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=fa(n);return T.jsx(a1,{...s,...r,ref:e})});ZF.displayName=tI;var nI="AlertDialogDescription",JF=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=fa(n);return T.jsx(e3,{...s,...r,ref:e})});JF.displayName=nI;var eq="AlertDialogAction",rI=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=fa(n);return T.jsx(z_,{...s,...r,ref:e})});rI.displayName=eq;var iI="AlertDialogCancel",aI=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=QF(iI,n),l=fa(n),c=qt(e,s);return T.jsx(z_,{...l,...r,ref:c})});aI.displayName=iI;var tq=({contentRef:t})=>{const e=`\`${Rl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Rl}\` by passing a \`${nI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Rl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return S.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},nq=QD,rq=XD,iq=ZD,sI=JD,oI=eI,lI=rI,uI=aI;const aq=nq,sq=rq,oq=iq,cI=S.forwardRef(({className:t,...e},n)=>T.jsx(sI,{ref:n,className:bn("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm","animate-in fade-in-0",t),...e}));cI.displayName=sI.displayName;const fI=S.forwardRef(({className:t,...e},n)=>T.jsxs(oq,{children:[T.jsx(cI,{}),T.jsx(oI,{ref:n,className:bn("fixed left-1/2 top-1/2 z-50 w-full max-w-md -translate-x-1/2 -translate-y-1/2","rounded-md bg-white p-6 shadow-lg animate-in zoom-in-90",t),...e})]}));fI.displayName=oI.displayName;const lq=({className:t,...e})=>T.jsx("div",{className:bn("mb-4 flex flex-col space-y-2 text-center",t),...e}),uq=({className:t,...e})=>T.jsx("h2",{className:bn("text-lg font-semibold",t),...e}),cq=({className:t,...e})=>T.jsx("div",{className:bn("mt-4 flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e}),dI=S.forwardRef(({className:t,...e},n)=>T.jsx(lI,{asChild:!0,children:T.jsx(Ct,{ref:n,className:t,...e})}));dI.displayName=lI.displayName;const hI=S.forwardRef(({className:t,...e},n)=>T.jsx(uI,{asChild:!0,children:T.jsx(Ct,{ref:n,variant:"outline",className:t,...e})}));hI.displayName=uI.displayName;function fq({gid:t,reportId:e,buyInBB:n,endBB:r,open:s,onOpenChange:l}){const[c,d]=S.useState(n.toString()),[m,g]=S.useState(r.toString()),[y,_]=S.useState(!1),w=async()=>{_(!0);const A=rr(Mt,"groups",t,"players",Nt.currentUser.uid,"reports",e);await Sm(A,{buyInBB:Number(c),endBB:Number(m)}),_(!1),l(!1)};return T.jsx(eu,{open:s,onOpenChange:l,children:T.jsxs(tu,{children:[T.jsx(nu,{children:T.jsx(ru,{children:"収支を編集"})}),T.jsx(kr,{placeholder:"Buy‑in BB",value:c,onChange:A=>d(A.target.value),type:"number"}),T.jsx(kr,{placeholder:"End BB",value:m,onChange:A=>g(A.target.value),type:"number"}),T.jsxs(Ct,{onClick:w,disabled:y,children:[y&&T.jsx(Kc,{className:"mr-2 h-4 w-4 animate-spin"}),"保存"]})]})})}function yA({gid:t,uid:e,id:n,date:r,buyInBB:s,endBB:l,playerName:c}){const[d,m]=S.useState(c??"…");S.useEffect(()=>{c||(async()=>{const P=await aa(rr(Mt,"groups",t,"players",e));if(P.exists()&&P.data().displayName)m(P.data().displayName);else{const q=await aa(rr(Mt,"users",e));m(q.exists()&&q.data().displayName||e.slice(0,6))}})()},[t,e,c]);const g=l-s,y=g<0?"text-red-600 font-semibold":"font-semibold",_=g<0?g:`+${g}`,[w,A]=S.useState(!1),[x,D]=S.useState(!1),I=async()=>{await DU(rr(Mt,"groups",t,"players",Nt.currentUser.uid,"reports",n)),D(!1)};return T.jsxs(T.Fragment,{children:[T.jsxs("tr",{className:"border-b last:border-none",children:[T.jsx("td",{className:"px-4 py-2 text-center",children:r}),T.jsx("td",{className:"px-4 py-2 text-center",children:d}),T.jsxs("td",{className:"px-4 py-2 text-center",children:[s," BB"]}),T.jsxs("td",{className:"px-4 py-2 text-center",children:[l," BB"]}),T.jsxs("td",{className:`px-4 py-2 text-center ${y}`,children:[_," BB"]}),T.jsx("td",{className:"px-2 py-2",children:T.jsxs(qF,{children:[T.jsx(HF,{asChild:!0,children:T.jsx(Ct,{size:"icon",variant:"ghost",children:T.jsx(C2,{className:"h-5 w-5"})})}),T.jsxs(WD,{children:[T.jsxs(Ev,{onSelect:()=>A(!0),children:[T.jsx(O2,{className:"mr-2 h-4 w-4"}),"編集"]}),T.jsxs(aq,{open:x,onOpenChange:D,children:[T.jsx(sq,{asChild:!0,children:T.jsxs(Ev,{children:[T.jsx(k2,{className:"mr-2 h-4 w-4"}),"削除"]})}),T.jsxs(fI,{children:[T.jsx(lq,{children:T.jsx(uq,{children:"この収支を削除しますか？"})}),T.jsxs(cq,{children:[T.jsx(hI,{children:"キャンセル"}),T.jsx(dI,{variant:"destructive",onClick:I,children:"削除"})]})]})]})]})]})})]}),T.jsx(fq,{gid:t,reportId:n,buyInBB:s,endBB:l,open:w,onOpenChange:A})]})}function dq(){const{gid:t}=Yc(),e=Nt.currentUser.uid,[n,r]=S.useState("calendar"),[s,l]=S.useState(new Date),[c,d]=S.useState([]),[m,g]=S.useState([]);return S.useEffect(()=>{if(!t)return;const y=ra(Mt,"groups",t,"players",e,"reports"),_=jh(y,x_("date","==",qS(s,{representation:"date"})));return Lc(_,A=>d(A.docs.map(x=>({id:x.id,...x.data()}))))},[s,t]),S.useEffect(()=>{if(!t)return;const y=ra(Mt,"groups",t,"players",e,"reports"),_=jh(y,xU("date","desc"));return Lc(_,A=>g(A.docs.map(x=>({id:x.id,...x.data()}))))},[t]),T.jsxs("main",{className:"container mx-auto max-w-3xl py-8 space-y-6",children:[T.jsxs("div",{className:"flex gap-2",children:[T.jsx(Ct,{variant:n==="calendar"?"default":"outline",onClick:()=>r("calendar"),children:"収支カレンダー"}),T.jsx(Ct,{variant:n==="list"?"default":"outline",onClick:()=>r("list"),children:"収支一覧"})]}),n==="calendar"&&T.jsxs(T.Fragment,{children:[T.jsx(rB,{value:s,onChange:y=>l(y)}),T.jsxs("h3",{className:"text-xl font-semibold",children:[qS(s,{representation:"date"})," の収支"]}),c.length===0?T.jsx("p",{className:"text-muted-foreground",children:"報告がありません。"}):T.jsxs("table",{className:"w-full text-sm",children:[T.jsx("thead",{children:T.jsxs("tr",{className:"border-b bg-slate-50",children:[T.jsx("th",{className:"px-4 py-2",children:"日付"}),T.jsx("th",{className:"px-4 py-2",children:"Player"}),T.jsx("th",{className:"px-4 py-2",children:"Buy-in"}),T.jsx("th",{className:"px-4 py-2",children:"End"}),T.jsx("th",{className:"px-4 py-2",children:"Diff"}),T.jsx("th",{className:"w-12"})]})}),T.jsx("tbody",{children:c.map(y=>T.jsx(yA,{gid:t,uid:y.uid,id:y.id,date:y.date,buyInBB:y.buyInBB,endBB:y.endBB},y.id))})]})]}),n==="list"&&T.jsx(T.Fragment,{children:T.jsxs("table",{className:"w-full text-sm",children:[T.jsx("thead",{children:T.jsxs("tr",{className:"border-b bg-slate-50",children:[T.jsx("th",{className:"px-4 py-2",children:"日付"}),T.jsx("th",{className:"px-4 py-2",children:"Player"}),T.jsx("th",{className:"px-4 py-2",children:"Buy-in"}),T.jsx("th",{className:"px-4 py-2",children:"End"}),T.jsx("th",{className:"px-4 py-2",children:"Diff"}),T.jsx("th",{className:"w-12"})]})}),T.jsx("tbody",{children:m.map(y=>T.jsx(yA,{gid:t,uid:y.uid,id:y.id,date:y.date,buyInBB:y.buyInBB,endBB:y.endBB},y.id))})]})})]})}function hq(){const[t,e]=S.useState(""),[n,r]=S.useState(""),[s,l]=S.useState(!1),[c,d]=S.useState(!1),m=async()=>{if(t.length!==6||n.length!==8){alert("ID は 6 桁、管理者 PW は 8 桁で入力してください");return}l(!0);try{const g=rr(Mt,"groups",t),y=await aa(g);if(!y.exists())throw new Error("グループが存在しません");if(y.data().adminPassword!==n)throw new Error("管理者パスワードが違います");await Sm(g,{adminUids:EC(Nt.currentUser.uid)}),alert("管理者として参加しました"),e(""),r(""),d(!1)}catch(g){const y=g instanceof Er||g instanceof Error?g.message:"不明なエラーが発生しました";alert(y)}finally{l(!1)}};return T.jsxs(eu,{open:c,onOpenChange:d,children:[T.jsx(lf,{asChild:!0,children:T.jsx(Ct,{variant:"outline",children:"既存グループに参加"})}),T.jsxs(tu,{children:[T.jsx(nu,{children:T.jsx(ru,{children:"既存グループに管理者参加"})}),T.jsx(kr,{placeholder:"グループ ID (6 桁)",value:t,onChange:g=>e(g.target.value),maxLength:6}),T.jsx(kr,{placeholder:"管理者パスワード (8 桁)",value:n,onChange:g=>r(g.target.value),type:"password",maxLength:8}),T.jsxs(Ct,{onClick:m,disabled:s,children:[s&&T.jsx(Kc,{className:"mr-2 h-4 w-4 animate-spin"}),"参加する"]})]})]})}function Ty(t){return Array.from({length:t},()=>Math.floor(Math.random()*10)).join("")}function mq(){const[t,e]=S.useState(""),[n,r]=S.useState(null),[s,l]=S.useState(!1),c=async()=>{if(t.trim()){l(!0);try{let d="";for(let m=0;m<5;m++){d=Ty(6);const g=rr(Mt,"groups",d);if(!(await aa(g)).exists()){const _=Ty(6),w=Ty(8);await I_(g,{groupId:d,name:t.trim(),createdBy:Nt.currentUser.uid,playerPassword:_,adminPassword:w,adminUids:[Nt.currentUser.uid],playerUids:[],createdAt:O_()}),r({id:d,playerPw:_,adminPw:w}),e("");return}}throw new Error("ID 生成に連続で失敗しました。時間をおいて再試行してください。")}catch(d){const m=d instanceof Er||d instanceof Error?d.message:"不明なエラーが発生しました";alert(`作成に失敗: ${m}`),console.error(d)}finally{l(!1)}}};return T.jsxs(eu,{children:[T.jsx(lf,{asChild:!0,children:T.jsx(Ct,{variant:"outline",children:"新規グループを作成"})}),T.jsxs(tu,{children:[T.jsx(nu,{children:T.jsx(ru,{children:"新規グループ作成"})}),n?T.jsxs("div",{className:"space-y-3",children:[T.jsxs("p",{className:"text-sm",children:[T.jsx(x2,{className:"inline mr-1"}),"グループが作成されました！"]}),T.jsxs("div",{className:"rounded-md border p-3 text-sm bg-slate-50",children:[T.jsxs("p",{children:[T.jsx("strong",{children:"ID  :"})," ",n.id]}),T.jsxs("p",{children:[T.jsx("strong",{children:"プレイヤーPW:"})," ",n.playerPw]}),T.jsxs("p",{children:[T.jsx("strong",{children:"管理者PW :"})," ",n.adminPw]})]}),T.jsx("p",{className:"text-xs text-muted-foreground",children:"※必ずメモして参加者に共有してください"})]}):T.jsxs(T.Fragment,{children:[T.jsx(kr,{placeholder:"グループ名",value:t,onChange:d=>e(d.target.value)}),T.jsxs(Ct,{onClick:c,disabled:s,children:[s&&T.jsx(Kc,{className:"mr-2 h-4 w-4 animate-spin"}),"作成する"]})]})]})]})}function gq(){const[t,e]=S.useState([]),n=Fl();return S.useEffect(()=>{Nt.currentUser||n("/")},[]),S.useEffect(()=>{var c;const r=(c=Nt.currentUser)==null?void 0:c.uid;if(!r)return;const s=jh(ra(Mt,"groups"),x_("adminUids","array-contains",r));return Lc(s,d=>{e(d.docs.map(m=>({id:m.id,name:m.data().name,createdBy:m.data().createdBy})))})},[]),T.jsxs("main",{className:"container mx-auto max-w-2xl py-10 space-y-8",children:[T.jsx(oo,{level:2,children:"管理者ダッシュボード"}),T.jsxs("section",{children:[T.jsx(oo,{level:3,className:"mb-3",children:"グループ一覧"}),t.length===0?T.jsx("p",{className:"text-muted-foreground",children:"まだ参加していません。"}):T.jsx("div",{className:"grid gap-4",children:t.map(r=>T.jsx(s1,{id:r.id,name:r.name,to:`/admin/group/${r.id}`,role:r.createdBy===Nt.currentUser.uid?"owner":"admin"},r.id))})]}),T.jsxs("div",{className:"flex gap-4 mt-10",children:[T.jsx(hq,{}),T.jsx(mq,{})]})]})}function pq(){const{gid:t}=Yc(),e=Fl(),[n,r]=S.useState("");return S.useEffect(()=>{(async()=>{var m,g;if(!t)return;const l=rr(Mt,"groups",t),c=await aa(l);if(!c.exists()){alert("グループが存在しません"),e("/admin");return}const d=c.data();if(!((g=d.adminUids)!=null&&g.includes((m=Nt.currentUser)==null?void 0:m.uid))){alert("管理権限がありません"),e("/admin");return}r(d.name)})()},[t]),T.jsxs("main",{className:"container mx-auto max-w-2xl py-10",children:[T.jsxs("h1",{className:"mb-6 text-3xl font-bold",children:[n," ― 詳細管理"]}),T.jsxs("div",{className:"flex flex-col gap-4",children:[T.jsx(Js,{to:`/admin/group/${t}/ranking`,children:T.jsx(Ct,{className:"w-full",variant:"outline",children:"収支ランキング"})}),T.jsx(Js,{to:`/admin/group/${t}/history`,children:T.jsx(Ct,{className:"w-full",variant:"outline",children:"更新履歴を閲覧"})}),T.jsx(Js,{to:`/admin/group/${t}/settings`,children:T.jsx(Ct,{className:"w-full",variant:"outline",children:"グループ設定"})})]})]})}function yq(){const{gid:t}=Yc(),[e,n]=S.useState([]);return S.useEffect(()=>{(async()=>{if(!t)return;const r=ra(Mt,"groups",t,"players"),s=await Uh(r),l=[];for(const c of s.docs){const d=c.id,m=c.data().displayName??"Unknown",g=ra(Mt,"groups",t,"players",d,"reports"),_=(await Uh(g)).docs.reduce((w,A)=>w+(A.data().endBB-A.data().buyInBB),0);l.push({uid:d,name:m,totalDiff:_})}l.sort((c,d)=>d.totalDiff-c.totalDiff),n(l)})()},[t]),T.jsxs("main",{className:"container mx-auto max-w-lg py-8 space-y-6",children:[T.jsx(oo,{level:2,children:"収支ランキング"}),T.jsxs("table",{className:"w-full text-sm",children:[T.jsx("thead",{className:"border-b bg-slate-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-4 py-2",children:"順位"}),T.jsx("th",{className:"px-4 py-2",children:"プレイヤー"}),T.jsx("th",{className:"px-4 py-2",children:"総Diff"})]})}),T.jsx("tbody",{children:e.map((r,s)=>T.jsxs("tr",{className:"border-b last:border-none",children:[T.jsx("td",{className:"px-4 py-2 text-center",children:s+1}),T.jsx("td",{className:"px-4 py-2",children:r.name}),T.jsxs("td",{className:`px-4 py-2 text-right ${r.totalDiff<0?"text-red-600":""}`,children:[r.totalDiff>=0?"+":"",r.totalDiff," BB"]})]},r.uid))})]})]})}function vq(){const{gid:t}=Yc(),[e,n]=S.useState([]);return S.useEffect(()=>{(async()=>{if(!t)return;const r=[],s=await Uh(ra(Mt,"groups",t,"players"));for(const l of s.docs){const c=l.id,d=l.data().displayName??c.slice(0,6);(await Uh(ra(Mt,"groups",t,"players",c,"reports"))).forEach(g=>{var _,w;const y=g.data();r.push({id:g.id,date:y.date,player:d,diff:y.endBB-y.buyInBB,updatedAt:((w=(_=y.updatedAt)==null?void 0:_.toDate)==null?void 0:w.call(_))??new Date(0)})})}r.sort((l,c)=>c.updatedAt.getTime()-l.updatedAt.getTime()),n(r)})()},[t]),T.jsxs("main",{className:"container mx-auto max-w-lg py-8 space-y-6",children:[T.jsx(oo,{level:2,children:"更新履歴"}),e.length===0?T.jsx("p",{className:"text-muted-foreground",children:"履歴がありません。"}):T.jsxs("table",{className:"w-full text-sm",children:[T.jsx("thead",{className:"border-b bg-slate-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-4 py-2",children:"日時"}),T.jsx("th",{className:"px-4 py-2",children:"日付"}),T.jsx("th",{className:"px-4 py-2",children:"プレイヤー"}),T.jsx("th",{className:"px-4 py-2",children:"Diff"})]})}),T.jsx("tbody",{children:e.map(r=>T.jsxs("tr",{className:"border-b last:border-none",children:[T.jsx("td",{className:"px-4 py-2",children:f9(r.updatedAt,"yyyy-MM-dd HH:mm")}),T.jsx("td",{className:"px-4 py-2 text-center",children:r.date}),T.jsx("td",{className:"px-4 py-2",children:r.player}),T.jsxs("td",{className:`px-4 py-2 text-right ${r.diff<0?"text-red-600":""}`,children:[r.diff>=0?"+":"",r.diff," BB"]})]},r.id))})]})]})}function _q(){return T.jsxs(UN,{children:[T.jsx(Gi,{path:"/",element:T.jsx(NU,{})}),T.jsx(Gi,{path:"/player",element:T.jsx(i3,{})}),T.jsx(Gi,{path:"/player/group/:gid",element:T.jsx(I9,{})}),T.jsx(Gi,{path:"/player/group/:gid/reports",element:T.jsx(dq,{})}),T.jsx(Gi,{path:"/admin",element:T.jsx(gq,{})}),T.jsx(Gi,{path:"/admin/group/:gid",element:T.jsx(pq,{})}),T.jsx(Gi,{path:"/admin/group/:gid/ranking",element:T.jsx(yq,{})}),T.jsx(Gi,{path:"/admin/group/:gid/history",element:T.jsx(vq,{})})]})}WO.createRoot(document.getElementById("root")).render(T.jsx(xn.StrictMode,{children:T.jsx(uM,{children:T.jsx(_q,{})})}));
